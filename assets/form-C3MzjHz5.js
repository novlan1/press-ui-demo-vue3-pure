import{d as fe,h as de}from"./deep-clone-CSdENBRV.js";import{_ as J,u as me,v as ie,y as Y,r as D,c as C,o as P,b as I,A as L,a as j,B as N,e as h,t as U,U as X,Q as ce,h as w,F as M,j as ee,d as te,H as R,as as pe}from"./index-LX1opRXz.js";import{P as ue}from"./press-action-sheet-D6kT4IIH.js";import{P as he}from"./press-checkbox-group-M150Arxe.js";import{P as ge}from"./press-checkbox-CqnUEp2Y.js";import{P as ye}from"./press-count-down-B1u9T-ou.js";import{P as be}from"./press-field-amJepTn2.js";import{g as _e}from"./parent-CQhE6Wqc.js";import{P as we,a as Pe}from"./press-radio-BRBxqmOX.js";import"./press-popup-r_znaG1q.js";import"./relation-dUVV9Di7.js";import"./utils-CTBTM213.js";function K(e,t){if(e){if(typeof t!="string"||t==="")return"";if(t.indexOf(".")!==-1){const i=t.split(".");let n=e[i[0]]||{};for(let r=1;r<i.length;r++)n&&(n=n[i[r]]);return n}return e[t]}}function oe(e,t,i){if(!e)return;const n=function(r,s,o){if(s.length===1){r[s[0]]=o;return}for(;s.length>1;){const l=s[0];(!r[l]||typeof r[l]!="object")&&(r[l]={}),s.shift(),n(r[l],s,o)}};if(!(typeof t!="string"||t===""))if(t.indexOf(".")!==-1){const r=t.split(".");n(e,r,i)}else e[t]=i}const qe={props:{customStyle:{type:[String,Object],default:""},label:{type:String,default:""},prop:{type:String,default:""},borderBottom:{type:Boolean,default:!0},labelPosition:{type:String,default:""},labelWidth:{type:[String,Number],default:""},rightIcon:{type:String,default:""},leftIcon:{type:String,default:""},required:{type:Boolean,default:!1},leftIconStyle:{type:[String,Object],default:""}}},xe={name:"PressFormItem",components:{PressIcon:ie},mixins:[qe],emits:["click"],data(){return{message:"",parentData:{labelPosition:"left",labelAlign:"left",labelStyle:{},labelWidth:45,errorType:"message"}}},computed:{propsLine(){return{color:"#d6d7d9",length:"100%",direction:"row",hairline:!0,margin:0,dashed:!1}},bodyStyle(){return Y([{flexDirection:(this.labelPosition||this.parentData.labelPosition)==="left"?"row":"column"},this.customStyle])},lineStyle(){const{message:e,parentData:t,propsLine:i}=this;return Y({marginTop:e&&t.errorType==="message"?"5px":0,color:e&&t.errorType==="border-bottom"?"#fa3534":i.color})}},mounted(){this.init()},methods:{init(){this.updateParentData(),this.parent},updateParentData(){_e.call(this,"PressForm")},clearValidate(){this.message=null},resetField(){const e=K(this.parent.originalModel,this.prop);oe(this.parent.model,this.prop,e),this.message=null},clickHandler(){this.$emit("click")},addUnit:me}},Fe={class:"press-form-item"},Ce={class:"press-form-item__body__left__content"},ve={key:0,class:"press-form-item__body__left__content__required"},Se={key:1,class:"press-form-item__body__left__content__icon"},Oe={class:"press-form-item__body__right"},De={class:"press-form-item__body__right__content"},Ae={class:"press-form-item__body__right__content__slot"},Ie={key:0,class:"item__body__right__content__icon"};function Ve(e,t,i,n,r,s){const o=D("PressIcon");return P(),C("div",Fe,[I("div",{class:"press-form-item__body",style:N(s.bodyStyle),onClick:t[0]||(t[0]=(...l)=>s.clickHandler&&s.clickHandler(...l))},[L(e.$slots,"label",{},()=>[e.required||e.leftIcon||e.label?(P(),C("div",{key:0,class:"press-form-item__body__left",style:N({width:s.addUnit(e.labelWidth||r.parentData.labelWidth),marginBottom:r.parentData.labelPosition==="left"?0:"5px"})},[I("div",Ce,[e.required?(P(),C("span",ve," * ")):j("",!0),e.leftIcon?(P(),C("div",Se,[h(o,{name:e.leftIcon,"custom-style":e.leftIconStyle},null,8,["name","custom-style"])])):j("",!0),I("span",{class:"press-form-item__body__left__content__label",style:N([r.parentData.labelStyle,{justifyContent:r.parentData.labelAlign==="left"?"flex-start":r.parentData.labelAlign==="center"?"center":"flex-end"}])},U(e.label),5)])],4)):j("",!0)],!0),I("div",Oe,[I("div",De,[I("div",Ae,[L(e.$slots,"default",{},void 0,!0)]),e.$slots.right?(P(),C("div",Ie,[L(e.$slots,"right",{},void 0,!0)])):j("",!0)])])],4),L(e.$slots,"error",{},()=>[r.message&&r.parentData.errorType==="message"?(P(),C("span",{key:0,class:"press-form-item__body__right__message",style:N({marginLeft:s.addUnit(r.parentData.labelPosition==="top"?0:e.labelWidth||r.parentData.labelWidth)})},U(r.message),5)):j("",!0)],!0),e.borderBottom?(P(),C("div",{key:0,style:N(s.lineStyle),class:"press-form-item__line"},null,4)):j("",!0)])}const Te=J(xe,[["render",Ve],["__scopeId","data-v-25a7e952"]]),ke=/%[sdj%]/g;let Ee=function(){};function z(e){if(!e||!e.length)return null;const t={};return e.forEach(i=>{const{field:n}=i;t[n]=t[n]||[],t[n].push(i)}),t}function S(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let n=1;const r=t[0],s=t.length;if(typeof r=="function")return r.apply(null,t.slice(1));if(typeof r=="string"){let o=String(r).replace(ke,l=>{if(l==="%%")return"%";if(n>=s)return l;switch(l){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch{return"[Circular]"}default:return l}});for(let l=t[n];n<s;l=t[++n])o+=` ${l}`;return o}return r}function je(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="pattern"}function u(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||je(t)&&typeof e=="string"&&!e)}function Re(e,t,i){const n=[];let r=0;const s=e.length;function o(l){n.push.apply(n,l),r+=1,r===s&&i(n)}e.forEach(l=>{t(l,o)})}function ne(e,t,i){let n=0;const r=e.length;function s(o){if(o&&o.length){i(o);return}const l=n;n+=1,l<r?t(e[l],s):i([])}s([])}function Be(e){const t=[];return Object.keys(e).forEach(i=>{t.push.apply(t,e[i])}),t}function Ne(e,t,i,n){if(t.first){const m=new Promise((y,q)=>{const x=function(a){return n(a),a.length?q({errors:a,fields:z(a)}):y()},f=Be(e);ne(f,i,x)});return m.catch(y=>y),m}let r=t.firstFields||[];r===!0&&(r=Object.keys(e));const s=Object.keys(e),o=s.length;let l=0;const _=[],g=new Promise((m,y)=>{const q=function(f){if(_.push.apply(_,f),l+=1,l===o)return n(_),_.length?y({errors:_,fields:z(_)}):m()};s.length||(n(_),m()),s.forEach(x=>{const f=e[x];r.indexOf(x)!==-1?ne(f,i,q):Re(f,i,q)})});return g.catch(m=>m),g}function re(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:typeof t=="function"?t():t,field:t.field||e.fullField}}}function se(e,t){if(t){for(const i in t)if(t.hasOwnProperty(i)){const n=t[i];typeof n=="object"&&typeof e[i]=="object"?e[i]={...e[i],...n}:e[i]=n}}return e}function ae(e,t,i,n,r,s){e.required&&(!i.hasOwnProperty(e.field)||u(t,s||e.type))&&n.push(S(r.messages.required,e.fullField))}function Me(e,t,i,n,r){(/^\s+$/.test(t)||t==="")&&n.push(S(r.messages.whitespace,e.fullField))}const G={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i};var le={integer:function(t){return/^(-)?\d+$/.test(t)},float:function(t){return/^(-)?\d+(\.\d+)?$/.test(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"},number:function(t){return isNaN(t)?!1:typeof+t=="number"},object:function(t){return typeof t=="object"&&!le.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&!!t.match(G.email)&&t.length<255},url:function(t){return typeof t=="string"&&!!t.match(G.url)},hex:function(t){return typeof t=="string"&&!!t.match(G.hex)}};function Le(e,t,i,n,r){if(e.required&&t===void 0){ae(e,t,i,n,r);return}const s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;s.indexOf(o)>-1?le[o](t)||n.push(S(r.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&n.push(S(r.messages.types[o],e.fullField,e.type))}function Ue(e,t,i,n,r){const s=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;let g=t,m=null;const y=typeof t=="number",q=typeof t=="string",x=Array.isArray(t);if(y?m="number":q?m="string":x&&(m="array"),!m)return!1;x&&(g=t.length),q&&(g=t.replace(_,"_").length),s?g!==e.len&&n.push(S(r.messages[m].len,e.fullField,e.len)):o&&!l&&g<e.min?n.push(S(r.messages[m].min,e.fullField,e.min)):l&&!o&&g>e.max?n.push(S(r.messages[m].max,e.fullField,e.max)):o&&l&&(g<e.min||g>e.max)&&n.push(S(r.messages[m].range,e.fullField,e.min,e.max))}const B="enum";function $e(e,t,i,n,r){e[B]=Array.isArray(e[B])?e[B]:[],e[B].indexOf(t)===-1&&n.push(S(r.messages[B],e.fullField,e[B].join(", ")))}function Ge(e,t,i,n,r){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||n.push(S(r.messages.pattern.mismatch,e.fullField,t,e.pattern))):typeof e.pattern=="string"&&(new RegExp(e.pattern).test(t)||n.push(S(r.messages.pattern.mismatch,e.fullField,t,e.pattern))))}const d={required:ae,whitespace:Me,type:Le,range:Ue,enum:$e,pattern:Ge};function We(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t,"string")&&!e.required)return i();d.required(e,t,n,s,r,"string"),u(t,"string")||(d.type(e,t,n,s,r),d.range(e,t,n,s,r),d.pattern(e,t,n,s,r),e.whitespace===!0&&d.whitespace(e,t,n,s,r))}i(s)}function Ke(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r),t!==void 0&&d.type(e,t,n,s,r)}i(s)}function ze(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(t===""&&(t=void 0),u(t)&&!e.required)return i();d.required(e,t,n,s,r),t!==void 0&&(d.type(e,t,n,s,r),d.range(e,t,n,s,r))}i(s)}function He(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r),t!==void 0&&d.type(e,t,n,s,r)}i(s)}function Je(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r),u(t)||d.type(e,t,n,s,r)}i(s)}function Ze(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r),t!==void 0&&(d.type(e,t,n,s,r),d.range(e,t,n,s,r))}i(s)}function Qe(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r),t!==void 0&&(d.type(e,t,n,s,r),d.range(e,t,n,s,r))}i(s)}function Ye(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t,"array")&&!e.required)return i();d.required(e,t,n,s,r,"array"),u(t,"array")||(d.type(e,t,n,s,r),d.range(e,t,n,s,r))}i(s)}function Xe(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r),t!==void 0&&d.type(e,t,n,s,r)}i(s)}const et="enum";function tt(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r),t!==void 0&&d[et](e,t,n,s,r)}i(s)}function nt(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t,"string")&&!e.required)return i();d.required(e,t,n,s,r),u(t,"string")||d.pattern(e,t,n,s,r)}i(s)}function rt(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();if(d.required(e,t,n,s,r),!u(t)){let l;typeof t=="number"?l=new Date(t):l=t,d.type(e,l,n,s,r),l&&d.range(e,l.getTime(),n,s,r)}}i(s)}function st(e,t,i,n,r){const s=[],o=Array.isArray(t)?"array":typeof t;d.required(e,t,n,s,r,o),i(s)}function W(e,t,i,n,r){const s=e.type,o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t,s)&&!e.required)return i();d.required(e,t,n,o,r,s),u(t,s)||d.type(e,t,n,o,r)}i(o)}function it(e,t,i,n,r){const s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,n,s,r)}i(s)}const $={string:We,method:Ke,number:ze,boolean:He,regexp:Je,integer:Ze,float:Qe,array:Ye,object:Xe,enum:tt,pattern:nt,date:rt,url:W,hex:W,email:W,required:st,any:it};function H(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){const t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}const Z=H();function V(e){this.rules=null,this._messages=Z,this.tDefine(e)}V.prototype={messages:function(t){return t&&(this._messages=se(H(),t)),this._messages},tDefine:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if(typeof t!="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};let i,n;for(i in t)t.hasOwnProperty(i)&&(n=t[i],this.rules[i]=Array.isArray(n)?n:[n])},validate:function(t,i,n){const r=this;i===void 0&&(i={}),n===void 0&&(n=function(){});let s=t,o=i,l=n;if(typeof o=="function"&&(l=o,o={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(),Promise.resolve();function _(f){let b,a=[],c={};function k(O){if(Array.isArray(O)){let F;a=(F=a).concat.apply(F,O)}else a.push(O)}for(b=0;b<f.length;b++)k(f[b]);a.length?c=z(a):(a=null,c=null),l(a,c)}if(o.messages){let f=this.messages();f===Z&&(f=H()),se(f,o.messages),o.messages=f}else o.messages=this.messages();let g,m;const y={};(o.keys||Object.keys(this.rules)).forEach(f=>{g=r.rules[f],m=s[f],g.forEach(b=>{let a=b;typeof a.transform=="function"&&(s===t&&(s={...s}),s[f]=a.transform(m),m=s[f]),typeof a=="function"?a={validator:a}:a={...a},a.validator=r.getValidationMethod(a),a.field=f,a.fullField=a.fullField||f,a.type=r.getType(a),a.validator&&(y[f]=y[f]||[],y[f].push({rule:a,value:m,source:s,field:f}))})});const x={};return Ne(y,o,(f,b)=>{const{rule:a}=f;let c=(a.type==="object"||a.type==="array")&&(typeof a.fields=="object"||typeof a.defaultField=="object");c=c&&(a.required||!a.required&&f.value),a.field=f.field;function k(E,p){return{...p,fullField:`${a.fullField}.${E}`}}function O(E){E===void 0&&(E=[]);let p=E;if(Array.isArray(p)||(p=[p]),!o.suppressWarning&&p.length&&V.warning("async-validator:",p),p.length&&a.message&&(p=[].concat(a.message)),p=p.map(re(a)),o.first&&p.length)return x[a.field]=1,b(p);if(!c)b(p);else{if(a.required&&!f.value)return a.message?p=[].concat(a.message).map(re(a)):o.error?p=[o.error(a,S(o.messages.required,a.field))]:p=[],b(p);let A={};if(a.defaultField)for(const v in f.value)f.value.hasOwnProperty(v)&&(A[v]=a.defaultField);A={...A,...f.rule.fields};for(const v in A)if(A.hasOwnProperty(v)){const T=Array.isArray(A[v])?A[v]:[A[v]];A[v]=T.map(k.bind(null,v))}const Q=new V(A);Q.messages(o.messages),f.rule.options&&(f.rule.options.messages=o.messages,f.rule.options.error=o.error),Q.validate(f.value,f.rule.options||o,v=>{const T=[];p&&p.length&&T.push.apply(T,p),v&&v.length&&T.push.apply(T,v),b(T.length?T:null)})}}let F;a.asyncValidator?F=a.asyncValidator(a,f.value,O,f.source,o):a.validator&&(F=a.validator(a,f.value,O,f.source,o),F===!0?O():F===!1?O(a.message||`${a.field} fails`):F instanceof Array?O(F):F instanceof Error&&O(F.message)),F&&F.then&&F.then(()=>O(),E=>O(E))},f=>{_(f)})},getType:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!$.hasOwnProperty(t.type))throw new Error(S("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if(typeof t.validator=="function")return t.validator;const i=Object.keys(t),n=i.indexOf("message");return n!==-1&&i.splice(n,1),i.length===1&&i[0]==="required"?$.required:$[this.getType(t)]||!1}};V.register=function(t,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");$[t]=i};V.warning=Ee;V.messages=Z;const ot={props:{model:{type:Object,default:()=>({})},rules:{type:[Object,Function,Array],default:()=>({})},errorType:{type:String,default:"message"},borderBottom:{type:Boolean,default:!0},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:45},labelAlign:{type:String,default:"left"},labelStyle:{type:Object,default:()=>({})}}};V.warning=function(){};const at={name:"PressForm",mixins:[ot],provide(){return{uForm:this}},data(){return{formRules:{},validator:{},originalModel:null}},computed:{propsChange(){return[this.errorType,this.borderBottom,this.labelPosition,this.labelWidth,this.labelAlign,this.labelStyle]}},watch:{rules:{immediate:!0,handler(e){this.setRules(e)}},propsChange(){var e;(e=this.children)!=null&&e.length&&this.children.map(t=>{typeof t.updateParentData=="function"&&t.updateParentData()})},model:{immediate:!0,deep:!0,handler(e){this.originalModel||(this.originalModel=fe(e))}}},created(){this.children=[]},methods:{setRules(e){Object.keys(e).length!==0&&(this.formRules=e,this.validator=new V(e),console.log("validator",this.validator))},resetFields(){this.resetModel()},resetModel(){this.children.map(e=>{const t=e==null?void 0:e.prop,i=K(this.originalModel,t);oe(this.model,t,i)})},clearValidate(e){e=[].concat(e),this.children.map(t=>{(e[0]===void 0||e.includes(t.prop))&&(t.message=null)})},async validateField(e,t,i=null){X(()=>{const n=[];e=[].concat(e),this.children.map(r=>{const s=[];if(e.includes(r.prop)){const o=K(this.model,r.prop),l=r.prop.split("."),_=l[l.length-1],g=this.formRules[r.prop];if(!g)return;const m=[].concat(g);for(let y=0;y<m.length;y++){const q=m[y],x=[].concat(q==null?void 0:q.trigger);if(i&&!x.includes(i))continue;new V({[_]:q}).validate({[_]:o},b=>{var a;Array.isArray(b)&&(n.push(...b),s.push(...b)),r.message=((a=s[0])==null?void 0:a.message)||null})}}}),typeof t=="function"&&t(n)})},validate(){return new Promise((e,t)=>{X(()=>{const i=this.children.map(n=>n.prop);this.validateField(i,n=>{n.length?(this.errorType==="toast"&&uni.showToast({title:n[0].message}),t(n)):e(!0)})})})}}},lt={class:"press-form"};function ft(e,t,i,n,r,s){return P(),C("div",lt,[L(e.$slots,"default")])}const dt=J(at,[["render",ft]]),mt=30*1e3,ct={components:{PressForm:dt,PressFormItem:Te,PressField:be,PressIcon:ie,PressCheckbox:ge,PressCheckboxGroup:he,PressRadio:Pe,PressRadioGroup:we,PressButton:ce,PressActionSheet:ue,PressCountDown:ye},onReady(){this.$refs.form1.setRules(this.rules)},data(){return{time:-1,timeData:{},fileList1:[],disabled1:!1,tips:"",value:"",showCalendar:!1,showBirthday:!1,showSex:!1,birthday:Number(new Date),model1:{userInfo:{name:"楼兰",sex:"",birthday:""},radiovalue1:"苹果",checkboxValue1:[],intro:"",code:""},actions:[{name:"男"},{name:"女"},{name:"保密"}],rules:{"userInfo.name":[{type:"string",required:!0,message:"请填写姓名",trigger:["blur","change"]},{validator:(e,t)=>pe(t),message:"姓名必须为中文",trigger:["change","blur"]}],code:{type:"string",required:!0,len:4,message:"请填写4位验证码",trigger:["blur"]},"userInfo.sex":{type:"string",max:1,required:!0,message:"请选择男或女",trigger:["blur","change"]},radiovalue1:{type:"string",min:1,max:2,message:"橙子有毒",trigger:["change"]},checkboxValue1:{type:"array",min:2,required:!0,message:"不能太宅，至少选两项",trigger:["change"]},intro:{type:"string",min:3,required:!0,message:"不低于3个字",trigger:["change"]},hotel:{type:"string",min:2,required:!0,message:"请选择住店时间",trigger:["change"]},"userInfo.birthday":{type:"string",required:!0,message:"请选择生日",trigger:["change"]}},radiolist1:[{name:"苹果",disabled:!1},{name:"香蕉",disabled:!1},{name:"毒橙子",disabled:!1}],checkboxList1:[{name:"羽毛球",disabled:!1},{name:"跑步",disabled:!1},{name:"爬山",disabled:!1}]}},computed:{isMp(){return!1}},methods:{onChange(e){console.log("value",e),this.model1.userInfo.name=e},afterRead(e){this.fileList1.push({url:e.file,status:"uploading",message:"上传中"})},groupChange(){},radioChange(){},navigateBack(){uni.navigateBack()},sexSelect(e){this.model1.userInfo.sex=e.name,this.$refs.form1.validateField("userInfo.sex")},change(e){this.model1.checkboxValue1=e},formatter(e){const t=new Date,i=t.getMonth()+1,n=t.getDate();return e.month==i&&e.day==n+3&&(e.bottomInfo="有优惠",e.dot=!0),e},calendarConfirm(e){this.showCalendar=!1,this.model1.hotel=`${e[0]} / ${e[e.length-1]}`,this.$refs.form1.validateField("hotel")},codeChange(e){this.tips=e},getCode(){this.time<=0||this.timeData.seconds<=0?(this.onGTip("验证码已发送"),this.time=0,setTimeout(()=>{this.time=mt})):this.onGTip("倒计时结束后再发送")},onChangeTime(e){this.timeData=e},calendarClose(){this.showCalendar=!1,this.$refs.form1.validateField("hotel")},birthdayClose(){this.showBirthday=!1,this.$refs.form1.validateField("userInfo.birthday")},birthdayConfirm(e){this.showBirthday=!1,this.model1.userInfo.birthday=uni.$u.timeFormat(e.value,"yyyy-mm-dd"),this.$refs.form1.validateField("userInfo.birthday")},submit(){this.$refs.form1.validate().then(e=>{console.log("[submit]",e),this.onGTip("校验通过")}).catch(e=>{console.log("[errors]",e),this.onGTip("校验失败")})},reset(){const e=["userInfo.name","userInfo.sex","radiovalue1","checkboxValue1","intro","hotel","code","userInfo.birthday"];this.$refs.form1.resetFields(),this.$refs.form1.clearValidate(),setTimeout(()=>{this.$refs.form1.clearValidate(e)},10)},hideKeyboard(){de()}}},pt={class:"demo-wrap"},ut={class:"countdown-wrap"},ht={class:"item"},gt={class:"submit-wrap"};function yt(e,t,i,n,r,s){const o=D("PressField"),l=D("PressFormItem"),_=D("PressIcon"),g=D("PressRadio"),m=D("PressRadioGroup"),y=D("PressCheckbox"),q=D("PressCheckboxGroup"),x=D("PressCountDown"),f=D("PressButton"),b=D("PressForm"),a=D("PressActionSheet");return P(),C("div",pt,[h(b,{ref:"form1","label-position":"left",rules:r.rules,model:r.model1},{default:w(()=>[h(l,{ref:"item1",label:"大名",prop:"userInfo.name","border-bottom":""},{default:w(()=>[h(o,{value:r.model1.userInfo.name,"model-value":r.model1.userInfo.name,border:!1,onChange:s.onChange},null,8,["value","model-value","onChange"])]),_:1},512),h(l,{ref:"item1",label:"性别",prop:"userInfo.sex","border-bottom":"",onClick:t[2]||(t[2]=c=>{r.showSex=!0,s.hideKeyboard()})},{right:w(()=>[h(_,{name:"arrow"})]),default:w(()=>[h(o,{modelValue:r.model1.userInfo.sex,"onUpdate:modelValue":t[0]||(t[0]=c=>r.model1.userInfo.sex=c),"disabled-color":"#ffffff",placeholder:"请选择性别",border:!1,readonly:!0,onClick:t[1]||(t[1]=c=>{r.showSex=!0,s.hideKeyboard()})},null,8,["modelValue"])]),_:1},512),h(l,{ref:"item2",label:"水果",prop:"radiovalue1","border-bottom":""},{default:w(()=>[h(m,{value:r.model1.radiovalue1,direction:"horizontal",onChange:t[3]||(t[3]=c=>r.model1.radiovalue1=c)},{default:w(()=>[(P(!0),C(M,null,ee(r.radiolist1,(c,k)=>(P(),te(g,{key:k,"custom-style":"margin-right: 16px",label:c.name,name:c.name},{default:w(()=>[R(U(c.name),1)]),_:2},1032,["label","name"]))),128))]),_:1},8,["value"])]),_:1},512),h(l,{ref:"item3",label:"兴趣爱好",prop:"checkboxValue1","border-bottom":"","label-width":"80"},{default:w(()=>[h(q,{value:r.model1.checkboxValue1,shape:"square",direction:"horizontal",onChange:s.change},{default:w(()=>[(P(!0),C(M,null,ee(r.checkboxList1,(c,k)=>(P(),te(y,{key:k,"custom-style":"margin-right: 16px",name:c.name},{default:w(()=>[R(U(c.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["value","onChange"])]),_:1},512),h(l,{ref:"item3",label:"简介",prop:"intro","border-bottom":""},{default:w(()=>[h(o,{modelValue:r.model1.intro,"onUpdate:modelValue":t[4]||(t[4]=c=>r.model1.intro=c),placeholder:"不低于3个字",count:"",type:"textarea","show-word-limit":"","always-embed":!0,maxlength:100,autosize:"",border:!1,"wrapper-style":"width: 100%"},null,8,["modelValue"])]),_:1},512),h(l,{label:"验证码",prop:"code","label-width":"80","border-bottom":""},{right:w(()=>[h(f,{type:"primary",size:"mini",disabled:r.disabled1,onClick:s.getCode},{default:w(()=>[h(x,{"use-slot":"",time:r.time,onChange:s.onChangeTime},{default:w(()=>[I("span",ut,[Object.keys(r.timeData).length?r.timeData.seconds<=0?(P(),C(M,{key:1},[R("重新获取")],64)):(P(),C(M,{key:2},[I("span",ht,U(r.timeData.seconds),1),t[7]||(t[7]=I("span",null,"秒重新获取",-1))],64)):(P(),C(M,{key:0},[R("获取信息")],64))])]),_:1},8,["time","onChange"])]),_:1},8,["disabled","onClick"])]),default:w(()=>[h(o,{modelValue:r.model1.code,"onUpdate:modelValue":t[5]||(t[5]=c=>r.model1.code=c),border:!1,placeholder:"请填写验证码"},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"]),h(a,{show:r.showSex,actions:r.actions,onClose:t[6]||(t[6]=c=>r.showSex=!1),onSelect:s.sexSelect},null,8,["show","actions","onSelect"]),I("div",gt,[h(f,{type:"primary","custom-style":"margin-right: 20px;width: 100px;",onClick:s.submit},{default:w(()=>t[8]||(t[8]=[R(" 提交 ")])),_:1},8,["onClick"]),h(f,{"custom-style":"width: 100px;",onClick:s.reset},{default:w(()=>t[9]||(t[9]=[R(" 重置 ")])),_:1},8,["onClick"])])])}const At=J(ct,[["render",yt],["__scopeId","data-v-3f1faf1c"]]);export{At as default};
