import{P as I}from"./press-icon-plus-CQ2xBHaz.js";import{P as z}from"./press-loading-plus-CMii1L-v.js";import{P as U}from"./press-loading-DJ4Jzh7I.js";import{b as v}from"./button-ge1sxQBA.js";import{b as L}from"./system-BWskc-Wq.js";import{u as w,i as y}from"./utils-C2tViYFs.js";import{s as b}from"./style-CpIyAjCl.js";import{d as O,a as E}from"./press-component-D9D_j5DA.js";import{_ as G,r as f,o as i,c as u,b as h,F as S,f as M,t as N,d as k,a as A,i as j,n as D,m as V,w as C}from"./index-BdSeS3mA.js";const P=["normal","large","small","mini"];function q(e){const s={},{size:o}=e;return o&&(o==="string"&&P.indexOf(o)<=-1?(s.height=o,s.width=o):typeof o=="object"&&(o.height&&(s.height=o.height),o.width&&(s.width=o.width))),s}function H(e){const s=q(e);if(!e.color)return b([s,e.customStyle]);const o={color:e.plain?e.color:"#fff",background:e.plain?null:e.color,...s};return e.color.indexOf("gradient")!==-1?o.border=0:o["border-color"]=e.color,b([o,e.customStyle])}function Z(e){return e.plain?e.color?e.color:"#c9c9c9":e.type==="default"?"#c9c9c9":"#fff"}const m={"e-sport-primary":["e-sport-primary"],"e-sport-primary-bg":["e-sport-primary","e-sport-bg"],"e-sport-primary-bg-lg":["e-sport-primary","e-sport-bg","e-sport-bg-lg"],"e-sport-primary-bg-xl":["e-sport-primary","e-sport-bg","e-sport-bg-xl"],"e-sport-secondary":["e-sport-secondary"],"e-sport-border":["e-sport-border"]},T=[v];L()&&T.push("wx://form-field-button");const J={name:"PressButton",options:{virtualHost:!0,...O,styleIsolation:"shared"},components:{PressIconPlus:I,PressLoadingPlus:z,PressLoading:U},mixins:T,props:{formType:{type:String,default:""},icon:{type:String,default:""},classPrefix:{type:String,default:"press-icon-plus"},plain:Boolean,block:Boolean,round:Boolean,square:Boolean,loading:{type:Boolean,default:!1},hairline:Boolean,disabled:Boolean,loadingText:{type:String,default:""},customStyle:{type:String,default:""},loadingType:{type:String,default:"circular"},type:{type:String,default:"default"},dataset:{type:[Object,null],default:null},size:{type:[String,Object],default:"normal"},loadingSize:{type:String,default:"20px"},color:{type:String,default:""},...E},emits:["click","getuserinfo"],data(){return{baseStyle:""}},computed:{isESportLoading(){return this.loading&&m[this.type]},buttonClass(){const{type:e,size:s,block:o,round:r,plain:a,square:n,loading:l,disabled:p,hairline:d,customClass:t}=this,B=P.indexOf(s)>-1?s:"";let g=[],c=e;if(m[e]&&(g=m[e],c=""),e.indexOf("-disabled")>-1){const F=e.replace("-disabled","");g=[...m[F],"e-sport-disabled"]}return`${t} ${w.bem2("button",[c,B,...g,{block:o,round:r,plain:a,square:n,loading:l,disabled:p,hairline:d,unclickable:p||l}])} ${d?"press-hairline--surround":""}`},buttonStyle(){const{plain:e,color:s,customStyle:o,size:r}=this;return H({plain:e,color:s,customStyle:o,size:r})},loadingColor(){const{type:e,color:s,plain:o}=this;return Z({type:e,color:s,plain:o})}},methods:{onFakeClick(e){y()&&this.realFakeClick(e)},realFakeClick(e){const{disabled:s,loading:o}=this;s||o||this.onClick(e)},onFakeTap(e){y()||this.realFakeClick(e)},onClick(e){this.$emit("click",e);const{canIUseGetUserProfile:s,openType:o,getUserProfileDesc:r,lang:a}=this;o==="getUserInfo"&&s&&uni.getUserProfile({desc:r||"  ",lang:a||"en",complete:n=>{this.$emit("getuserinfo",n)}})}}},K=["id","data-detail","hover-class","lang","form-type","open-type","business-id","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","aria-label"],Q={key:0,class:"press-button__loading-text"},R={class:"press-button__text"};function W(e,s,o,r,a,n){const l=f("PressLoading"),p=f("press-loading-plus"),d=f("press-icon-plus");return i(),u("Button",{id:e.id,"data-detail":o.dataset,class:D(n.buttonClass),"hover-class":["press-button--active",e.hoverClass],lang:e.lang,"form-type":o.formType,style:V(n.buttonStyle),"open-type":o.disabled||o.loading||e.canIUseGetUserProfile&&e.openType==="getUserInfo"?"":e.openType,"business-id":e.businessId,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,"aria-label":e.ariaLabel,onClick:s[0]||(s[0]=C((...t)=>n.onFakeClick&&n.onFakeClick(...t),["stop"])),onTap:s[1]||(s[1]=C((...t)=>n.onFakeTap&&n.onFakeTap(...t),["stop"])),onGetuserinfo:s[2]||(s[2]=(...t)=>e.onGetUserInfo&&e.onGetUserInfo(...t)),onContact:s[3]||(s[3]=(...t)=>e.onContact&&e.onContact(...t)),onGetphonenumber:s[4]||(s[4]=(...t)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...t)),onError:s[5]||(s[5]=(...t)=>e.onError&&e.onError(...t)),onLaunchapp:s[6]||(s[6]=(...t)=>e.onLaunchApp&&e.onLaunchApp(...t)),onOpensetting:s[7]||(s[7]=(...t)=>e.onOpenSetting&&e.onOpenSetting(...t)),onChooseavatar:s[8]||(s[8]=(...t)=>e.onChooseAvatar&&e.onChooseAvatar(...t))},[n.isESportLoading?(i(),h(l,{key:0,"loading-scenes":"btn"})):o.loading?(i(),u(S,{key:1},[M(p,{"custom-class":e.loadingClass,size:o.loadingSize,type:o.loadingType,color:n.loadingColor},null,8,["custom-class","size","type","color"]),o.loadingText?(i(),u("div",Q,N(o.loadingText),1)):k("",!0)],64)):(i(),u(S,{key:2},[o.icon?(i(),h(d,{key:0,size:"1.2em",name:o.icon,"class-prefix":o.classPrefix,class:"press-button__icon","custom-style":"line-height: inherit;"},null,8,["name","class-prefix"])):k("",!0),A("div",R,[j(e.$slots,"default",{},void 0,!0)])],64))],46,K)}const ne=G(J,[["render",W],["__scopeId","data-v-8221652a"]]);export{ne as P};
