import{g as w}from"./act-bem-hi9TDZSH.js";import{_ as d,o as u,c as C,a as o,x as a,w as r,t as h,p as A,e as y,f as m,n as b,b as S,d as v,r as f}from"./index-C4ERlhP1.js";import{i as P}from"./h5-handler-BVwoqs1-.js";import"./validator-CnMMiRE6.js";import"./component-handler-wymOMs8x.js";const D={popup:"tip-match-bottom-popup-wrap",mask:"tip-match-mask","mask--fade-in":"tip-match-fade-in","mask--fade-out":"tip-match-fade-out",content:"tip-match-popup-content","content--bottom-enter":"tip-match-bottom-enter","content--bottom-leave":"tip-match-bottom-leave",title:"tip-match-title",close:"tip-match-close",logo:"tip-match-auth-logo",desc:"tip-match-tip-desc",button:"tip-match-auth-btn"};function B(e,s){return w(e,D,s)}const T={name:"PressAuthLogin",components:{},props:{logo:{type:String,default:"https://image-1251917893.file.myqcloud.com/Esports/common/gamers.png",required:!1},tipDesc:{type:String,default:"授权登录获得更多服务",required:!1},btnText:{type:String,default:"授权登录",required:!1},validateConfirm:{type:Function,default:null},isShow:{type:Boolean,default:!0,required:!1},afterCancel:{type:Function,default:()=>{}},afterConfirm:{type:Function,default:()=>{}},isShowByFunction:{type:Boolean,default:!1},useTipClass:{type:Boolean,default:!1}},data(){return{isShowPopup:!0,timer:0}},watch:{isShow(e){this.isShowPopup=e}},mounted(){},beforeDestroy(){clearTimeout(this.timer)},methods:{closeDialog(){return new Promise(e=>{this.isShowPopup=!1,clearTimeout(this.timer),this.timer=setTimeout(()=>{this.isShowByFunction&&(this.$destroy(),document.body.contains(this.$el)&&document.body.removeChild(this.$el)),e()},400)})},clickCancel(){this.closeDialog().then(()=>{this.afterCancel&&this.afterCancel()})},clickConfirm(){typeof this.validateConfirm=="function"&&!this.validateConfirm()||this.closeDialog().then(()=>{this.afterConfirm&&this.afterConfirm()})},getActClass(...e){return B(this.useTipClass,e)}}},F=e=>(A("data-v-fe7e2305"),e=e(),y(),e),x=F(()=>o("p",null,"登录提示",-1)),I=["src"];function L(e,s,c,g,n,t){return u(),C("div",{class:a([t.getActClass("popup")])},[o("div",{class:a([t.getActClass("mask"),n.isShowPopup?t.getActClass("mask--fade-in"):t.getActClass("mask--fade-out")]),onClick:s[0]||(s[0]=r((...i)=>t.clickCancel&&t.clickCancel(...i),["stop"]))},null,2),o("div",{class:a([t.getActClass("content"),n.isShowPopup?t.getActClass("content--bottom-enter"):t.getActClass("content--bottom-leave")])},[o("div",{class:a([t.getActClass("title")])},[o("div",{class:a([t.getActClass("close")]),onClick:s[1]||(s[1]=r((...i)=>t.clickCancel&&t.clickCancel(...i),["stop"]))},null,2),x],2),o("img",{src:c.logo,class:a([t.getActClass("logo")]),alt:"logo"},null,10,I),o("p",{class:a([t.getActClass("desc")])},h(c.tipDesc),3),o("div",{class:a([t.getActClass("button")]),onClick:s[2]||(s[2]=r(i=>t.clickConfirm(),["stop"]))},h(c.btnText),3)],2)],2)}const p=d(T,[["render",L],["__scopeId","data-v-fe7e2305"]]);let l;const q={components:{PressAuthLogin:p},data(){return l=this,{show:!1}},mounted(){},methods:{showDialog(){this.show=!0},showFunctionalDialog(){P(p,"press-auth-login",{isShowByFunction:!0,afterCancel:this.afterCancel,afterConfirm:this.afterConfirm})},afterCancel(){l.onGTip("[afterCancel]"),l.show=!1},afterConfirm(){l.onGTip("[afterConfirm]"),l.show=!1}}},N={class:"demo-wrap"};function V(e,s,c,g,n,t){const i=f("press-cell"),k=f("demo-block"),_=f("PressAuthLogin");return u(),C("div",N,[m(k,{title:e.t("basicUsage")},{default:b(()=>[m(i,{title:"展示","is-link":"",onClick:t.showDialog},null,8,["onClick"]),m(i,{title:"函数式调用","is-link":"",onClick:t.showFunctionalDialog},null,8,["onClick"])]),_:1},8,["title"]),n.show?(u(),S(_,{key:0,"after-cancel":t.afterCancel,"after-confirm":t.afterConfirm},null,8,["after-cancel","after-confirm"])):v("",!0)])}const U=d(q,[["render",V]]);export{U as default};
