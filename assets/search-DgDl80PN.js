import{P as p}from"./press-field-CeU0lTBo.js";import{u as v}from"./utils-Do31p4kb.js";import{t as k}from"./index-8MGmyJdE.js";import{_ as y,r as f,o as i,c as u,a as C,x as d,t as m,y as h,f as a,n as o,d as g,v as _}from"./index-BXJiSO9X.js";import"./press-cell-CXncsEZw.js";import"./press-icon-plus-BVVeYod4.js";import"./add-unit-Df5pRFBE.js";import"./press-info-CaSyg39j.js";import"./press-component-DoZYj-_b.js";import"./link-Ds6ljOst.js";import"./event-_7uzVFJT.js";import"./support-passive-CNRHRm4O.js";const B={name:"PressSearch",components:{PressField:p},field:!0,props:{value:{type:String,default:""},label:{type:String,default:""},focus:Boolean,error:Boolean,disabled:Boolean,readonly:Boolean,inputAlign:{type:String,default:""},showAction:Boolean,useActionSlot:Boolean,useLeftIconSlot:Boolean,useRightIconSlot:Boolean,leftIcon:{type:String,default:"search"},rightIcon:{type:String,default:""},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},actionText:{type:String,default:k("cancel")},background:{type:String,default:"#ffffff"},maxlength:{type:Number,default:-1},shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},clearTrigger:{type:String,default:"focus"},clearIcon:{type:String,default:"clear"},customClass:{type:String,default:""},fieldClass:{type:String,default:""},inputClass:{type:String,default:""},cancelClass:{type:String,default:""}},emits:["change","cancel","search","focus","blur","clear","click-input"],data(){return{utils:v,innerValue:this.value}},computed:{fieldBaseClass(){return`press-search__field ${this.fieldClass}`},fieldCustomClass(){return""}},watch:{value:{handler(e){this.innerValue=e}}},methods:{onChange(e){typeof e=="string"&&(this.innerValue=e,this.$emit("change",e))},onCancel(){setTimeout(()=>{this.$emit("cancel"),this.$emit("change","")},200)},onSearch(e){this.$emit("search",e)},onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")},onClear(){this.innerValue="",this.onChange(this.innerValue),this.$emit("clear")},onClickInput(){this.$emit("click-input")}}},I={class:"press-search-index"},A={key:0,class:"press-search__label"},T={key:0,class:"press-search__action","hover-class":"press-search__action--hover","hover-stay-time":"70"};function V(e,s,l,S,t,n){const c=f("PressField");return i(),u("div",I,[C("div",{class:d([l.customClass,t.utils.bem2("search",{withaction:l.showAction||l.useActionSlot})]),style:_("background: "+l.background)},[C("div",{class:d([t.utils.bem2("search__content",[l.shape])])},[l.label?(i(),u("div",A,m(l.label),1)):h(e.$slots,"label",{key:1},void 0,!0),a(c,{type:"search","left-icon":l.useLeftIconSlot?"":l.leftIcon,"right-icon":l.useRightIconSlot?"":l.rightIcon,focus:l.focus,error:l.error,border:!1,"confirm-type":"search",class:d(n.fieldBaseClass),"custom-class":n.fieldCustomClass,value:t.innerValue,disabled:l.disabled,readonly:l.readonly,clearable:l.clearable,"clear-trigger":l.clearTrigger,"clear-icon":l.clearIcon,maxlength:l.maxlength,"input-align":l.inputAlign,"input-class":l.inputClass,placeholder:l.placeholder,"placeholder-style":l.placeholderStyle,"custom-style":"padding: 5px 10px 5px 0; background-color: transparent;",onBlur:n.onBlur,onFocus:n.onFocus,onChange:n.onChange,onConfirm:n.onSearch,onClear:n.onClear,onClickInput:n.onClickInput},{"left-icon":o(()=>[l.useLeftIconSlot?h(e.$slots,"left-icon",{key:0},void 0,!0):g("",!0)]),"right-icon":o(()=>[l.useRightIconSlot?h(e.$slots,"right-icon",{key:0},void 0,!0):g("",!0)]),_:3},8,["left-icon","right-icon","focus","error","class","custom-class","value","disabled","readonly","clearable","clear-trigger","clear-icon","maxlength","input-align","input-class","placeholder","placeholder-style","onBlur","onFocus","onChange","onConfirm","onClear","onClickInput"])],2),l.showAction||l.useActionSlot?(i(),u("div",T,[l.useActionSlot?h(e.$slots,"action",{key:0},void 0,!0):(i(),u("div",{key:1,class:d(l.cancelClass),onClick:s[0]||(s[0]=(...r)=>n.onCancel&&n.onCancel(...r))},m(l.actionText),3))])):g("",!0)],6)])}const w=y(B,[["render",V],["__scopeId","data-v-762b7ec1"]]),F={i18n:{"zh-CN":{label:"地址",disabled:"禁用搜索框",inputAlign:"搜索框内容对齐",background:"自定义背景色",placeholder:"请输入搜索关键词",customButton:"自定义按钮",listenToEvents:"事件监听"},"en-US":{label:"Address",disabled:"Disabled",inputAlign:"Input Align",background:"Custom Background Color",placeholder:"Placeholder",customButton:"Custom Action Button",listenToEvents:"Listen to Events"}},components:{PressSearch:w},data(){return{value:""}},methods:{onChange(e){typeof e=="string"&&this.onGTip(`${e}`)},onCancel(){this.onGTip("cancel")},onSearch(){this.onGTip("search")},onClick(){this.onGTip("click")}}},P={class:"demo-wrap"};function E(e,s,l,S,t,n){const c=f("press-search"),r=f("demo-block");return i(),u("div",P,[a(r,{title:e.t("basicUsage")},{default:o(()=>[a(c,{value:t.value,placeholder:e.t("placeholder"),onChange:n.onChange},null,8,["value","placeholder","onChange"])]),_:1},8,["title"]),a(r,{title:e.t("listenToEvents")},{default:o(()=>[a(c,{value:t.value,placeholder:e.t("placeholder"),"show-action":"",onSearch:n.onSearch,onCancel:n.onCancel,onChange:n.onChange},null,8,["value","placeholder","onSearch","onCancel","onChange"])]),_:1},8,["title"]),a(r,{title:e.t("inputAlign")},{default:o(()=>[a(c,{value:t.value,placeholder:e.t("placeholder"),"input-align":"center",onSearch:n.onSearch,onCancel:n.onCancel,onChange:n.onChange},null,8,["value","placeholder","onSearch","onCancel","onChange"])]),_:1},8,["title"]),a(r,{title:e.t("disabled")},{default:o(()=>[a(c,{value:t.value,disabled:"",placeholder:e.t("placeholder"),onChange:n.onChange},null,8,["value","placeholder","onChange"])]),_:1},8,["title"]),a(r,{title:e.t("background")},{default:o(()=>[a(c,{value:t.value,shape:"round",background:"#4fc08d",placeholder:e.t("placeholder"),onChange:n.onChange},null,8,["value","placeholder","onChange"])]),_:1},8,["title"]),a(r,{title:e.t("customButton")},{default:o(()=>[a(c,{value:t.value,label:e.t("label"),"use-action-slot":"",placeholder:e.t("placeholder"),onChange:n.onChange},{action:o(()=>[C("div",{onClick:s[0]||(s[0]=(...b)=>n.onClick&&n.onClick(...b))},m(e.t("search")),1)]),_:1},8,["value","label","placeholder","onChange"])]),_:1},8,["title"])])}const M=y(F,[["render",E]]);export{M as default};
