import{a as fe,b as de}from"./add-unit-B8Dm0KXN.js";import{d as me,h as ce}from"./hide-keyboard-C8IyaV9i.js";import{n as Q}from"./adapter-CjQLvGzT.js";import{_ as J,o as P,c as v,i as L,r as I,a as D,m as N,d as j,f as h,t as $,l as w,F as M,y as X,b as ee,A as R,p as pe,e as ue}from"./index-BOnk8Yuo.js";import{g as he}from"./parent-CQhE6Wqc.js";import{s as te}from"./style-CpIyAjCl.js";import{P as ie}from"./press-icon-plus-C7Qb4xCs.js";import{P as ge}from"./press-field-D4RcMBVa.js";import{P as ye}from"./press-checkbox-CCXpFjwA.js";import{P as be}from"./press-checkbox-group-vUxDRQWN.js";import{P as _e,a as we}from"./press-radio-group-BpSdcN-m.js";import{P as Pe}from"./press-button-LyBgRGzR.js";import{P as qe}from"./press-action-sheet-DWxS4o8R.js";import{P as xe}from"./press-count-down-C_rV8sDN.js";import"./utils-C2tViYFs.js";import"./press-info-C1OldtTD.js";import"./press-component-D9D_j5DA.js";import"./press-cell-LnXP5uWR.js";import"./link-BfUqlCTp.js";import"./event-CpAS7Alu.js";import"./support-passive-CNRHRm4O.js";import"./relation-Ce8eT7mn.js";import"./parent-map-_1jD1UtF.js";import"./system-BWskc-Wq.js";import"./press-loading-plus-Ckw1pTMZ.js";import"./press-loading-Cr8EnK_G.js";import"./button-ge1sxQBA.js";import"./press-popup-plus-CAlnf1mi.js";import"./press-overlay-DPlsZobI.js";import"./press-transition-DJmmBKFt.js";const Fe={props:{model:{type:Object,default:()=>({})},rules:{type:[Object,Function,Array],default:()=>({})},errorType:{type:String,default:"message"},borderBottom:{type:Boolean,default:!0},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:45},labelAlign:{type:String,default:"left"},labelStyle:{type:Object,default:()=>({})}}};const ve=/%[sdj%]/g;let Ce=function(){};function z(e){if(!e||!e.length)return null;const t={};return e.forEach(i=>{const{field:r}=i;t[r]=t[r]||[],t[r].push(i)}),t}function S(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let r=1;const n=t[0],s=t.length;if(typeof n=="function")return n.apply(null,t.slice(1));if(typeof n=="string"){let o=String(n).replace(ve,l=>{if(l==="%%")return"%";if(r>=s)return l;switch(l){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return l}});for(let l=t[r];r<s;l=t[++r])o+=` ${l}`;return o}return n}function Se(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="pattern"}function u(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Se(t)&&typeof e=="string"&&!e)}function Oe(e,t,i){const r=[];let n=0;const s=e.length;function o(l){r.push.apply(r,l),n++,n===s&&i(r)}e.forEach(l=>{t(l,o)})}function re(e,t,i){let r=0;const n=e.length;function s(o){if(o&&o.length){i(o);return}const l=r;r+=1,l<n?t(e[l],s):i([])}s([])}function Ie(e){const t=[];return Object.keys(e).forEach(i=>{t.push.apply(t,e[i])}),t}function Ae(e,t,i,r){if(t.first){const m=new Promise((y,q)=>{const x=function(a){return r(a),a.length?q({errors:a,fields:z(a)}):y()},f=Ie(e);re(f,i,x)});return m.catch(y=>y),m}let n=t.firstFields||[];n===!0&&(n=Object.keys(e));const s=Object.keys(e),o=s.length;let l=0;const _=[],g=new Promise((m,y)=>{const q=function(f){if(_.push.apply(_,f),l++,l===o)return r(_),_.length?y({errors:_,fields:z(_)}):m()};s.length||(r(_),m()),s.forEach(x=>{const f=e[x];n.indexOf(x)!==-1?re(f,i,q):Oe(f,i,q)})});return g.catch(m=>m),g}function ne(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:typeof t=="function"?t():t,field:t.field||e.fullField}}}function se(e,t){if(t){for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];typeof r=="object"&&typeof e[i]=="object"?e[i]={...e[i],...r}:e[i]=r}}return e}function oe(e,t,i,r,n,s){e.required&&(!i.hasOwnProperty(e.field)||u(t,s||e.type))&&r.push(S(n.messages.required,e.fullField))}function De(e,t,i,r,n){(/^\s+$/.test(t)||t==="")&&r.push(S(n.messages.whitespace,e.fullField))}const G={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i};var ae={integer:function(t){return/^(-)?\d+$/.test(t)},float:function(t){return/^(-)?\d+(\.\d+)?$/.test(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"},number:function(t){return isNaN(t)?!1:typeof+t=="number"},object:function(t){return typeof t=="object"&&!ae.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&!!t.match(G.email)&&t.length<255},url:function(t){return typeof t=="string"&&!!t.match(G.url)},hex:function(t){return typeof t=="string"&&!!t.match(G.hex)}};function Ve(e,t,i,r,n){if(e.required&&t===void 0){oe(e,t,i,r,n);return}const s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;s.indexOf(o)>-1?ae[o](t)||r.push(S(n.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(S(n.messages.types[o],e.fullField,e.type))}function ke(e,t,i,r,n){const s=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;let g=t,m=null;const y=typeof t=="number",q=typeof t=="string",x=Array.isArray(t);if(y?m="number":q?m="string":x&&(m="array"),!m)return!1;x&&(g=t.length),q&&(g=t.replace(_,"_").length),s?g!==e.len&&r.push(S(n.messages[m].len,e.fullField,e.len)):o&&!l&&g<e.min?r.push(S(n.messages[m].min,e.fullField,e.min)):l&&!o&&g>e.max?r.push(S(n.messages[m].max,e.fullField,e.max)):o&&l&&(g<e.min||g>e.max)&&r.push(S(n.messages[m].range,e.fullField,e.min,e.max))}const B="enum";function Te(e,t,i,r,n){e[B]=Array.isArray(e[B])?e[B]:[],e[B].indexOf(t)===-1&&r.push(S(n.messages[B],e.fullField,e[B].join(", ")))}function Ee(e,t,i,r,n){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(S(n.messages.pattern.mismatch,e.fullField,t,e.pattern))):typeof e.pattern=="string"&&(new RegExp(e.pattern).test(t)||r.push(S(n.messages.pattern.mismatch,e.fullField,t,e.pattern))))}const d={required:oe,whitespace:De,type:Ve,range:ke,enum:Te,pattern:Ee};function je(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t,"string")&&!e.required)return i();d.required(e,t,r,s,n,"string"),u(t,"string")||(d.type(e,t,r,s,n),d.range(e,t,r,s,n),d.pattern(e,t,r,s,n),e.whitespace===!0&&d.whitespace(e,t,r,s,n))}i(s)}function Re(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n),t!==void 0&&d.type(e,t,r,s,n)}i(s)}function Be(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(t===""&&(t=void 0),u(t)&&!e.required)return i();d.required(e,t,r,s,n),t!==void 0&&(d.type(e,t,r,s,n),d.range(e,t,r,s,n))}i(s)}function Ne(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n),t!==void 0&&d.type(e,t,r,s,n)}i(s)}function Me(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n),u(t)||d.type(e,t,r,s,n)}i(s)}function Le(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n),t!==void 0&&(d.type(e,t,r,s,n),d.range(e,t,r,s,n))}i(s)}function $e(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n),t!==void 0&&(d.type(e,t,r,s,n),d.range(e,t,r,s,n))}i(s)}function Ue(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t,"array")&&!e.required)return i();d.required(e,t,r,s,n,"array"),u(t,"array")||(d.type(e,t,r,s,n),d.range(e,t,r,s,n))}i(s)}function Ge(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n),t!==void 0&&d.type(e,t,r,s,n)}i(s)}const We="enum";function ze(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n),t!==void 0&&d[We](e,t,r,s,n)}i(s)}function Ke(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t,"string")&&!e.required)return i();d.required(e,t,r,s,n),u(t,"string")||d.pattern(e,t,r,s,n)}i(s)}function He(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();if(d.required(e,t,r,s,n),!u(t)){let l;typeof t=="number"?l=new Date(t):l=t,d.type(e,l,r,s,n),l&&d.range(e,l.getTime(),r,s,n)}}i(s)}function Je(e,t,i,r,n){const s=[],o=Array.isArray(t)?"array":typeof t;d.required(e,t,r,s,n,o),i(s)}function W(e,t,i,r,n){const s=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t,s)&&!e.required)return i();d.required(e,t,r,o,n,s),u(t,s)||d.type(e,t,r,o,n)}i(o)}function Ze(e,t,i,r,n){const s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(u(t)&&!e.required)return i();d.required(e,t,r,s,n)}i(s)}const U={string:je,method:Re,number:Be,boolean:Ne,regexp:Me,integer:Le,float:$e,array:Ue,object:Ge,enum:ze,pattern:Ke,date:He,url:W,hex:W,email:W,required:Je,any:Ze};function K(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){const t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}const Z=K();function V(e){this.rules=null,this._messages=Z,this.define(e)}V.prototype={messages:function(t){return t&&(this._messages=se(K(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if(typeof t!="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};let i,r;for(i in t)t.hasOwnProperty(i)&&(r=t[i],this.rules[i]=Array.isArray(r)?r:[r])},validate:function(t,i,r){const n=this;i===void 0&&(i={}),r===void 0&&(r=function(){});let s=t,o=i,l=r;if(typeof o=="function"&&(l=o,o={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(),Promise.resolve();function _(f){let b,a=[],c={};function T(O){if(Array.isArray(O)){let F;a=(F=a).concat.apply(F,O)}else a.push(O)}for(b=0;b<f.length;b++)T(f[b]);a.length?c=z(a):(a=null,c=null),l(a,c)}if(o.messages){let f=this.messages();f===Z&&(f=K()),se(f,o.messages),o.messages=f}else o.messages=this.messages();let g,m;const y={};(o.keys||Object.keys(this.rules)).forEach(f=>{g=n.rules[f],m=s[f],g.forEach(b=>{let a=b;typeof a.transform=="function"&&(s===t&&(s={...s}),m=s[f]=a.transform(m)),typeof a=="function"?a={validator:a}:a={...a},a.validator=n.getValidationMethod(a),a.field=f,a.fullField=a.fullField||f,a.type=n.getType(a),a.validator&&(y[f]=y[f]||[],y[f].push({rule:a,value:m,source:s,field:f}))})});const x={};return Ae(y,o,(f,b)=>{const{rule:a}=f;let c=(a.type==="object"||a.type==="array")&&(typeof a.fields=="object"||typeof a.defaultField=="object");c=c&&(a.required||!a.required&&f.value),a.field=f.field;function T(E,p){return{...p,fullField:`${a.fullField}.${E}`}}function O(E){E===void 0&&(E=[]);let p=E;if(Array.isArray(p)||(p=[p]),!o.suppressWarning&&p.length&&V.warning("async-validator:",p),p.length&&a.message&&(p=[].concat(a.message)),p=p.map(ne(a)),o.first&&p.length)return x[a.field]=1,b(p);if(!c)b(p);else{if(a.required&&!f.value)return a.message?p=[].concat(a.message).map(ne(a)):o.error?p=[o.error(a,S(o.messages.required,a.field))]:p=[],b(p);let A={};if(a.defaultField)for(const C in f.value)f.value.hasOwnProperty(C)&&(A[C]=a.defaultField);A={...A,...f.rule.fields};for(const C in A)if(A.hasOwnProperty(C)){const k=Array.isArray(A[C])?A[C]:[A[C]];A[C]=k.map(T.bind(null,C))}const Y=new V(A);Y.messages(o.messages),f.rule.options&&(f.rule.options.messages=o.messages,f.rule.options.error=o.error),Y.validate(f.value,f.rule.options||o,C=>{const k=[];p&&p.length&&k.push.apply(k,p),C&&C.length&&k.push.apply(k,C),b(k.length?k:null)})}}let F;a.asyncValidator?F=a.asyncValidator(a,f.value,O,f.source,o):a.validator&&(F=a.validator(a,f.value,O,f.source,o),F===!0?O():F===!1?O(a.message||`${a.field} fails`):F instanceof Array?O(F):F instanceof Error&&O(F.message)),F&&F.then&&F.then(()=>O(),E=>O(E))},f=>{_(f)})},getType:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!U.hasOwnProperty(t.type))throw new Error(S("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if(typeof t.validator=="function")return t.validator;const i=Object.keys(t),r=i.indexOf("message");return r!==-1&&i.splice(r,1),i.length===1&&i[0]==="required"?U.required:U[this.getType(t)]||!1}};V.register=function(t,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");U[t]=i};V.warning=Ce;V.messages=Z;function H(e,t){if(e){if(typeof t!="string"||t==="")return"";if(t.indexOf(".")!==-1){const i=t.split(".");let r=e[i[0]]||{};for(let n=1;n<i.length;n++)r&&(r=r[i[n]]);return r}return e[t]}}function le(e,t,i){if(!e)return;const r=function(n,s,o){if(s.length===1){n[s[0]]=o;return}for(;s.length>1;){const l=s[0];(!n[l]||typeof n[l]!="object")&&(n[l]={}),s.shift(),r(n[l],s,o)}};if(!(typeof t!="string"||t===""))if(t.indexOf(".")!==-1){const n=t.split(".");r(e,n,i)}else e[t]=i}V.warning=function(){};const Ye={name:"PressForm",mixins:[Fe],provide(){return{uForm:this}},data(){return{formRules:{},validator:{},originalModel:null}},computed:{propsChange(){return[this.errorType,this.borderBottom,this.labelPosition,this.labelWidth,this.labelAlign,this.labelStyle]}},watch:{rules:{immediate:!0,handler(e){this.setRules(e)}},propsChange(){var e;(e=this.children)!=null&&e.length&&this.children.map(t=>{typeof t.updateParentData=="function"&&t.updateParentData()})},model:{immediate:!0,deep:!0,handler(e){this.originalModel||(this.originalModel=me(e))}}},created(){this.children=[]},methods:{setRules(e){Object.keys(e).length!==0&&(this.formRules=e,this.validator=new V(e),console.log("validator",this.validator))},resetFields(){this.resetModel()},resetModel(){this.children.map(e=>{const t=e==null?void 0:e.prop,i=H(this.originalModel,t);le(this.model,t,i)})},clearValidate(e){e=[].concat(e),this.children.map(t=>{(e[0]===void 0||e.includes(t.prop))&&(t.message=null)})},async validateField(e,t,i=null){Q(()=>{const r=[];e=[].concat(e),this.children.map(n=>{const s=[];if(e.includes(n.prop)){const o=H(this.model,n.prop),l=n.prop.split("."),_=l[l.length-1],g=this.formRules[n.prop];if(!g)return;const m=[].concat(g);for(let y=0;y<m.length;y++){const q=m[y],x=[].concat(q==null?void 0:q.trigger);if(i&&!x.includes(i))continue;new V({[_]:q}).validate({[_]:o},b=>{var a;Array.isArray(b)&&(r.push(...b),s.push(...b)),n.message=((a=s[0])==null?void 0:a.message)||null})}}}),typeof t=="function"&&t(r)})},validate(){return new Promise((e,t)=>{Q(()=>{const i=this.children.map(r=>r.prop);this.validateField(i,r=>{r.length?(this.errorType==="toast"&&uni.showToast({title:r[0].message}),t(r)):e(!0)})})})}}},Qe={class:"press-form"};function Xe(e,t,i,r,n,s){return P(),v("div",Qe,[L(e.$slots,"default")])}const et=J(Ye,[["render",Xe]]),tt={props:{customStyle:{type:String,default:""},label:{type:String,default:""},prop:{type:String,default:""},borderBottom:{type:Boolean,default:!0},labelPosition:{type:String,default:""},labelWidth:{type:[String,Number],default:""},rightIcon:{type:String,default:""},leftIcon:{type:String,default:""},required:{type:Boolean,default:!1},leftIconStyle:{type:[String,Object],default:""}}},rt={name:"PressFormItem",components:{PressIconPlus:ie},mixins:[tt],emits:["click"],data(){return{message:"",parentData:{labelPosition:"left",labelAlign:"left",labelStyle:{},labelWidth:45,errorType:"message"}}},computed:{propsLine(){return{color:"#d6d7d9",length:"100%",direction:"row",hairline:!0,margin:0,dashed:!1}},bodyStyle(){return te([{flexDirection:(this.labelPosition||this.parentData.labelPosition)==="left"?"row":"column"},this.customStyle])},lineStyle(){const{message:e,parentData:t,propsLine:i}=this;return te({marginTop:e&&t.errorType==="message"?"5px":0,color:e&&t.errorType==="border-bottom"?"#fa3534":i.color})}},mounted(){this.init()},methods:{init(){this.updateParentData(),this.parent},updateParentData(){he.call(this,"PressForm")},clearValidate(){this.message=null},resetField(){const e=H(this.parent.originalModel,this.prop);le(this.parent.model,this.prop,e),this.message=null},clickHandler(){this.$emit("click")},addUnit:fe}},nt={class:"press-form-item"},st={class:"press-form-item__body__left__content"},it={key:0,class:"press-form-item__body__left__content__required"},ot={key:1,class:"press-form-item__body__left__content__icon"},at={class:"press-form-item__body__right"},lt={class:"press-form-item__body__right__content"},ft={class:"press-form-item__body__right__content__slot"},dt={key:0,class:"item__body__right__content__icon"};function mt(e,t,i,r,n,s){const o=I("PressIconPlus");return P(),v("div",nt,[D("div",{class:"press-form-item__body",style:N(s.bodyStyle),onClick:t[0]||(t[0]=(...l)=>s.clickHandler&&s.clickHandler(...l))},[L(e.$slots,"label",{},()=>[e.required||e.leftIcon||e.label?(P(),v("div",{key:0,class:"press-form-item__body__left",style:N({width:s.addUnit(e.labelWidth||n.parentData.labelWidth),marginBottom:n.parentData.labelPosition==="left"?0:"5px"})},[D("div",st,[e.required?(P(),v("span",it," * ")):j("",!0),e.leftIcon?(P(),v("div",ot,[h(o,{name:e.leftIcon,"custom-style":e.leftIconStyle},null,8,["name","custom-style"])])):j("",!0),D("span",{class:"press-form-item__body__left__content__label",style:N([n.parentData.labelStyle,{justifyContent:n.parentData.labelAlign==="left"?"flex-start":n.parentData.labelAlign==="center"?"center":"flex-end"}])},$(e.label),5)])],4)):j("",!0)],!0),D("div",at,[D("div",lt,[D("div",ft,[L(e.$slots,"default",{},void 0,!0)]),e.$slots.right?(P(),v("div",dt,[L(e.$slots,"right",{},void 0,!0)])):j("",!0)])])],4),L(e.$slots,"error",{},()=>[n.message&&n.parentData.errorType==="message"?(P(),v("span",{key:0,class:"press-form-item__body__right__message",style:N({marginLeft:s.addUnit(n.parentData.labelPosition==="top"?0:e.labelWidth||n.parentData.labelWidth)})},$(n.message),5)):j("",!0)],!0),e.borderBottom?(P(),v("div",{key:0,style:N(s.lineStyle),class:"press-form-item__line"},null,4)):j("",!0)])}const ct=J(rt,[["render",mt],["__scopeId","data-v-a932da9c"]]),pt=30*1e3,ut={components:{PressForm:et,PressFormItem:ct,PressField:ge,PressIconPlus:ie,PressCheckbox:ye,PressCheckboxGroup:be,PressRadio:_e,PressRadioGroup:we,PressButton:Pe,PressActionSheet:qe,PressCountDown:xe},onReady(){this.$refs.form1.setRules(this.rules)},data(){return{time:-1,timeData:{},fileList1:[],disabled1:!1,tips:"",value:"",showCalendar:!1,showBirthday:!1,showSex:!1,birthday:Number(new Date),model1:{userInfo:{name:"楼兰",sex:"",birthday:""},radiovalue1:"苹果",checkboxValue1:[],intro:"",code:""},actions:[{name:"男"},{name:"女"},{name:"保密"}],rules:{"userInfo.name":[{type:"string",required:!0,message:"请填写姓名",trigger:["blur","change"]},{validator:(e,t)=>de(t),message:"姓名必须为中文",trigger:["change","blur"]}],code:{type:"string",required:!0,len:4,message:"请填写4位验证码",trigger:["blur"]},"userInfo.sex":{type:"string",max:1,required:!0,message:"请选择男或女",trigger:["blur","change"]},radiovalue1:{type:"string",min:1,max:2,message:"橙子有毒",trigger:["change"]},checkboxValue1:{type:"array",min:2,required:!0,message:"不能太宅，至少选两项",trigger:["change"]},intro:{type:"string",min:3,required:!0,message:"不低于3个字",trigger:["change"]},hotel:{type:"string",min:2,required:!0,message:"请选择住店时间",trigger:["change"]},"userInfo.birthday":{type:"string",required:!0,message:"请选择生日",trigger:["change"]}},radiolist1:[{name:"苹果",disabled:!1},{name:"香蕉",disabled:!1},{name:"毒橙子",disabled:!1}],checkboxList1:[{name:"羽毛球",disabled:!1},{name:"跑步",disabled:!1},{name:"爬山",disabled:!1}]}},computed:{isMp(){return!1}},methods:{onChange(e){console.log("value",e),this.model1.userInfo.name=e},afterRead(e){this.fileList1.push({url:e.file,status:"uploading",message:"上传中"})},groupChange(){},radioChange(){},navigateBack(){uni.navigateBack()},sexSelect(e){this.model1.userInfo.sex=e.name,this.$refs.form1.validateField("userInfo.sex")},change(e){this.model1.checkboxValue1=e},formatter(e){const t=new Date,i=t.getMonth()+1,r=t.getDate();return e.month==i&&e.day==r+3&&(e.bottomInfo="有优惠",e.dot=!0),e},calendarConfirm(e){this.showCalendar=!1,this.model1.hotel=`${e[0]} / ${e[e.length-1]}`,this.$refs.form1.validateField("hotel")},codeChange(e){this.tips=e},getCode(){this.time<=0||this.timeData.seconds<=0?(this.onGTip("验证码已发送"),this.time=0,setTimeout(()=>{this.time=pt})):this.onGTip("倒计时结束后再发送")},onChangeTime(e){this.timeData=e},calendarClose(){this.showCalendar=!1,this.$refs.form1.validateField("hotel")},birthdayClose(){this.showBirthday=!1,this.$refs.form1.validateField("userInfo.birthday")},birthdayConfirm(e){this.showBirthday=!1,this.model1.userInfo.birthday=uni.$u.timeFormat(e.value,"yyyy-mm-dd"),this.$refs.form1.validateField("userInfo.birthday")},submit(){this.$refs.form1.validate().then(e=>{console.log("[submit]",e),this.onGTip("校验通过")}).catch(e=>{console.log("[errors]",e),this.onGTip("校验失败")})},reset(){const e=["userInfo.name","userInfo.sex","radiovalue1","checkboxValue1","intro","hotel","code","userInfo.birthday"];this.$refs.form1.resetFields(),this.$refs.form1.clearValidate(),setTimeout(()=>{this.$refs.form1.clearValidate(e)},10)},hideKeyboard(){ce()}}},ht=e=>(pe("data-v-62f5491e"),e=e(),ue(),e),gt={class:"demo-wrap"},yt={class:"countdown-wrap"},bt={class:"item"},_t=ht(()=>D("span",null,"秒重新获取",-1)),wt={class:"submit-wrap"};function Pt(e,t,i,r,n,s){const o=I("PressField"),l=I("PressFormItem"),_=I("PressIconPlus"),g=I("PressRadio"),m=I("PressRadioGroup"),y=I("PressCheckbox"),q=I("PressCheckboxGroup"),x=I("press-count-down"),f=I("PressButton"),b=I("PressForm"),a=I("press-action-sheet");return P(),v("div",gt,[h(b,{ref:"form1","label-position":"left",rules:n.rules,model:n.model1},{default:w(()=>[h(l,{ref:"item1",label:"大名",prop:"userInfo.name","border-bottom":""},{default:w(()=>[h(o,{value:n.model1.userInfo.name,"model-value":n.model1.userInfo.name,border:!1,onChange:s.onChange},null,8,["value","model-value","onChange"])]),_:1},512),h(l,{ref:"item1",label:"性别",prop:"userInfo.sex","border-bottom":"",onClick:t[2]||(t[2]=c=>{n.showSex=!0,s.hideKeyboard()})},{right:w(()=>[h(_,{name:"arrow"})]),default:w(()=>[h(o,{modelValue:n.model1.userInfo.sex,"onUpdate:modelValue":t[0]||(t[0]=c=>n.model1.userInfo.sex=c),"disabled-color":"#ffffff",placeholder:"请选择性别",border:!1,readonly:!0,onClick:t[1]||(t[1]=c=>{n.showSex=!0,s.hideKeyboard()})},null,8,["modelValue"])]),_:1},512),h(l,{ref:"item2",label:"水果",prop:"radiovalue1","border-bottom":""},{default:w(()=>[h(m,{value:n.model1.radiovalue1,direction:"horizontal",onChange:t[3]||(t[3]=c=>n.model1.radiovalue1=c)},{default:w(()=>[(P(!0),v(M,null,X(n.radiolist1,(c,T)=>(P(),ee(g,{key:T,"custom-style":"margin-right: 16px",label:c.name,name:c.name},{default:w(()=>[R($(c.name),1)]),_:2},1032,["label","name"]))),128))]),_:1},8,["value"])]),_:1},512),h(l,{ref:"item3",label:"兴趣爱好",prop:"checkboxValue1","border-bottom":"","label-width":"80"},{default:w(()=>[h(q,{value:n.model1.checkboxValue1,shape:"square",direction:"horizontal",onChange:s.change},{default:w(()=>[(P(!0),v(M,null,X(n.checkboxList1,(c,T)=>(P(),ee(y,{key:T,"custom-style":"margin-right: 16px",name:c.name},{default:w(()=>[R($(c.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["value","onChange"])]),_:1},512),h(l,{ref:"item3",label:"简介",prop:"intro","border-bottom":""},{default:w(()=>[h(o,{modelValue:n.model1.intro,"onUpdate:modelValue":t[4]||(t[4]=c=>n.model1.intro=c),placeholder:"不低于3个字",count:"",type:"textarea","show-word-limit":"","always-embed":!0,maxlength:100,autosize:"",border:!1,"wrapper-style":"width: 100%"},null,8,["modelValue"])]),_:1},512),h(l,{label:"验证码",prop:"code","label-width":"80","border-bottom":""},{right:w(()=>[h(f,{type:"primary",size:"mini",disabled:n.disabled1,onClick:s.getCode},{default:w(()=>[h(x,{"use-slot":"",time:n.time,onChange:s.onChangeTime},{default:w(()=>[D("span",yt,[Object.keys(n.timeData).length?n.timeData.seconds<=0?(P(),v(M,{key:1},[R("重新获取")],64)):(P(),v(M,{key:2},[D("span",bt,$(n.timeData.seconds),1),_t],64)):(P(),v(M,{key:0},[R("获取信息")],64))])]),_:1},8,["time","onChange"])]),_:1},8,["disabled","onClick"])]),default:w(()=>[h(o,{modelValue:n.model1.code,"onUpdate:modelValue":t[5]||(t[5]=c=>n.model1.code=c),border:!1,placeholder:"请填写验证码"},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"]),h(a,{show:n.showSex,actions:n.actions,onClose:t[6]||(t[6]=c=>n.showSex=!1),onSelect:s.sexSelect},null,8,["show","actions","onSelect"]),D("div",wt,[h(f,{type:"primary","custom-style":"margin-right: 20px;width: 100px;",onClick:s.submit},{default:w(()=>[R(" 提交 ")]),_:1},8,["onClick"]),h(f,{"custom-style":"width: 100px;",onClick:s.reset},{default:w(()=>[R(" 重置 ")]),_:1},8,["onClick"])])])}const Qt=J(ut,[["render",Pt],["__scopeId","data-v-62f5491e"]]);export{Qt as default};
