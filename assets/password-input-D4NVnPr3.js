import{P as k}from"./press-number-keyboard-tE7vVtOj.js";import{_ as I,y as _,u as b,c as i,o as a,b as S,a as y,F as g,j as F,w as P,n as m,t as v,B as w,H as T,r as f,e as l,h as c}from"./index-CwjeCCxc.js";import"./press-popup-aEUmVrJy.js";const L={name:"PressPasswordInput",props:{value:{type:String,default:""},info:{type:String,default:""},errorInfo:{type:String,default:""},mask:{type:Boolean,default:!0},focused:{type:Boolean,default:!1},gutter:{type:[Number,String],default:0},length:{type:[Number,String],default:6}},emits:["focus"],data(){return{}},computed:{points(){const{value:t,gutter:s,focused:n,length:h}=this,e=[];for(let o=0;o<h;o++){const r=t[o],u=o!==0&&!s,p=n&&o===t.length;let d="";o!==0&&s&&(d=_({marginLeft:b(s)})),e.push({char:r,showBorder:u,showCursor:p,style:d,maskStyle:`visibility: ${r?"visible":"hidden"}`})}return e}},mounted(){},methods:{onTouchStart(t){t.stopPropagation(),this.$emit("focus",t)}}},M={class:"press-password-input"},B={key:2,class:"press-password-input__cursor"};function C(t,s,n,h,e,o){return a(),i("div",M,[S("span",{class:m(["press-password-input__security",{"press-hairline--surround":!n.gutter}]),onClickPassive:s[0]||(s[0]=P((...r)=>o.onTouchStart&&o.onTouchStart(...r),["stop"]))},[(a(!0),i(g,null,F(o.points,(r,u)=>(a(),i("span",{key:u,class:m(["press-password-input__item",{"press-hairline--left":r.showBorder}]),style:w(r.style)},[n.mask?(a(),i("span",{key:0,class:"press-password-input__mask",style:w(r.maskStyle)},null,4)):(a(),i(g,{key:1},[T(v(r.char),1)],64)),r.showCursor?(a(),i("div",B)):y("",!0)],6))),128))],34),n.errorInfo||n.info?(a(),i("div",{key:0,class:m({"press-password-input__error-info":!!n.errorInfo,"press-password-input__info":!n.errorInfo})},v(n.errorInfo||n.info),3)):y("",!0)])}const N=I(L,[["render",C],["__scopeId","data-v-af9bc790"]]),G={i18n:{"zh-CN":{info:"密码为 6 位数字",showInfo:"提示信息",addGutter:"格子间距",errorInfo:"密码错误",removeMask:"明文展示",customLength:"自定义长度"},"en-US":{info:"Some tips",showInfo:"Show Info",addGutter:"Add Gutter",errorInfo:"Password Mistake",removeMask:"Remove Mask",customLength:"Custom Length"}},components:{PressPasswordInput:N,PressNumberKeyboard:k},data(){return{current:"",values:{showInfo:"123",addGutter:"123",basicUsage:"123",removeMask:"123",customLength:"123"},errorInfo:"",sectionStyle:"margin: 0;background: #f7f8fa;",headerStyle:"background: #f7f8fa;",scrollTop:0,originScrollTop:0,watermark:'<h5>我是h5标签我是h5标签我是h5标签我是h5标签</h5><p style="color:#f00">我是p标签</p><br><img style="width:30px" src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fpress-ui-avatar-transparent.png" />'}},methods:{onInput(t){if(!this.current)return;const s=this.current==="customLength"?4:6,n=(this.values[this.current]+t).slice(0,s);this.values[this.current]=n,this.current==="showInfo"&&n.length===6&&n!=="123456"&&(this.errorInfo=this.t("errorInfo"))},onDelete(){this.current&&(this.values[this.current]=this.values[this.current].slice(0,this.values[this.current].length-1),this.current==="showInfo"&&(this.errorInfo=""))},onScroll(t){this.originScrollTop=t.detail.scrollTop},onFocus(t){this.current=t;const s=this.current==="showInfo"?1e3:0;s&&(this.scrollTop=this.originScrollTop,setTimeout(()=>{this.scrollTop=s}))}}},U={class:"demo-wrap demo-wrap--gray"};function V(t,s,n,h,e,o){const r=f("PressPasswordInput"),u=f("demo-block"),p=f("scroll-view"),d=f("PressNumberKeyboard");return a(),i("div",U,[l(p,{"scroll-y":"",enhanced:"","scroll-top":e.scrollTop,onScroll:o.onScroll},{default:c(()=>[l(u,{ref:"basicUsage",title:t.t("basicUsage"),"section-style":e.sectionStyle,"header-style":e.headerStyle},{default:c(()=>[l(r,{value:e.values.basicUsage,focused:e.current==="basicUsage",onFocus:s[0]||(s[0]=()=>o.onFocus("basicUsage"))},null,8,["value","focused"])]),_:1},8,["title","section-style","header-style"]),l(u,{ref:"customLength",title:t.t("customLength"),"section-style":e.sectionStyle,"header-style":e.headerStyle},{default:c(()=>[l(r,{value:e.values.customLength,length:4,focused:e.current==="customLength",onFocus:s[1]||(s[1]=()=>o.onFocus("customLength"))},null,8,["value","focused"])]),_:1},8,["title","section-style","header-style"]),l(u,{ref:"addGutter",title:t.t("addGutter"),"section-style":e.sectionStyle,"header-style":e.headerStyle},{default:c(()=>[l(r,{value:e.values.addGutter,gutter:10,focused:e.current==="addGutter",onFocus:s[2]||(s[2]=()=>o.onFocus("addGutter"))},null,8,["value","focused"])]),_:1},8,["title","section-style","header-style"]),l(u,{ref:"removeMask",title:t.t("removeMask"),"section-style":e.sectionStyle,"header-style":e.headerStyle},{default:c(()=>[l(r,{mask:!1,value:e.values.removeMask,focused:e.current==="removeMask",onFocus:s[3]||(s[3]=()=>o.onFocus("removeMask"))},null,8,["value","focused"])]),_:1},8,["title","section-style","header-style"]),l(u,{ref:"showInfo",title:t.t("showInfo"),"section-style":e.sectionStyle,"header-style":e.headerStyle},{default:c(()=>[l(r,{info:t.t("info"),value:e.values.showInfo,"error-info":e.errorInfo,focused:e.current==="showInfo",onFocus:s[4]||(s[4]=()=>o.onFocus("showInfo"))},null,8,["info","value","error-info","focused"])]),_:1},8,["title","section-style","header-style"]),s[6]||(s[6]=S("div",{class:"grid-padding"},null,-1))]),_:1},8,["scroll-top","onScroll"]),l(d,{show:!!e.current,onClose:s[5]||(s[5]=z=>e.current=null),onInput:o.onInput,onBackspace:o.onDelete},null,8,["show","onInput","onBackspace"])])}const j=I(G,[["render",V],["__scopeId","data-v-e73a2166"]]);export{j as default};
