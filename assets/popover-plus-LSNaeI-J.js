import{P as b}from"./press-popup-plus-D4t96DR_.js";import{P as B}from"./press-icon-plus-BHni9MA3.js";import{u as k}from"./utils-Do31p4kb.js";import{v as z}from"./press-component-CjxC_Cwf.js";import{t as D}from"./press-transition-B4og1n3H.js";import{_ as S,r as c,o as h,c as y,f as n,n as r,a as P,x as u,y as w,F as O,i as _,w as v,b as E,d as L,t as d,v as N,u as f,p as U,e as M}from"./index-BapbWgDO.js";import{P as W}from"./press-button-DlU-xFsU.js";import{P as H}from"./press-picker-plus-BqgStMyA.js";import{P as F}from"./press-cell-BGAAyfSe.js";import{a as G,P as j}from"./press-grid-item-CVvQicEm.js";import"./press-overlay-BAxhR5id.js";import"./add-unit-Df5pRFBE.js";import"./press-info-fdIUeWSl.js";import"./system-BAdrsxg_.js";import"./press-loading-plus-BwizbpXU.js";import"./press-loading-Bc0gWeOb.js";import"./button-BaKXjqxg.js";import"./number-CU9l-NjU.js";import"./parent-map-BqFbVUej.js";import"./index-Dwska1VW.js";import"./link-Ds6ljOst.js";import"./event-B9ui_niX.js";import"./support-passive-CNRHRm4O.js";import"./relation-Cl7c7lz0.js";const q=e=>({props:{closeOnClickOutside:{type:Boolean,default:!0}},data(){return{clickOutsideHandler:p=>{this.closeOnClickOutside&&!this.$el.contains(p.target)&&this[e.method]()}}},mounted(){document.addEventListener(e.event,this.clickOutsideHandler)},beforeDestroy(){document.removeEventListener(e.event,this.clickOutsideHandler)}}),J={name:"PressPopoverPlus",options:{styleIsolation:"shared"},components:{PressPopup:b,PressIconPlus:B},mixins:[z,D(!1),q({event:"touchstart",method:"onClickOutside"})],props:{overlay:{type:Boolean,default:!1},trigger:{type:String,default:""},offset:{type:Array,default:()=>[0,8]},theme:{type:String,default:"light"},actions:{type:Array,default:()=>[]},placement:{type:String,default:"bottom"},getContainer:{type:[String,Function],default:"body"},closeOnClickAction:{type:Boolean,default:!0},zIndex:{type:Number,default:1},customStyle:{type:String,default:""},duration:{type:Number,default:200}},emits:["close","closed","input","open","opened","select","touchstart"],data(){return{utils:k}},computed:{popoverStyle(){const{zIndex:e}=this;return`z-index: ${e}`},wrapperStyle(){const{customStyle:e}=this;return e},popupClass(){const{theme:e,placement:o}=this;return k.bem2("popover",[e,o])},popupCustomClass(){return""}},mounted(){},methods:{setData(e){Object.keys(e).forEach(o=>{this[o]=e[o]})},onClickWrapper(){this.trigger==="click"&&this.emitModelValue(!this.realModelValue)},onTouchstart(e){e.stopPropagation(),this.$emit("touchstart",e)},onClickAction(e,o){e.disabled||(this.$emit("select",e,o),this.closeOnClickAction&&this.$emit("input",!1))},onClickOutside(){this.$emit("input",!1)},onOpen(){this.$emit("open")},onOpened(){this.$emit("opened")},onClose(){this.$emit("close")},onClosed(){this.$emit("closed")}}},K=["onClick"];function Q(e,o,p,x,t,s){const m=c("PressIconPlus"),a=c("PressPopup");return h(),y("div",{ref:"wrapper",class:u([t.utils.bem2("popover__wrapper")]),style:N(s.wrapperStyle),onClick:o[0]||(o[0]=v((...i)=>s.onClickWrapper&&s.onClickWrapper(...i),["stop"]))},[n(a,{ref:"popover",show:e.realModelValue,class:u([s.popupClass]),"wrap-class":s.popupCustomClass,overlay:p.overlay,position:"null",transition:"popover-zoom","lock-scroll":!1,duration:p.duration,"get-container":p.getContainer,"custom-style":s.popoverStyle,onBeforeLeave:s.onClose,onAfterLeave:s.onClosed,onBeforeEnter:s.onOpen,onAfterEnter:s.onOpened},{default:r(()=>[P("div",{class:u([t.utils.bem2("popover__arrow")])},null,2),P("div",{class:u([t.utils.bem2("popover__content")]),role:"menu"},[w(e.$slots,"default",{},()=>[(h(!0),y(O,null,_(p.actions,(i,C)=>(h(),y("div",{key:C,class:u([t.utils.bem2("popover__action",{disabled:i.disabled,"with-icon":i.icon}),i.className]),onClick:v(g=>s.onClickAction(i,C),["stop"])},[i.icon?(h(),E(m,{key:0,name:i.icon,"custom-class":"press-popover-action-icon"},null,8,["name"])):L("",!0),P("div",{class:u([t.utils.bem2("popover__action-text"),"press-hairline--bottom"])},d(i.text),3)],10,K))),128))],!0)],2)]),_:3},8,["show","class","wrap-class","overlay","duration","get-container","custom-style","onBeforeLeave","onAfterLeave","onBeforeEnter","onAfterEnter"]),w(e.$slots,"reference",{},void 0,!0)],6)}const R=S(J,[["render",Q],["__scopeId","data-v-f16fc6d1"]]),X={i18n:{"zh-CN":{actions:[{text:"选项一"},{text:"选项二"},{text:"选项三"}],shortActions:[{text:"选项一"},{text:"选项二"}],actionsWithIcon:[{text:"选项一",icon:"add-o"},{text:"选项二",icon:"music-o"},{text:"选项三",icon:"more-o"}],actionsDisabled:[{text:"选项一",disabled:!0},{text:"选项二",disabled:!0},{text:"选项三"}],showIcon:"展示图标",placement:"弹出位置",darkTheme:"深色风格",lightTheme:"浅色风格",showPopover:"点击弹出气泡",actionOptions:"选项配置",customContent:"自定义内容",disableAction:"禁用选项",choosePlacement:"选择弹出位置"},"en-US":{actions:[{text:"Option 1"},{text:"Option 2"},{text:"Option 3"}],shortActions:[{text:"Option 1"},{text:"Option 2"}],actionsWithIcon:[{text:"Option 1",icon:"add-o"},{text:"Option 2",icon:"music-o"},{text:"Option 3",icon:"more-o"}],actionsDisabled:[{text:"Option 1",disabled:!0},{text:"Option 2",disabled:!0},{text:"Option 3"}],showIcon:"Show Icon",placement:"Placement",darkTheme:"Dark Theme",lightTheme:"Light Theme",showPopover:"Show Popover",actionOptions:"Action Options",customContent:"Custom Content",disableAction:"Disable Action",choosePlacement:"Placement"}},components:{PressPopoverPlus:R,PressButton:W,PressPickerPlus:H,PressPopupPlus:b,PressCell:F,PressGridItem:G,PressGrid:j},data(){return{show:{showIcon:!1,placement:!1,darkTheme:!1,lightTheme:!1,customContent:!1,disableAction:!1},showPicker:!1,currentPlacement:"top",placements:["top","top-start","top-end","left","left-start","left-end","right","right-start","right-end","bottom","bottom-start","bottom-end"],headerStyle:"background: #f7f8fa;",sectionStyle:"background: #f7f8fa;margin: 0 0 6px;padding: 0;"}},methods:{onPickerChange({value:e,index:o}){console.log("[onPickerChange]",e,o),setTimeout(()=>{this.show.placement=!0,this.currentPlacement=e})},onSelect(e){console.log("[onSelect]",e),this.onGTip(e.text)},onOpen(){console.log("onOpen")},onClose(){console.log("onClose")},onOpened(){console.log("onOpened")},onClosed(){console.log("onClosed")}}},Y=e=>(U("data-v-c098f8b4"),e=e(),M(),e),Z={class:"demo-wrap demo-wrap--gray"},$={class:"demo-popover-box"},ee=Y(()=>P("div",{class:"demo-popover-refer"},null,-1));function te(e,o,p,x,t,s){const m=c("PressButton"),a=c("PressPopoverPlus"),i=c("demo-block"),C=c("PressCell"),g=c("PressPickerPlus"),V=c("PressPopupPlus"),I=c("press-grid-item"),A=c("press-grid");return h(),y("div",Z,[n(i,{title:e.t("basicUsage"),"header-style":t.headerStyle,"section-style":t.sectionStyle},{default:r(()=>[n(a,{modelValue:t.show.lightTheme,"onUpdate:modelValue":o[1]||(o[1]=l=>t.show.lightTheme=l),trigger:"click",actions:e.t("actions"),placement:"bottom-start","custom-style":"margin-left: 16px;",onSelect:s.onSelect,onOpen:s.onOpen,onOpened:s.onOpened,onClose:s.onClose,onClosed:s.onClosed},{reference:r(()=>[n(m,{type:"primary",onClick:o[0]||(o[0]=l=>t.show.lightTheme=!t.show.lightTheme)},{default:r(()=>[f(d(e.t("lightTheme")),1)]),_:1})]),_:1},8,["modelValue","actions","onSelect","onOpen","onOpened","onClose","onClosed"]),n(a,{modelValue:t.show.darkTheme,"onUpdate:modelValue":o[3]||(o[3]=l=>t.show.darkTheme=l),trigger:"click",theme:"dark",actions:e.t("actions"),placement:"bottom","custom-style":"z-index: 1;margin-left: 16px;",onSelect:s.onSelect},{reference:r(()=>[n(m,{type:"primary",onClick:o[2]||(o[2]=l=>t.show.darkTheme=!t.show.darkTheme)},{default:r(()=>[f(d(e.t("darkTheme")),1)]),_:1})]),_:1},8,["modelValue","actions","onSelect"])]),_:1},8,["title","header-style","section-style"]),n(i,{title:e.t("placement"),"header-style":t.headerStyle,"section-style":t.sectionStyle},{default:r(()=>[n(C,{"is-link":"",title:e.t("choosePlacement"),onClick:o[4]||(o[4]=l=>{t.showPicker=!0})},null,8,["title"]),n(V,{show:t.showPicker,round:"",position:"bottom","get-container":"body","close-on-click-overlay":!0,onClose:o[6]||(o[6]=l=>t.showPicker=!1)},{default:r(()=>[P("div",$,[n(a,{modelValue:t.show.placement,"onUpdate:modelValue":o[5]||(o[5]=l=>t.show.placement=l),theme:"dark",trigger:"click",actions:e.t("shortActions"),placement:t.currentPlacement,onSelect:s.onSelect},{reference:r(()=>[ee]),_:1},8,["modelValue","actions","placement","onSelect"])]),n(g,{columns:t.placements,onChange:s.onPickerChange},null,8,["columns","onChange"])]),_:1},8,["show"])]),_:1},8,["title","header-style","section-style"]),n(i,{title:e.t("actionOptions"),"header-style":t.headerStyle,"section-style":t.sectionStyle},{default:r(()=>[n(a,{modelValue:t.show.showIcon,"onUpdate:modelValue":o[8]||(o[8]=l=>t.show.showIcon=l),trigger:"click",actions:e.t("actionsWithIcon"),placement:"bottom-start","custom-style":"z-index: 2;margin-left: 16px;",onSelect:s.onSelect},{reference:r(()=>[n(m,{type:"primary",onClick:o[7]||(o[7]=l=>t.show.showIcon=!t.show.showIcon)},{default:r(()=>[f(d(e.t("showIcon")),1)]),_:1})]),_:1},8,["modelValue","actions","onSelect"]),n(a,{modelValue:t.show.disableAction,"onUpdate:modelValue":o[10]||(o[10]=l=>t.show.disableAction=l),trigger:"click",actions:e.t("actionsDisabled"),"custom-style":"z-index: 2;margin-left: 16px;",onSelect:s.onSelect},{reference:r(()=>[n(m,{type:"primary",onClick:o[9]||(o[9]=l=>t.show.disableAction=!t.show.disableAction)},{default:r(()=>[f(d(e.t("disableAction")),1)]),_:1})]),_:1},8,["modelValue","actions","onSelect"])]),_:1},8,["title","header-style","section-style"]),n(i,{title:e.t("customContent"),"header-style":t.headerStyle,"section-style":t.sectionStyle},{default:r(()=>[n(a,{modelValue:t.show.customContent,"onUpdate:modelValue":o[12]||(o[12]=l=>t.show.customContent=l),trigger:"click",placement:"bottom-start","custom-style":"z-index: 1;margin-left: 16px;",onSelect:s.onSelect},{default:r(()=>[n(A,{"column-num":3,"custom-style":"width: 240px;"},{default:r(()=>[(h(),y(O,null,_(6,(l,T)=>n(I,{key:T,icon:"photo-o",text:e.t("option")},null,8,["text"])),64))]),_:1})]),reference:r(()=>[n(m,{type:"primary",onClick:o[11]||(o[11]=l=>t.show.customContent=!t.show.customContent)},{default:r(()=>[f(d(e.t("customContent")),1)]),_:1})]),_:1},8,["modelValue","onSelect"])]),_:1},8,["title","header-style","section-style"])])}const _e=S(X,[["render",te],["__scopeId","data-v-c098f8b4"]]);export{_e as default};
