import{I as $}from"./add-unit-B8Dm0KXN.js";import{p as v}from"./component-handler-C5iXu-ke.js";import{e as g}from"./adapter-BgGMvpFJ.js";function y(a){return document.body.contains(a)}function O({defaultOptions:a,component:d}){var p;let u={},n=[],i=!1,l={...a};const m=((p=a.selector)==null?void 0:p.slice(1))||"component-default-id";function C({multiple:e,component:t,dialogId:o}){var h;if($)return{};if(n=n.filter(r=>!r.$el.parentNode||y(r.$el)),!n.length||e){const r=document.getElementById(o);r!=null&&r.parentElement&&r.parentElement.removeChild(r);const f=document.createElement("div");f.id=o,document.body.appendChild(f);const s=g(f,t);(h=s==null?void 0:s.$on)==null||h.call(s,"input",E=>{s.value=E}),n.push(s)}return n[n.length-1]}function c(e={duration:0}){const t=C({multiple:i,component:d,dialogId:m});return e=v(e),e={...l,...u[e.type||l.type],...e},c.getOptions=()=>e,t.clear=()=>{t.setData({show:!1}),e.onClose&&e.onClose(),n=n.filter(o=>o!==t),setTimeout(()=>{document.body.contains(t.$el)&&t.$el&&t.$el.parentNode.removeChild(t.$el)},e.animationDuration||0)},t.set=(...o)=>{typeof t.$set=="function"?t.$set(t,...o):t[o[0]]=o[1]},t.setData(e),clearTimeout(t.timer),t.setData({show:!0}),e.duration>0&&(t.timer=setTimeout(()=>{t.clear()},e.duration)),t}return c.clear=e=>{n.length&&(e?(n.forEach(t=>{t.clear()}),n=[]):i?n.shift().clear():n[0].clear())},c.setDefaultOptions=(e,t)=>{typeof e=="string"?u[e]=t:Object.assign(l,e)},c.resetDefaultOptions=e=>{typeof e=="string"?u[e]=null:(l={...a},u={})},c.allowMultiple=(e=!0)=>{i=e},c.install=()=>{},c}function N(a,d,u={}){const n=d,i=document.getElementById(n);i!=null&&i.parentNode&&i.parentNode.removeChild(i);const l=document.createElement("div");return l.id=n,document.body.appendChild(l),g(l,a,u)}export{O as g,N as i};
