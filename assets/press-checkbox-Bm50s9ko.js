import{y,u as k,_ as g,k as S,v as x,l as P,U as _,G as d,r as v,c as u,o as c,a as f,b as V,w as h,n as r,A as m,d as B,B as C}from"./index-Q-rLfHSZ.js";import{C as D,d as o}from"./relation-C7hDGN8M.js";import{f as z}from"./parent-CQhE6Wqc.js";function I(e,s,t,a,i){const l={"font-size":k(i),"line-height":"1.25em"};return e&&s&&!t&&!a&&(l["border-color"]=e,l["background-color"]=e),y(l)}const L={iconStyle:I};function b(e,s){e.$emit("input",s),e.$emit("change",s)}const O={name:"PressCheckbox",options:{...P},components:{PressIcon:x},mixins:[D(o)],field:!0,props:{name:{type:String,default:""},value:Boolean,disabled:Boolean,useIconSlot:Boolean,checkedColor:{type:String,default:""},labelPosition:{type:String,default:"right"},labelDisabled:Boolean,shape:{type:String,default:"round"},iconSize:{type:[Number],default:20},iconClass:{type:String,default:""},labelClass:{type:String,default:""},customStyle:{type:[String,Object],default:""},...S},emits:["input","change"],data(){return{parentDisabled:!1,direction:"vertical",dataValue:this.value}},computed:{wrapStyle(){return y(this.customStyle)},innerLabelClass(){const{labelClass:e,labelPosition:s,disabled:t,parentDisabled:a}=this;return`${e} ${d.bem2("checkbox__label",[s,{disabled:t||a}])}`},checkboxClass(){const{direction:e,customClass:s}=this;return`${d.bem2("checkbox",[{horizontal:e==="horizontal"}])} ${s}`},iconStyle(){const{checkedColor:e,value:s,disabled:t,parentDisabled:a,iconSize:i}=this;return L.iconStyle(e,s,t,a,i)},innerIconClass(){const{shape:e,disabled:s,parentDisabled:t,dataValue:a}=this;return`${d.bem2("checkbox__icon",[e,{disabled:s||t,checked:a}])}`},iconCustomClass(){return this.iconClass},iconCustomStyle(){return"line-height: 1.25em;"}},watch:{value:{handler(e){this.dataValue=!!e}}},mounted(){this.update()},methods:{update(){this[o]&&this[o].updateChildren()},setData(e){Object.keys(e).forEach(s=>{this[s]=e[s]})},emitChange(e){this[o]?this.setParentValue(this[o],e):b(this,e),_(()=>{z(this,"change")})},toggle(){const{parentDisabled:e,disabled:s,dataValue:t}=this;!s&&!e&&this.emitChange(!t)},onClickLabel(){const{labelDisabled:e,parentDisabled:s,disabled:t,dataValue:a}=this;!t&&!e&&!s&&this.emitChange(!a)},setParentValue(e,s){const t=e.value.slice(),{name:a}=this,{max:i}=e;if(s){if(i&&t.length>=i)return;t.indexOf(a)===-1&&(t.push(a),b(e,t))}else{const l=t.indexOf(a);l!==-1&&(t.splice(l,1),b(e,t))}}}};function w(e,s,t,a,i,l){const p=v("PressIcon");return c(),u("div",{class:r(l.checkboxClass),style:C(l.wrapStyle)},[t.labelPosition==="left"?(c(),u("div",{key:0,class:r(l.innerLabelClass),onClick:s[0]||(s[0]=h((...n)=>l.onClickLabel&&l.onClickLabel(...n),["stop"]))},[m(e.$slots,"default",{},void 0,!0)],2)):f("",!0),V("div",{class:"press-checkbox__icon-wrap",onClick:s[1]||(s[1]=h((...n)=>l.toggle&&l.toggle(...n),["stop"]))},[t.useIconSlot?m(e.$slots,"icon",{key:0},void 0,!0):(c(),B(p,{key:1,name:"success",size:"0.8em",style:C(l.iconStyle),class:r(l.innerIconClass),"custom-class":l.iconCustomClass,"custom-style":l.iconCustomStyle},null,8,["style","class","custom-class","custom-style"]))]),t.labelPosition==="right"?(c(),u("div",{key:1,class:r(l.innerLabelClass),onClick:s[2]||(s[2]=h((...n)=>l.onClickLabel&&l.onClickLabel(...n),["stop"]))},[m(e.$slots,"default",{},void 0,!0)],2)):f("",!0)],6)}const j=g(O,[["render",w],["__scopeId","data-v-452c7825"]]);export{j as P};
