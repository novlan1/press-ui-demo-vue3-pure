import{_ as w,k as $,l as C,d as y,o as u,h as c,c as H,F as b,j as v,aw as _,n as P,H as T,t as I,r as m,e as g}from"./index-CCB1KbBH.js";const S={sourceString:{type:String,default:""},keywords:{type:[String,Array],default:""},autoEscape:{type:Boolean,default:!0},caseSensitive:{type:Boolean,default:!1},tag:{type:String,default:"div"},highlightTag:{type:String,default:"span"},unhighlightTag:{type:String,default:"span"},highlightClass:{type:String,default:""},unhighlightClass:{type:String,default:""}};function K(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B({autoEscape:e,caseSensitive:r,keywords:h,sourceString:i}){console.log({autoEscape:e,caseSensitive:r,keywords:h,sourceString:i});const p=r?"g":"gi";let t=(Array.isArray(h)?h:[h]).filter(s=>s).reduce((s,l)=>{e&&(l=K(l));const n=new RegExp(l,p);let o;for(;o=n.exec(i);){const d=o.index,k=n.lastIndex;if(d>=k){n.lastIndex+=1;continue}s.push({start:d,end:k,highlight:!0})}return s},[]);t=t.sort((s,l)=>s.start-l.start).reduce((s,l)=>{const n=s[s.length-1];if(!n||l.start>n.end){const o=n?n.end:0,d=l.start;o!==d&&s.push({start:o,end:d,highlight:!1}),s.push(l)}else n.end=Math.max(n.end,l.end);return s},[]);const a=t[t.length-1];return a||t.push({start:0,end:i.length,highlight:!1}),a&&a.end<i.length&&t.push({start:a.end,end:i.length,highlight:!1}),t}const E={name:"PressHighlightWeb",options:{...C,styleIsolation:"shared"},props:{...S,...$},data(){return{}},computed:{highlightChunks(){const{autoEscape:e,caseSensitive:r,keywords:h,sourceString:i}=this;return B({autoEscape:e,caseSensitive:r,keywords:h,sourceString:i})}}};function N(e,r,h,i,p,f){return u(),y(_(e.tag),{class:"press-highlight"},{default:c(()=>[(u(!0),H(b,null,v(f.highlightChunks,(t,a)=>(u(),y(_(t.highlight?e.highlightTag:e.unhighlightTag),{key:a,class:P(t.highlight?`press-highlight__tag ${e.highlightClass}`:e.unhighlightClass)},{default:c(()=>[T(I(e.sourceString.slice(t.start,t.end)),1)]),_:2},1032,["class"]))),128))]),_:1})}const W=w(E,[["render",N],["__scopeId","data-v-d186acbf"]]),A={name:"PressHighlight",options:{...C,styleIsolation:"shared"},components:{PressHighlightWeb:W},props:{...S,...$},data(){return{}},computed:{},mounted(){},methods:{}};function L(e,r,h,i,p,f){const t=m("PressHighlightWeb");return u(),y(t,{"source-string":e.sourceString,keywords:e.keywords,"auto-escape":e.autoEscape,"case-sensitive":e.caseSensitive,tag:e.tag,"highlight-tag":e.highlightTag,"unhighlight-tag":e.unhighlightTag,"highlight-class":e.highlightClass,"unhighlight-class":e.unhighlightClass},null,8,["source-string","keywords","auto-escape","case-sensitive","tag","highlight-tag","unhighlight-tag","highlight-class","unhighlight-class"])}const q=w(A,[["render",L]]),z={i18n:{"zh-CN":{text1:"慢慢来，不要急，生活给你出了难题，可也终有一天会给出答案。",keywords1:"难题",keywords2:["难题","终有一天","答案"],keywords3:"生活",multipleKeywords:"多字符匹配",highlightClass:"设置高亮标签类名"},"en-US":{text1:"Take your time and be patient. Life itself will eventually answer all those questions it once raised for you.",keywords1:"questions",keywords2:["time","life","answer"],keywords3:"life",multipleKeywords:"Multiple Keywords",highlightClass:"Highlight Class Name"}},components:{PressHighlight:q},data(){return{}},methods:{}},D={class:"demo-wrap"};function F(e,r,h,i,p,f){const t=m("PressHighlight"),a=m("demo-block");return u(),H("div",D,[g(a,{title:e.t("basicUsage")},{default:c(()=>[g(t,{keywords:e.t("keywords1"),"source-string":e.t("text1")},null,8,["keywords","source-string"])]),_:1},8,["title"]),g(a,{title:e.t("multipleKeywords")},{default:c(()=>[g(t,{keywords:e.t("keywords2"),"source-string":e.t("text1")},null,8,["keywords","source-string"])]),_:1},8,["title"]),g(a,{title:e.t("highlightClass")},{default:c(()=>[g(t,{keywords:e.t("keywords3"),"source-string":e.t("text1"),"highlight-class":"custom-class"},null,8,["keywords","source-string"])]),_:1},8,["title"])])}const M=w(z,[["render",F],["__scopeId","data-v-4212bb6b"]]);export{M as default};
