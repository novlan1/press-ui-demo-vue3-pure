import{af as p,a2 as D}from"./index-saBp3IWc.js";import{p as $}from"./component-handler-CtOf9gE3.js";function y(l){return document.body.contains(l)}function v({defaultOptions:l,component:u}){let s={},n=[],o=!1,i={...l};const m=l.selector&&l.selector.slice(1)||"component-default-id";function g({multiple:e,component:t,dialogId:a}){if(D)return{};if(n=n.filter(c=>!c.$el.parentNode||y(c.$el)),!n.length||e){const c=document.getElementById(a);c&&c.parentElement&&c.parentElement.removeChild(c);const f=document.createElement("div");f.id=a,document.body.appendChild(f);const d=p(f,t);d&&typeof d.$on=="function"&&d.$on("input",h=>{d.value=h}),n.push(d)}return n[n.length-1]}function r(e={duration:0}){const t=g({multiple:o,component:u,dialogId:m});return e=$(e),e={...i,...s[e.type||i.type],...e},r.getOptions=()=>e,t.clear=()=>{t.setData({show:!1}),e.onClose&&e.onClose(),n=n.filter(a=>a!==t),setTimeout(()=>{document.body.contains(t.$el)&&t.$el&&t.$el.parentNode.removeChild(t.$el)},e.animationDuration||0)},t.set=(...a)=>{typeof t.$set=="function"?t.$set(t,...a):t[a[0]]=a[1]},t.setData(e),clearTimeout(t.timer),t.setData({show:!0}),e.duration>0&&(t.timer=setTimeout(()=>{t.clear()},e.duration)),t}return r.clear=e=>{n.length&&(e?(n.forEach(t=>{t.clear()}),n=[]):o?n.shift().clear():n[0].clear())},r.setDefaultOptions=(e,t)=>{typeof e=="string"?s[e]=t:Object.assign(i,e)},r.resetDefaultOptions=e=>{typeof e=="string"?s[e]=null:(i={...l},s={})},r.allowMultiple=(e=!0)=>{o=e},r.install=()=>{},r}function I(l,u,s={}){const n=u,o=document.getElementById(n);o&&o.parentNode&&o.parentNode.removeChild(o);const i=document.createElement("div");return i.id=n,document.body.appendChild(i),p(i,l,s)}export{v as g,I as i};
