import{Z as v,i as x}from"./index-D6q1BrWv.js";let u={};function B(){try{!Object.keys(u).length&&typeof uni<"u"&&(typeof uni.getWindowInfo=="function"?u=uni.getWindowInfo():typeof uni.getSystemInfoSync=="function"&&(u=uni.getSystemInfoSync()))}catch(e){console.log("[getAppBaseInfo] err",e)}return u}function N(e){return new Promise(function(i,o){var n=document.getElementById("#clipboard");n==null||n.remove();var t=document.createElement("textarea");t.id="#clipboard",t.style.position="fixed",t.style.top="-9999px",t.style.zIndex="-9999",document.body.appendChild(t),t.value="".concat(e),t.select(),t.setSelectionRange(0,t.value.length);var r=document.execCommand("Copy",!1);t.blur(),r?i():o()})}const A={"css.var":"--a:0","css.env":"top:env(a)","css.constant":"top:constant(a)"};function V(e){return window.CSS&&CSS.supports&&(CSS.supports(e)||CSS.supports.apply(CSS,e.split(":")))}function O(e){return V(A[e])}const C=["top","left","right","bottom"],m={},W=[];let T,a;function R(){return!("CSS"in window)||typeof CSS.supports!="function"?a="":CSS.supports("top: env(safe-area-inset-top)")?a="env":CSS.supports("top: constant(safe-area-inset-top)")?a="constant":a="",a}function p(e,i){const o=e.style;Object.keys(i).forEach(n=>{const t=i[n];o[n]=t})}const I=[];function E(e){e?I.push(e):I.forEach(i=>{i()})}function $(){if(a=typeof a=="string"?a:R(),!a){C.forEach(o=>{m[o]=0});return}function e(o,n){const t=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div"),l=100,d=1e4,S={position:"absolute",width:`${l}px`,height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:`${a}(safe-area-inset-${n})`};p(t,S),p(r,S),p(s,{transition:"0s",animation:"none",width:"400px",height:"400px"}),p(c,{transition:"0s",animation:"none",width:"250%",height:"250%"}),t.appendChild(s),r.appendChild(c),o.appendChild(t),o.appendChild(r),E(()=>{r.scrollTop=d,t.scrollTop=d;let y=t.scrollTop,w=r.scrollTop;function b(){this.scrollTop!==(this===t?y:w)&&(r.scrollTop=d,t.scrollTop=d,y=t.scrollTop,w=r.scrollTop,H(n))}t.addEventListener("scroll",b,v),r.addEventListener("scroll",b,v)});const P=getComputedStyle(t);Object.defineProperty(m,n,{configurable:!0,get(){return parseFloat(P.paddingBottom)}})}const i=document.createElement("div");p(i,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),C.forEach(o=>{e(i,o)}),document.body.appendChild(i),E(),T=!0}function f(e){return T||$(),m[e]}const h=[];function H(e){h.length||setTimeout(()=>{const i={};h.forEach(o=>{i[o]=m[o]}),h.length=0,W.forEach(o=>{o(i)})},0),h.push(e)}const g={get top(){return f("top")},get left(){return f("left")},get right(){return f("right")},get bottom(){return f("bottom")}},L=44;function j(){if(O("css.var")){const{style:n}=document.documentElement,t=parseInt((n.getPropertyValue("--window-top").match(/\d+/)||["0"])[0],10),r=parseInt((n.getPropertyValue("--window-bottom").match(/\d+/)||["0"])[0],10),s=parseInt((n.getPropertyValue("--window-left").match(/\d+/)||["0"])[0],10),c=parseInt((n.getPropertyValue("--window-right").match(/\d+/)||["0"])[0],10),l=parseInt((n.getPropertyValue("--top-window-height").match(/\d+/)||["0"])[0],10);return{top:(t?t+g.top:0)+(l||0),bottom:r?r+g.bottom:0,left:s?s+g.left:0,right:c?c+g.right:0}}let e=0;const i=0,o=getCurrentPages();if(o.length){const t=o[o.length-1].$parent.$parent.navigationBar.type;e=t==="default"||t==="float"?L:0}return{top:e,bottom:i,left:0,right:0}}function U(){if(x())return 0;const{statusBarHeight:e}=B();return e}function _(e,i,o=!1){return new Promise(n=>{const t=e==null?void 0:e.$el;let r=t==null?void 0:t.querySelector(i);if(!r&&o&&(r=document.querySelector(i)),r){const s=r.getBoundingClientRect()||{},{top:c}=j();let l={left:s.left,right:s.right,width:s.width,height:s.height,x:s.x,y:s.y,top:s.top,bottom:s.bottom};l={...l,top:s.top-c,bottom:s.bottom-c},n(l)}else n({})})}export{U as a,N as c,_ as g};
