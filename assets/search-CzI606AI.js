import{P as b}from"./press-field-HaGvufgi.js";import{u as v}from"./utils-D4SHz1Xc.js";import{t as k}from"./index-IswSPGmo.js";import{_ as p,r as f,o as s,c as u,a as m,n as d,t as C,i as h,f as t,l as o,d as g,m as _}from"./index-EgE5uNPY.js";import"./press-cell-BaYHUDhK.js";import"./press-icon-plus-hPxG3yOg.js";import"./style-CpIyAjCl.js";import"./add-unit-DtbDjKpw.js";import"./press-info-BmvbeesZ.js";import"./press-component-B_qTMwPt.js";import"./link-Ol_HDPvL.js";import"./event-16l6qHb5.js";import"./support-passive-CNRHRm4O.js";import"./parent-CQhE6Wqc.js";const B={name:"PressSearch",components:{PressField:b},field:!0,props:{value:{type:String,default:""},label:{type:String,default:""},focus:Boolean,error:Boolean,disabled:Boolean,readonly:Boolean,inputAlign:{type:String,default:""},showAction:Boolean,useActionSlot:Boolean,useLeftIconSlot:Boolean,useRightIconSlot:Boolean,leftIcon:{type:String,default:"search"},rightIcon:{type:String,default:""},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},actionText:{type:String,default:k("cancel")},background:{type:String,default:"#ffffff"},maxlength:{type:Number,default:-1},shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},clearTrigger:{type:String,default:"focus"},clearIcon:{type:String,default:"clear"},customClass:{type:String,default:""},fieldClass:{type:String,default:""},inputClass:{type:String,default:""},cancelClass:{type:String,default:""}},emits:["change","cancel","search","focus","blur","clear","click-input"],data(){return{utils:v,innerValue:this.value}},computed:{fieldBaseClass(){return`press-search__field ${this.fieldClass}`},fieldCustomClass(){return""}},watch:{value:{handler(e){this.innerValue=e}}},methods:{onChange(e){typeof e=="string"&&(this.innerValue=e,this.$emit("change",e))},onCancel(){setTimeout(()=>{this.$emit("cancel"),this.$emit("change","")},200)},onSearch(e){this.$emit("search",e)},onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")},onClear(){this.innerValue="",this.onChange(this.innerValue),this.$emit("clear")},onClickInput(){this.$emit("click-input")}}},I={class:"press-search-index"},A={key:0,class:"press-search__label"},T={key:0,class:"press-search__action","hover-class":"press-search__action--hover","hover-stay-time":"70"};function V(e,i,l,S,a,n){const c=f("PressField");return s(),u("div",I,[m("div",{class:d([l.customClass,a.utils.bem2("search",{withaction:l.showAction||l.useActionSlot})]),style:_("background: "+l.background)},[m("div",{class:d([a.utils.bem2("search__content",[l.shape])])},[l.label?(s(),u("div",A,C(l.label),1)):h(e.$slots,"label",{key:1},void 0,!0),t(c,{type:"search","left-icon":l.useLeftIconSlot?"":l.leftIcon,"right-icon":l.useRightIconSlot?"":l.rightIcon,focus:l.focus,error:l.error,border:!1,"confirm-type":"search",class:d(n.fieldBaseClass),"custom-class":n.fieldCustomClass,value:a.innerValue,disabled:l.disabled,readonly:l.readonly,clearable:l.clearable,"clear-trigger":l.clearTrigger,"clear-icon":l.clearIcon,maxlength:l.maxlength,"input-align":l.inputAlign,"input-class":l.inputClass,placeholder:l.placeholder,"placeholder-style":l.placeholderStyle,"custom-style":"padding: 5px 10px 5px 0; background-color: transparent;",onBlur:n.onBlur,onFocus:n.onFocus,onChange:n.onChange,onConfirm:n.onSearch,onClear:n.onClear,onClickInput:n.onClickInput},{"left-icon":o(()=>[l.useLeftIconSlot?h(e.$slots,"left-icon",{key:0},void 0,!0):g("",!0)]),"right-icon":o(()=>[l.useRightIconSlot?h(e.$slots,"right-icon",{key:0},void 0,!0):g("",!0)]),_:3},8,["left-icon","right-icon","focus","error","class","custom-class","value","disabled","readonly","clearable","clear-trigger","clear-icon","maxlength","input-align","input-class","placeholder","placeholder-style","onBlur","onFocus","onChange","onConfirm","onClear","onClickInput"])],2),l.showAction||l.useActionSlot?(s(),u("div",T,[l.useActionSlot?h(e.$slots,"action",{key:0},void 0,!0):(s(),u("div",{key:1,class:d(l.cancelClass),onClick:i[0]||(i[0]=(...r)=>n.onCancel&&n.onCancel(...r))},C(l.actionText),3))])):g("",!0)],6)])}const w=p(B,[["render",V],["__scopeId","data-v-762b7ec1"]]),F={i18n:{"zh-CN":{label:"地址",disabled:"禁用搜索框",inputAlign:"搜索框内容对齐",background:"自定义背景色",placeholder:"请输入搜索关键词",customButton:"自定义按钮",listenToEvents:"事件监听"},"en-US":{label:"Address",disabled:"Disabled",inputAlign:"Input Align",background:"Custom Background Color",placeholder:"Placeholder",customButton:"Custom Action Button",listenToEvents:"Listen to Events"}},components:{PressSearch:w},data(){return{value:""}},methods:{onChange(e){typeof e=="string"&&this.onGTip(`${e}`)},onCancel(){this.onGTip("cancel")},onSearch(){this.onGTip("search")},onClick(){this.onGTip("click")}}},P={class:"demo-wrap"};function E(e,i,l,S,a,n){const c=f("press-search"),r=f("demo-block");return s(),u("div",P,[t(r,{title:e.t("basicUsage")},{default:o(()=>[t(c,{value:a.value,placeholder:e.t("placeholder"),onChange:n.onChange},null,8,["value","placeholder","onChange"])]),_:1},8,["title"]),t(r,{title:e.t("listenToEvents")},{default:o(()=>[t(c,{value:a.value,placeholder:e.t("placeholder"),"show-action":"",onSearch:n.onSearch,onCancel:n.onCancel,onChange:n.onChange},null,8,["value","placeholder","onSearch","onCancel","onChange"])]),_:1},8,["title"]),t(r,{title:e.t("inputAlign")},{default:o(()=>[t(c,{value:a.value,placeholder:e.t("placeholder"),"input-align":"center",onSearch:n.onSearch,onCancel:n.onCancel,onChange:n.onChange},null,8,["value","placeholder","onSearch","onCancel","onChange"])]),_:1},8,["title"]),t(r,{title:e.t("disabled")},{default:o(()=>[t(c,{value:a.value,disabled:"",placeholder:e.t("placeholder"),onChange:n.onChange},null,8,["value","placeholder","onChange"])]),_:1},8,["title"]),t(r,{title:e.t("background")},{default:o(()=>[t(c,{value:a.value,shape:"round",background:"#4fc08d",placeholder:e.t("placeholder"),onChange:n.onChange},null,8,["value","placeholder","onChange"])]),_:1},8,["title"]),t(r,{title:e.t("customButton")},{default:o(()=>[t(c,{value:a.value,label:e.t("label"),"use-action-slot":"",placeholder:e.t("placeholder"),onChange:n.onChange},{action:o(()=>[m("div",{onClick:i[0]||(i[0]=(...y)=>n.onClick&&n.onClick(...y))},C(e.t("search")),1)]),_:1},8,["value","label","placeholder","onChange"])]),_:1},8,["title"])])}const Q=p(F,[["render",E]]);export{Q as default};
