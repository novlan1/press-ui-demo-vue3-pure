import{a as w}from"./add-unit-BnQ5fsFt.js";import{t as M}from"./time-DadpJyRx.js";import{s as b}from"./style-CpIyAjCl.js";import{P as x}from"./press-icon-plus-BqwcHqXX.js";import{P as F}from"./press-link-DxmI3G5t.js";import{_ as T,r as g,o as f,c as d,n as c,m as y,d as h,f as s,b as G,t as I,w as H,l as u}from"./index-BxhWvFY9.js";import"./press-info-BrbwTMID.js";import"./utils-DhsswyhS.js";import"./press-component-DrBAWcfZ.js";const B={props:{customStyle:{type:String,default:""},type:{type:String,default:""},show:{type:Boolean,default:!0},text:{type:[String,Number],default:""},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},mode:{type:String,default:""},href:{type:String,default:""},format:{type:[String,Function],default:""},call:{type:Boolean,default:!1},openType:{type:String,default:""},bold:{type:Boolean,default:!1},block:{type:Boolean,default:!1},lines:{type:[String,Number],default:""},color:{type:String,default:"#303133"},size:{type:[String,Number],default:15},iconStyle:{type:[Object,String],default:""},decoration:{type:String,default:"none"},margin:{type:[Object,String,Number],default:0},lineHeight:{type:[String,Number],default:""},align:{type:String,default:"left"},wordWrap:{type:String,default:"normal"}}};function P(e,t=15){return+parseFloat(Number(e).toPrecision(t))}function m(e){const t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0}function S(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));const t=m(e);return t>0?P(Number(e)*Math.pow(10,t)):Number(e)}function N(e){(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(`${e} 超出了精度限制，结果可能不正确`)}function $(e,t){const[n,l,...p]=e;let i=t(n,l);return p.forEach(r=>{i=t(i,r)}),i}function k(...e){if(e.length>2)return $(e,k);const[t,n]=e,l=S(t),p=S(n),i=m(t)+m(n),r=l*p;return N(r),r/Math.pow(10,i)}function C(...e){if(e.length>2)return $(e,C);const[t,n]=e,l=S(t),p=S(n);return N(l),N(p),k(l/p,P(Math.pow(10,m(n)-m(t))))}function L(e,t){const n=Math.pow(10,t);let l=C(Math.round(Math.abs(k(e,n))),n);return e<0&&l!==0&&(l=k(l,-1)),l}function W(e,t=0,n=".",l=","){e=`${e}`.replace(/[^0-9+-Ee.]/g,"");const p=isFinite(+e)?+e:0,i=isFinite(+t)?Math.abs(t):0,r=typeof l>"u"?",":l,a=typeof n>"u"?".":n;let o="";o=(i?`${L(p,i)}`:`${Math.round(p)}`).split(".");const v=/(-?\d+)(\d{3})/;for(;v.test(o[0]);)o[0]=o[0].replace(v,`$1${r}$2`);return(o[1]||"").length<i&&(o[1]=o[1]||"",o[1]+=new Array(i-o[1].length+1).join("0")),o.join(a)}const z={computed:{value(){const{text:e,mode:t,format:n,href:l}=this;return t==="price"?typeof n=="function"?n(e):W(e,2):t==="date"?typeof n=="function"?n(e):n?M(e,n):M(e,"yyyy-MM-dd"):t==="phone"?typeof n=="function"?n(e):n==="encrypt"?`${e.substr(0,3)}****${e.substr(7)}`:e:t==="name"?typeof n=="function"?n(e):n==="encrypt"?this.formatName(e):e:e}},methods:{formatName(e){let t="";if(e.length===2)t=`${e.substr(0,1)}*`;else if(e.length>2){let n="";for(let l=0,p=e.length-2;l<p;l++)n+="*";t=e.substr(0,1)+n+e.substr(-1,1)}else t=e;return t}}};let E=[];E=[z,B];const O={name:"PressText",options:{virtualHost:!0,styleIsolation:"shared"},components:{PressIconPlus:x,PressLink:F},mixins:E,emits:["click"],data(){return{}},computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:w(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=w(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),b([e,this.customStyle])},parsedIconStyle(){return b([{fontSize:"15px",display:"flex",alignItems:"center"},this.iconStyle])},isNvue(){return!1},isMp(){return!1}},methods:{styleUtil:b,clickHandler(){this.call&&this.mode==="phone"&&uni.makePhoneCall({phoneNumber:this.text}),this.$emit("click")}}},A={key:1,class:"press-text__prefix-icon"},U=["data-index","openType","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"],j={key:5,class:"press-text__suffix-icon"};function X(e,t,n,l,p,i){const r=g("PressIconPlus"),a=g("PressLink");return e.show?(f(),d("div",{key:0,class:c(["press-text",[]]),style:y({margin:e.margin,justifyContent:e.align==="left"?"flex-start":e.align==="center"?"center":"flex-end"}),onClick:t[6]||(t[6]=H((...o)=>i.clickHandler&&i.clickHandler(...o),["stop"]))},[e.mode==="price"?(f(),d("span",{key:0,class:c(["press-text__price",e.type&&`press-text__value--${e.type}`]),style:y(i.valueStyle)}," ￥ ",6)):h("",!0),e.prefixIcon?(f(),d("div",A,[s(r,{name:e.prefixIcon,"custom-style":i.parsedIconStyle},null,8,["name","custom-style"])])):h("",!0),e.mode==="link"?(f(),G(a,{key:2,text:e.value,href:e.href,underline:""},null,8,["text","href"])):e.openType&&i.isMp?(f(),d("button",{key:3,class:c(["press-reset-button","press-text__value",e.type&&`press-text__value--${e.type}`]),style:y(i.valueStyle),"data-index":e.index,openType:e.openType,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onGetuserinfo:t[0]||(t[0]=(...o)=>e.onGetUserInfo&&e.onGetUserInfo(...o)),onContact:t[1]||(t[1]=(...o)=>e.onContact&&e.onContact(...o)),onGetphonenumber:t[2]||(t[2]=(...o)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...o)),onError:t[3]||(t[3]=(...o)=>e.onError&&e.onError(...o)),onLaunchapp:t[4]||(t[4]=(...o)=>e.onLaunchApp&&e.onLaunchApp(...o)),onOpensetting:t[5]||(t[5]=(...o)=>e.onOpenSetting&&e.onOpenSetting(...o))},I(e.value),47,U)):(f(),d("span",{key:4,class:c(["press-text__value",[e.type&&`press-text__value--${e.type}`,e.lines&&`press-line-${e.lines}`]]),style:y(i.valueStyle)},I(e.value),7)),e.suffixIcon?(f(),d("div",j,[s(r,{name:e.suffixIcon,"custom-style":i.parsedIconStyle},null,8,["name","custom-style"])])):h("",!0)],4)):h("",!0)}const D=T(O,[["render",X],["__scopeId","data-v-e744517f"]]),V={i18n:{"zh-CN":{theme:"自定义主题",phone:"电话",date:"日期",name:"姓名",link:"超链接",price:"金额",icon:"前后图标",ellipsis:"超出隐藏",openType:"小程序开放能力",primary:"主色",error:"错误",success:"成功",warning:"警告",info:"信息",oneName:"花木兰",checkMore:"查看更多",snow:"2002年的第一场雪",shareWX:"分享小程序",basicText:"朝花夕拾"},"en-US":{theme:"Theme",phone:"Phone Mode",date:"Date Mode",name:"Name",link:"Link",price:"Price",icon:"Icon",ellipsis:"Ellipsis",openType:"OpenType",primary:"Primary",error:"Error",success:"Success",warning:"Warning",info:"INfo",oneName:"AoBaMa",checkMore:"Check More",snow:"The Snow",shareWX:"Share To WeiXin",basicText:"Seize The Day"}},components:{PressText:D},data(){return{}},methods:{clickHandler(){this.onGTip("请在小程序内查看效果")}}},R={class:"demo-wrap"};function q(e,t,n,l,p,i){const r=g("PressText"),a=g("demo-block");return f(),d("div",R,[s(a,{title:e.t("basicUsage")},{default:u(()=>[s(r,{text:e.t("basicText")},null,8,["text"])]),_:1},8,["title"]),s(a,{title:e.t("theme"),"section-style":"display: flex;"},{default:u(()=>[s(r,{type:"primary",text:e.t("primary")},null,8,["text"]),s(r,{type:"error",text:e.t("error")},null,8,["text"]),s(r,{type:"success",text:e.t("success")},null,8,["text"]),s(r,{type:"warning",text:e.t("warning")},null,8,["text"]),s(r,{type:"info",text:e.t("info")},null,8,["text"])]),_:1},8,["title"]),s(a,{title:e.t("phone")},{default:u(()=>[s(r,{mode:"phone",text:"19012345678",call:""}),s(r,{mode:"phone",text:"19012345678",format:"encrypt"})]),_:1},8,["title"]),s(a,{title:e.t("date")},{default:u(()=>[s(r,{mode:"date",text:"1720633407953"})]),_:1},8,["title"]),s(a,{title:e.t("name")},{default:u(()=>[s(r,{mode:"name",text:e.t("oneName"),format:"encrypt"},null,8,["text"])]),_:1},8,["title"]),s(a,{title:e.t("link")},{default:u(()=>[s(r,{mode:"link",text:"Go to Press UI docs",href:"https://novlan1.github.io/press-ui/"})]),_:1},8,["title"]),s(a,{title:e.t("price")},{default:u(()=>[s(r,{mode:"price",text:"728732.32"})]),_:1},8,["title"]),s(a,{title:e.t("icon"),"section-style":"display: flex;"},{default:u(()=>[s(r,{"prefix-icon":"like-o","icon-style":"margin-right: 4px;",text:e.t("snow")},null,8,["text"]),s(r,{"suffix-icon":"arrow",text:e.t("checkMore")},null,8,["text"])]),_:1},8,["title"]),s(a,{title:e.t("ellipsis")},{default:u(()=>[s(r,{lines:2,text:e.t("longText")},null,8,["text"])]),_:1},8,["title"]),s(a,{title:e.t("openType")},{default:u(()=>[s(r,{text:e.t("shareWX"),"open-type":"share",type:"success",onClick:i.clickHandler},null,8,["text","onClick"])]),_:1},8,["title"])])}const se=T(V,[["render",q],["__scopeId","data-v-e6a60cfd"]]);export{se as default};
