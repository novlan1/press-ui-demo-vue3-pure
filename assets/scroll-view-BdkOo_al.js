import{P as S,p as D}from"./support-passive-CNRHRm4O.js";import{_ as Y,o as x,c as w,a as y,m as v,d as E,i as P,Q as B,R as W,p as $,e as I}from"./index-C7cPaXoT.js";import{i as R}from"./utils-BWNRMl9G.js";import{s as z}from"./add-unit-Ci6RUrQO.js";function m(t){this._drag=t,this._dragLog=Math.log(t),this._x=0,this._v=0,this._startTime=0}m.prototype.set=function(t,i){this._x=t,this._v=i,this._startTime=new Date().getTime()};m.prototype.setVelocityByEnd=function(t){this._v=(t-this._x)*this._dragLog/(Math.pow(this._drag,100)-1)};m.prototype.x=function(t){t===void 0&&(t=(new Date().getTime()-this._startTime)/1e3);const i=t===this._dt&&this._powDragDt?this._powDragDt:this._powDragDt=Math.pow(this._drag,t);return this._dt=t,this._x+this._v*i/this._dragLog-this._v/this._dragLog};m.prototype.dx=function(t){t===void 0&&(t=(new Date().getTime()-this._startTime)/1e3);const i=t===this._dt&&this._powDragDt?this._powDragDt:this._powDragDt=Math.pow(this._drag,t);return this._dt=t,this._v*i};m.prototype.done=function(){return Math.abs(this.dx())<3};m.prototype.reconfigure=function(t){const i=this.x(),e=this.dx();this._drag=t,this._dragLog=Math.log(t),this.set(i,e)};m.prototype.configuration=function(){const t=this;return[{label:"Friction",read(){return t._drag},write(i){t.reconfigure(i)},min:.001,max:.1,step:.001}]};function H(t,i,e){return t>i-e&&t<i+e}function T(t,i){return H(t,0,i)}function N({e:t,c:i,u:e}){let s,r;return t===this._t&&(s=this._powER1T,r=this._powER2T),this._t=t,s||(this._powER1T=Math.pow(Math.E,i*t),s=this._powER1T),r||(this._powER2T=Math.pow(Math.E,e*t),r=this._powER2T),{t:s,n:r}}function _(t,i,e){this._m=t,this._k=i,this._c=e,this._solution=null,this._endPosition=0,this._startTime=0}_.prototype._solve=function(t,i){const e=this._c,s=this._m,r=this._k,n=e*e-4*s*r;if(n===0){const h=-e/(2*s),a=t,d=i/(h*t);return{x(c){return(a+d*c)*Math.pow(Math.E,h*c)},dx(c){const b=Math.pow(Math.E,h*c);return h*(a+d*c)*b+d*b}}}if(n>0){const h=(-e-Math.sqrt(n))/(2*s),a=(-e+Math.sqrt(n))/(2*s),d=(i-h*t)/(a-h),c=t-d;return{x(b){const{t:M,n:L}=N({e:b,c:h,u:a});return c*M+d*L},dx(b){const{t:M,n:L}=N({e:b,c:h,u:a});return c*h*M+d*a*L}}}const o=Math.sqrt(4*s*r-e*e)/(2*s),l=-e/2*s,f=t,u=(i-l*t)/o;return{x(h){return Math.pow(Math.E,l*h)*(f*Math.cos(o*h)+u*Math.sin(o*h))},dx(h){const a=Math.pow(Math.E,l*h),d=Math.cos(o*h),c=Math.sin(o*h);return a*(u*o*d-f*o*c)+l*a*(u*c+f*d)}}};_.prototype.x=function(t){return t===void 0&&(t=(new Date().getTime()-this._startTime)/1e3),this._solution?this._endPosition+this._solution.x(t):0};_.prototype.dx=function(t){return t===void 0&&(t=(new Date().getTime()-this._startTime)/1e3),this._solution?this._solution.dx(t):0};_.prototype.setEnd=function(t,i,e){if(e||(e=new Date().getTime()),t!==this._endPosition||!T(i,.4)){i=i||0;let s=this._endPosition;this._solution&&(T(i,.4)&&(i=this._solution.dx((e-this._startTime)/1e3)),s=this._solution.x((e-this._startTime)/1e3),T(i,.4)&&(i=0),T(s,.4)&&(s=0),s+=this._endPosition),this._solution&&T(s-t,.4)&&T(i,.4)||(this._endPosition=t,this._solution=this._solve(s-this._endPosition,i),this._startTime=e)}};_.prototype.snap=function(t){this._startTime=new Date().getTime(),this._endPosition=t,this._solution={x(){return 0},dx(){return 0}}};_.prototype.done=function(t){return t||(t=new Date().getTime()),H(this.x(),this._endPosition,.4)&&T(this.dx(),.4)};_.prototype.reconfigure=function(t,i,e){this._m=t,this._k=i,this._c=e,this.done()||(this._solution=this._solve(this.x()-this._endPosition,this.dx()),this._startTime=new Date().getTime())};_.prototype.springConstant=function(){return this._k};_.prototype.damping=function(){return this._c};_.prototype.configuration=function(){function t(e,s){e.reconfigure(1,s,e.damping())}function i(e,s){e.reconfigure(1,e.springConstant(),s)}return[{label:"Spring Constant",read:this.springConstant.bind(this),write:t.bind(this,this),min:100,max:1e3},{label:"Damping",read:this.damping.bind(this),write:i.bind(this,this),min:1,max:500}]};function g(t,i,e){this._extent=t,this._friction=i||new m(.01),this._spring=e||new _(1,90,20),this._startTime=0,this._springing=!1,this._springOffset=0}g.prototype.snap=function(t,i){this._springOffset=0,this._springing=!0,this._spring.snap(t),this._spring.setEnd(i)};g.prototype.set=function(t,i){this._friction.set(t,i),t>0&&i>=0?(this._springOffset=0,this._springing=!0,this._spring.snap(t),this._spring.setEnd(0)):t<-this._extent&&i<=0?(this._springOffset=0,this._springing=!0,this._spring.snap(t),this._spring.setEnd(-this._extent)):this._springing=!1,this._startTime=new Date().getTime()};g.prototype.x=function(t){if(!this._startTime)return 0;if(t||(t=(new Date().getTime()-this._startTime)/1e3),this._springing)return this._spring.x()+this._springOffset;let i=this._friction.x(t);const e=this.dx(t);return(i>0&&e>=0||i<-this._extent&&e<=0)&&(this._springing=!0,this._spring.setEnd(0,e),i<-this._extent?this._springOffset=-this._extent:this._springOffset=0,i=this._spring.x()+this._springOffset),i};g.prototype.dx=function(t){let i=0;return i=this._lastTime===t?this._lastDx:this._springing?this._spring.dx(t):this._friction.dx(t),this._lastTime=t,this._lastDx=i,i};g.prototype.done=function(){return this._springing?this._spring.done():this._friction.done()};g.prototype.setVelocityByEnd=function(t){this._friction.setVelocityByEnd(t)};g.prototype.configuration=function(){const t=this._friction.configuration();return t.push.apply(t,this._spring.configuration()),t};function C(t,i,e){function s(o,l,f,u){if(!o||!o.cancelled){f(l);const h=l.done();h||o.cancelled||(o.id=requestAnimationFrame(s.bind(null,o,l,f,u))),h&&u&&u(l)}}function r(o){o&&o.id&&cancelAnimationFrame(o.id),o&&(o.cancelled=!0)}const n={id:0,cancelled:!1};return s(n,t,i,e),{cancel:r.bind(null,n),model:t}}function p(t,i){i=i||{},this._element=t,this._options=i,this._enableSnap=i.enableSnap||!1,this._itemSize=i.itemSize||0,this._enableX=i.enableX||!1,this._enableY=i.enableY||!1,this._shouldDispatchScrollEvent=!!i.onScroll,this._enableX?(this._extent=(i.scrollWidth||this._element.offsetWidth)-this._element.parentElement.offsetWidth,this._scrollWidth=i.scrollWidth):(this._extent=(i.scrollHeight||this._element.offsetHeight)-this._element.parentElement.offsetHeight,this._scrollHeight=i.scrollHeight),this._position=0,this._scroll=new g(this._extent,i.friction,i.spring),this._onTransitionEnd=this.onTransitionEnd.bind(this),this.updatePosition()}p.prototype.onTouchStart=function(){this._startPosition=this._position,this._lastChangePos=this._startPosition,this._startPosition>0?this._startPosition/=.5:this._startPosition<-this._extent&&(this._startPosition=(this._startPosition+this._extent)/.5-this._extent),this._animation&&(this._animation.cancel(),this._scrolling=!1),this.updatePosition()};p.prototype.onTouchMove=function(t,i){let e=this._startPosition;this._enableX?e+=t:this._enableY&&(e+=i),e>0?e*=.5:e<-this._extent&&(e=.5*(e+this._extent)-this._extent),this._position=e,this.updatePosition(),this.dispatchScroll()};p.prototype.onTouchEnd=function(t,i,e){if(this._enableSnap&&this._position>-this._extent&&this._position<0){if(this._enableY&&(Math.abs(i)<this._itemSize&&Math.abs(e.y)<300||Math.abs(e.y)<150)){this.snap();return}if(this._enableX&&(Math.abs(t)<this._itemSize&&Math.abs(e.x)<300||Math.abs(e.x)<150)){this.snap();return}}this._enableX?this._scroll.set(this._position,e.x):this._enableY&&this._scroll.set(this._position,e.y);let s;if(this._enableSnap){const r=this._scroll._friction.x(100),n=r%this._itemSize;s=Math.abs(n)>this._itemSize/2?r-(this._itemSize-Math.abs(n)):r-n,s<=0&&s>=-this._extent&&this._scroll.setVelocityByEnd(s)}this._lastTime=Date.now(),this._lastDelay=0,this._scrolling=!0,this._lastChangePos=this._position,this._lastIdx=Math.floor(Math.abs(this._position/this._itemSize)),this._animation=C(this._scroll,()=>{const r=Date.now(),n=(r-this._scroll._startTime)/1e3,o=this._scroll.x(n);this._position=o,this.updatePosition();const l=this._scroll.dx(n);this._shouldDispatchScrollEvent&&r-this._lastTime>this._lastDelay&&(this.dispatchScroll(),this._lastDelay=Math.abs(2e3/l),this._lastTime=r)},()=>{this._enableSnap&&(s<=0&&s>=-this._extent&&(this._position=s,this.updatePosition()),typeof this._options.onSnap=="function"&&this._options.onSnap(Math.floor(Math.abs(this._position)/this._itemSize))),this._shouldDispatchScrollEvent&&this.dispatchScroll(),this._scrolling=!1})};p.prototype.onTransitionEnd=function(){this._element.style.transition="",this._element.style.webkitTransition="",this._element.removeEventListener("transitionend",this._onTransitionEnd),this._element.removeEventListener("webkitTransitionEnd",this._onTransitionEnd),this._snapping&&(this._snapping=!1),this.dispatchScroll()};p.prototype.snap=function(){const t=this._itemSize,i=this._position%t,e=Math.abs(i)>this._itemSize/2?this._position-(t-Math.abs(i)):this._position-i;this._position!==e&&(this._snapping=!0,this.scrollTo(-e),typeof this._options.onSnap=="function"&&this._options.onSnap(Math.floor(Math.abs(this._position)/this._itemSize)))};p.prototype.scrollTo=function(t,i){this._animation&&(this._animation.cancel(),this._scrolling=!1),typeof t=="number"&&(this._position=-t),this._position<-this._extent?this._position=-this._extent:this._position>0&&(this._position=0),this._element.style.transition=`transform ${i||.2}s ease-out`,this._element.style.webkitTransition=`-webkit-transform ${i||.2}s ease-out`,this.updatePosition(),this._element.addEventListener("transitionend",this._onTransitionEnd),this._element.addEventListener("webkitTransitionEnd",this._onTransitionEnd)};p.prototype.dispatchScroll=function(){if(typeof this._options.onScroll=="function"&&Math.round(this._lastPos)!==Math.round(this._position)){this._lastPos=this._position;const t={target:{scrollLeft:this._enableX?-this._position:0,scrollTop:this._enableY?-this._position:0,scrollHeight:this._scrollHeight||this._element.offsetHeight,scrollWidth:this._scrollWidth||this._element.offsetWidth,offsetHeight:this._element.parentElement.offsetHeight,offsetWidth:this._element.parentElement.offsetWidth}};this._options.onScroll(t)}};p.prototype.update=function(t,i,e){let s=0;const r=this._position;this._enableX?(s=this._element.childNodes.length?(i||this._element.offsetWidth)-this._element.parentElement.offsetWidth:0,this._scrollWidth=i):(s=this._element.childNodes.length?(i||this._element.offsetHeight)-this._element.parentElement.offsetHeight:0,this._scrollHeight=i),typeof t=="number"&&(this._position=-t),this._position<-s?this._position=-s:this._position>0&&(this._position=0),this._itemSize=e||this._itemSize,this.updatePosition(),r!==this._position&&(this.dispatchScroll(),typeof this._options.onSnap=="function"&&this._options.onSnap(Math.floor(Math.abs(this._position)/this._itemSize))),this._extent=s,this._scroll._extent=s};p.prototype.updatePosition=function(){let t="";this._enableX?t=`translateX(${this._position}px) translateZ(0)`:this._enableY&&(t=`translateY(${this._position}px) translateZ(0)`),this._element.style.webkitTransform=t,this._element.style.transform=t};p.prototype.isScrolling=function(){return this._scrolling||this._snapping};const A={methods:{initScroller(t,i){this._touchInfo={trackingID:-1,maxDy:0,maxDx:0},this._scroller=new p(t,i),this.__handleTouchStart=this._handleTouchStart.bind(this),this.__handleTouchMove=this._handleTouchMove.bind(this),this.__handleTouchEnd=this._handleTouchEnd.bind(this),this._initedScroller=!0},_findDelta(t){const i=this._touchInfo;return t.detail.state==="move"||t.detail.state==="end"?{x:t.detail.dx,y:t.detail.dy}:{x:t.screenX-i.x,y:t.screenY-i.y}},_handleTouchStart(t){const i=this._touchInfo,e=this._scroller;e&&(t.detail.state==="start"?(i.trackingID="touch",i.x=t.detail.x,i.y=t.detail.y):(i.trackingID="mouse",i.x=t.screenX,i.y=t.screenY),i.maxDx=0,i.maxDy=0,i.historyX=[0],i.historyY=[0],i.historyTime=[t.detail.timeStamp],i.listener=e,e.onTouchStart&&e.onTouchStart(),t.preventDefault())},_handleTouchMove(t){const i=this._touchInfo;if(i.trackingID!==-1){t.preventDefault();const e=this._findDelta(t);if(e){for(i.maxDy=Math.max(i.maxDy,Math.abs(e.y)),i.maxDx=Math.max(i.maxDx,Math.abs(e.x)),i.historyX.push(e.x),i.historyY.push(e.y),i.historyTime.push(t.detail.timeStamp);i.historyTime.length>10;)i.historyTime.shift(),i.historyX.shift(),i.historyY.shift();i.listener&&i.listener.onTouchMove&&i.listener.onTouchMove(e.x,e.y,t.detail.timeStamp)}}},_handleTouchEnd(t){const i=this._touchInfo;if(i.trackingID!==-1){t.preventDefault();const e=this._findDelta(t);if(e){const{listener:s}=i;i.trackingID=-1,i.listener=null;const r=i.historyTime.length,n={x:0,y:0};if(r>2)for(let o=i.historyTime.length-1,l=i.historyTime[o],f=i.historyX[o],u=i.historyY[o];o>0;){o-=1;const h=i.historyTime[o],a=l-h;if(a>30&&a<50){n.x=(f-i.historyX[o])/(a/1e3),n.y=(u-i.historyY[o])/(a/1e3);break}}i.historyTime=[],i.historyX=[],i.historyY=[],s&&s.onTouchEnd&&s.onTouchEnd(e.x,e.y,n)}}}}},V={name:"ScrollView",mixins:[A],props:{scrollX:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},upperThreshold:{type:[Number,String],default:50},lowerThreshold:{type:[Number,String],default:50},scrollTop:{type:[Number,String],default:0},scrollLeft:{type:[Number,String],default:0},scrollIntoView:{type:String,default:""},scrollWithAnimation:{type:[Boolean,String],default:!1},enableBackToTop:{type:[Boolean,String],default:!1},refresherEnabled:{type:[Boolean,String],default:!1},refresherThreshold:{type:Number,default:45},refresherDefaultStyle:{type:String,default:"back"},refresherBackground:{type:String,default:"#fff"},refresherTriggered:{type:[Boolean,String],default:!1}},emits:["update:refresherTriggered","scroll","scrolltoupper","scrolltolower","refresherpulling","refresherrefresh","refresherabort","refresherrestore"],data(){return{lastScrollTop:Number(this.scrollTop)||0,lastScrollLeft:Number(this.scrollLeft)||0,lastScrollToUpperTime:0,lastScrollToLowerTime:0,refresherHeight:0,refreshRotate:0,refreshState:""}},computed:{upperThresholdNumber(){const t=Number(this.upperThreshold);return isNaN(t)?50:t},lowerThresholdNumber(){const t=Number(this.lowerThreshold);return isNaN(t)?50:t},scrollTopNumber(){return Number(this.scrollTop)||0},scrollLeftNumber(){return Number(this.scrollLeft)||0}},watch:{scrollTopNumber(t){this._scrollTopChanged(t)},scrollLeftNumber(t){this._scrollLeftChanged(t)},scrollIntoView(t){this._scrollIntoViewChanged(t)},refresherTriggered(t){t===!0?this._setRefreshState("refreshing"):t===!1&&this._setRefreshState("restore")}},mounted(){const t=this;let i=null,e=null;this._attached=!0,this.toUpperNumber=0,this.triggerAbort=!1,this.beforeRefreshing=!1,this._scrollTopChanged(this.scrollTopNumber),this._scrollLeftChanged(this.scrollLeftNumber),this._scrollIntoViewChanged(this.scrollIntoView),this.__handleScroll=function(s){s.preventDefault(),s.stopPropagation(),t._handleScroll.bind(t,s)()},this.__handleTouchMove=function(s){if(i===null)return;const r=s.touches[0].pageX,n=s.touches[0].pageY,{main:o}=t.$refs;if(Math.abs(r-i.x)>Math.abs(n-i.y))if(t.scrollX){if(o.scrollLeft===0&&r>i.x){e=!1;return}if(o.scrollWidth===o.offsetWidth+o.scrollLeft&&r<i.x){e=!1;return}e=!0}else e=!1;else if(t.scrollY)if(o.scrollTop===0&&n>i.y)e=!1,t.refresherEnabled&&s.cancelable!==!1&&s.preventDefault();else if(o.scrollHeight===o.offsetHeight+o.scrollTop&&n<i.y){e=!1;return}else e=!0;else e=!1;if(e&&s.stopPropagation(),o.scrollTop===0&&s.touches.length===1&&(t.refreshState="pulling"),t.refresherEnabled&&t.refreshState==="pulling"){const l=n-i.y;t.toUpperNumber===0&&(t.toUpperNumber=n),t.beforeRefreshing?(t.refresherHeight=l+t.refresherThreshold,t.triggerAbort=!1):(t.refresherHeight=n-t.toUpperNumber,t.refresherHeight>0&&(t.triggerAbort=!0,t.$trigger("refresherpulling",s,{deltaY:l})));const f=t.refresherHeight/t.refresherThreshold;t.refreshRotate=(f>1?1:f)*360}},this.__handleTouchStart=function(s){s.touches.length===1&&(i={x:s.touches[0].pageX,y:s.touches[0].pageY})},this.__handleTouchEnd=function(){i=null,t.refresherHeight>=t.refresherThreshold?t._setRefreshState("refreshing"):t._setRefreshState("refresherabort")},this.$refs.main.addEventListener("touchstart",this.__handleTouchStart,S),this.$refs.main.addEventListener("touchmove",this.__handleTouchMove,D(!1)),this.$refs.main.addEventListener("scroll",this.__handleScroll,D(!1)),this.$refs.main.addEventListener("touchend",this.__handleTouchEnd,S)},activated(){this.scrollY&&(this.$refs.main.scrollTop=this.lastScrollTop),this.scrollX&&(this.$refs.main.scrollLeft=this.lastScrollLeft)},beforeDestroy(){this.$refs.main.removeEventListener("touchstart",this.__handleTouchStart,S),this.$refs.main.removeEventListener("touchmove",this.__handleTouchMove,S),this.$refs.main.removeEventListener("scroll",this.__handleScroll,D(!1)),this.$refs.main.removeEventListener("touchend",this.__handleTouchEnd,S)},methods:{$trigger(t,i){this.$emit(t,i)},scrollTo(t,i){const e=this.$refs.main;t<0?t=0:i==="x"&&t>e.scrollWidth-e.offsetWidth?t=e.scrollWidth-e.offsetWidth:i==="y"&&t>e.scrollHeight-e.offsetHeight&&(t=e.scrollHeight-e.offsetHeight);let s=0,r="";i==="x"?s=e.scrollLeft-t:i==="y"&&(s=e.scrollTop-t),s!==0&&(this.$refs.content.style.transition="transform .3s ease-out",this.$refs.content.style.webkitTransition="-webkit-transform .3s ease-out",i==="x"?r=`translateX(${s}px) translateZ(0)`:i==="y"&&(r=`translateY(${s}px) translateZ(0)`),this.$refs.content.removeEventListener("transitionend",this.__transitionEnd),this.$refs.content.removeEventListener("webkitTransitionEnd",this.__transitionEnd),this.__transitionEnd=this._transitionEnd.bind(this,t,i),this.$refs.content.addEventListener("transitionend",this.__transitionEnd),this.$refs.content.addEventListener("webkitTransitionEnd",this.__transitionEnd),i==="x"?e.style.overflowX="hidden":i==="y"&&(e.style.overflowY="hidden"),this.$refs.content.style.transform=r,this.$refs.content.style.webkitTransform=r)},_handleTrack(t){if(t.detail.state==="start"){this._x=t.detail.x,this._y=t.detail.y,this._noBubble=null;return}t.detail.state==="end"&&(this._noBubble=!1),this._noBubble===null&&this.scrollY&&(Math.abs(this._y-t.detail.y)/Math.abs(this._x-t.detail.x)>1?this._noBubble=!0:this._noBubble=!1),this._noBubble===null&&this.scrollX&&(Math.abs(this._x-t.detail.x)/Math.abs(this._y-t.detail.y)>1?this._noBubble=!0:this._noBubble=!1),this._x=t.detail.x,this._y=t.detail.y,this._noBubble&&t.stopPropagation()},_handleScroll(t){const{target:i}=t;this.$trigger("scroll",t,{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop,scrollHeight:i.scrollHeight,scrollWidth:i.scrollWidth,deltaX:this.lastScrollLeft-i.scrollLeft,deltaY:this.lastScrollTop-i.scrollTop}),this.scrollY&&(i.scrollTop<=this.upperThresholdNumber&&this.lastScrollTop-i.scrollTop>0&&t.timeStamp-this.lastScrollToUpperTime>200&&(this.$trigger("scrolltoupper",t,{direction:"top"}),this.lastScrollToUpperTime=t.timeStamp),i.scrollTop+i.offsetHeight+this.lowerThresholdNumber>=i.scrollHeight&&this.lastScrollTop-i.scrollTop<0&&t.timeStamp-this.lastScrollToLowerTime>200&&(this.$trigger("scrolltolower",t,{direction:"bottom"}),this.lastScrollToLowerTime=t.timeStamp)),this.scrollX&&(i.scrollLeft<=this.upperThresholdNumber&&this.lastScrollLeft-i.scrollLeft>0&&t.timeStamp-this.lastScrollToUpperTime>200&&(this.$trigger("scrolltoupper",t,{direction:"left"}),this.lastScrollToUpperTime=t.timeStamp),i.scrollLeft+i.offsetWidth+this.lowerThresholdNumber>=i.scrollWidth&&this.lastScrollLeft-i.scrollLeft<0&&t.timeStamp-this.lastScrollToLowerTime>200&&(this.$trigger("scrolltolower",t,{direction:"right"}),this.lastScrollToLowerTime=t.timeStamp)),this.lastScrollTop=i.scrollTop,this.lastScrollLeft=i.scrollLeft},_scrollTopChanged(t){this.scrollY&&(this._innerSetScrollTop?this._innerSetScrollTop=!1:this.scrollWithAnimation?this.scrollTo(t,"y"):this.$refs.main.scrollTop=t)},_scrollLeftChanged(t){this.scrollX&&(this._innerSetScrollLeft?this._innerSetScrollLeft=!1:this.scrollWithAnimation?this.scrollTo(t,"x"):this.$refs.main.scrollLeft=t)},_scrollIntoViewChanged(t){if(t){if(!/^[_a-zA-Z][-_a-zA-Z0-9:]*$/.test(t)){console.error(`id error: scroll-into-view=${t}`);return}const i=this.$el.querySelector(`#${t}`);if(i){const e=this.$refs.main.getBoundingClientRect(),s=i.getBoundingClientRect();if(this.scrollX){const r=s.left-e.left,{scrollLeft:n}=this.$refs.main,o=n+r;this.scrollWithAnimation?this.scrollTo(o,"x"):this.$refs.main.scrollLeft=o}if(this.scrollY){const r=s.top-e.top,{scrollTop:n}=this.$refs.main,o=n+r;this.scrollWithAnimation?this.scrollTo(o,"y"):this.$refs.main.scrollTop=o}}}},_transitionEnd(t,i){this.$refs.content.style.transition="",this.$refs.content.style.webkitTransition="",this.$refs.content.style.transform="",this.$refs.content.style.webkitTransform="";const{main:e}=this.$refs;i==="x"?(e.style.overflowX=this.scrollX?"auto":"hidden",e.scrollLeft=t):i==="y"&&(e.style.overflowY=this.scrollY?"auto":"hidden",e.scrollTop=t),this.$refs.content.removeEventListener("transitionend",this.__transitionEnd),this.$refs.content.removeEventListener("webkitTransitionEnd",this.__transitionEnd)},_setRefreshState(t){switch(t){case"refreshing":this.refresherHeight=this.refresherThreshold,this.beforeRefreshing||(this.beforeRefreshing=!0,this.$trigger("refresherrefresh",{},{}));break;case"restore":case"refresherabort":this.beforeRefreshing=!1,this.refresherHeight=0,this.toUpperNumber=0,t==="restore"&&(this.triggerAbort=!1,this.$trigger("refresherrestore",{},{})),t==="refresherabort"&&this.triggerAbort&&(this.triggerAbort=!1,this.$trigger("refresherabort",{},{}));break}this.refreshState=t},getScrollPosition(){const{main:t}=this.$refs;return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth}}}},k=t=>($("data-v-083b4e17"),t=t(),I(),t),U={ref:"wrap",class:"uni-scroll-view"},O={ref:"content",class:"uni-scroll-view-content"},Z={key:0,class:"uni-scroll-view-refresh"},q={class:"uni-scroll-view-refresh-inner"},F=k(()=>y("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},null,-1)),Q=k(()=>y("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1)),j=[F,Q],G={key:"refresh__spinner",class:"uni-scroll-view-refresh__spinner",width:"24",height:"24",viewBox:"25 25 50 50"},J=k(()=>y("circle",{cx:"50",cy:"50",r:"20",fill:"none",style:{color:"#2bd009"},"stroke-width":"3"},null,-1)),K=[J];function tt(t,i,e,s,r,n){return x(),w("uni-scroll-view",B(W(t.$attrs)),[y("div",U,[y("div",{ref:"main",style:v({"overflow-x":e.scrollX?"auto":"hidden","overflow-y":e.scrollY?"auto":"hidden"}),class:"uni-scroll-view"},[y("div",O,[e.refresherEnabled?(x(),w("div",{key:0,ref:"refresherinner",style:v({"background-color":e.refresherBackground,height:r.refresherHeight+"px"}),class:"uni-scroll-view-refresher"},[e.refresherDefaultStyle!=="none"?(x(),w("div",Z,[y("div",q,[r.refreshState=="pulling"?(x(),w("svg",{key:"refresh__icon",style:v({transform:"rotate("+r.refreshRotate+"deg)"}),fill:"#2BD009",class:"uni-scroll-view-refresh__icon",width:"24",height:"24",viewBox:"0 0 24 24"},j,4)):E("",!0),r.refreshState=="refreshing"?(x(),w("svg",G,K)):E("",!0)])])):E("",!0),e.refresherDefaultStyle=="none"?P(t.$slots,"refresher",{key:1},void 0,!0):E("",!0)],4)):E("",!0),P(t.$slots,"default",{},void 0,!0)],512)],4)],512)],16)}const it=Y(V,[["render",tt],["__scopeId","data-v-083b4e17"]]);let X={};R()&&(X={ScrollView:it},z(["uni-scroll-view"],app));const nt={components:{...X}};export{nt as S};
