import{P as _}from"./press-q-r-code-BXwder8l.js";import{_ as h,r as i,c as g,o as C,b as o,w as d,n as r,e as f,a as k,t as m,d as A,h as y}from"./index-CCB1KbBH.js";const P="press__";function w(l){return l.reduce((a,s)=>(Array.isArray(s)?a.push(...s):a.push(s),a),[]).reduce((a,s)=>(typeof s=="string"?a.push(s):typeof s=="object"&&Object.keys(s).map(e=>{s[e]&&a.push(e)}),a),[])}function b(l,t,n){return v(l,t,P,n)}function v(l,t,n,a){const s=w(a),e=s.map(c=>c&&t[c]||""),p=s.map(c=>{const u=new RegExp(`^${n}`);return c?u.test(c)?c:`${n}${c}`:""});return l?[...p,...e].join(" "):p.join(" ")}const S={popup:"tip-match-bottom-popup-wrap",mask:"tip-match-mask","mask--fade-in":"tip-match-fade-in","mask--fade-out":"tip-match-fade-out",content:"tip-match-popup-content","content--bottom-enter":"tip-match-bottom-enter","content--bottom-leave":"tip-match-bottom-leave","title-wrap":"tip-match-popup-title-wrap","title-line":"tip-match-popup-title-line",back:"tip-match-popup-back",title:"tip-match-popup-title",close:"tip-match-popup-close","qr-code":"tip-match-wx-code",save:"tip-match-code-save",tip:"tip-match-code-tip"};function R(l,t){return b(l,S,t)}const q={name:"PressQRCodePopup",components:{PressQRCode:_},props:{qrCodeUrl:{type:String,default:"",require:!0},type:{type:Number,default:2,require:!1},title:{type:String,default:""},description:{type:String,default:"截图或长按保存图片"},tip:{type:String,default:""},useTipClass:{type:Boolean,default:!1}},emits:["onCancel"],data(){return{isShowPopup:!0}},computed:{typeName(){return this.type===1?"QQ":"微信"},innerTitle(){const{typeName:l,title:t}=this;return t||`请使用${l}扫码打开活动`},innerTip(){const{typeName:l,tip:t}=this;return t||`使用${l}扫码打开访问页面`}},methods:{clickCancel(){this.isShowPopup=!1,this.timer=setTimeout(()=>{this.$emit("onCancel")},400)},getActClass(...l){return R(this.useTipClass,l)}}};function Q(l,t,n,a,s,e){const p=i("PressQRCode");return C(),g("div",{class:r([e.getActClass("popup")])},[o("div",{class:r([e.getActClass("mask"),s.isShowPopup?e.getActClass("mask--fade-in"):e.getActClass("mask--fade-out")]),onClick:t[0]||(t[0]=d((...c)=>e.clickCancel&&e.clickCancel(...c),["stop"]))},null,2),o("div",{class:r([e.getActClass("content"),s.isShowPopup?e.getActClass("content--bottom-enter"):e.getActClass("content--bottom-leave")])},[o("div",{class:r([e.getActClass("title-wrap")])},[o("div",{class:r([e.getActClass("title-line")]),onClick:t[1]||(t[1]=d((...c)=>e.clickCancel&&e.clickCancel(...c),["stop"]))},null,2),o("div",{class:r([e.getActClass("back")]),onClick:t[2]||(t[2]=d((...c)=>e.clickCancel&&e.clickCancel(...c),["stop"]))},null,2),o("p",{class:r([e.getActClass("title")])},m(e.innerTitle),3),k("",!0)],2),f(p,{value:n.qrCodeUrl,size:120,class:r([e.getActClass("qr-code")])},null,8,["value","class"]),o("p",{class:r([e.getActClass("save")])},m(n.description),3),o("p",{class:r([e.getActClass("tip")])},m(e.innerTip),3)],2)],2)}const T=h(q,[["render",Q],["__scopeId","data-v-5cdaefae"]]),N={components:{PressQRCodePopup:T},data(){let l="https://baidu.com",t=!1;return l=document.location.href,t=!0,{currentUrl:l,show:t,type:1}},methods:{showDialog(){this.show=!0}}},x={class:"demo-wrap"};function B(l,t,n,a,s,e){const p=i("press-cell"),c=i("demo-block"),u=i("PressQRCodePopup");return C(),g("div",x,[f(c,{title:l.t("basicUsage")},{default:y(()=>[f(p,{title:"展示","is-link":"",onClick:e.showDialog},null,8,["onClick"])]),_:1},8,["title"]),s.show?(C(),A(u,{key:0,"qr-code-url":s.currentUrl,type:s.type,onOnCancel:t[0]||(t[0]=U=>s.show=!1)},null,8,["qr-code-url","type"])):k("",!0)])}const E=h(N,[["render",B]]);export{E as default};
