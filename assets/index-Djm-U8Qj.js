import{O as a}from"./index-jl84oNoG.js";function l(n,t,e="setData"){if(!n)return;const r=n.$vm&&n.$vm[e]||n[e];if(typeof r=="function")return r(t)}const m="showDialog";function h(){const n=getCurrentPages();return n[n.length-1]}function f(n,t,e){const r=n.$children;if(r){for(const s of r)if(s.$attrs[t]===e)return s;for(const s of r){const i=f(s,t,e);if(i)return i}}}function C(n,t){if(!t||!n)return;if(typeof t=="function")return t(n);let e=t;if(e.match(/^[^\w]/)&&(e=e.slice(1)),n.$refs&&n.$refs[e])return n.$refs[e];if(a()){const r=t.startsWith("#")?"id":"class",s=f(n,r,e);if(s)return s}return n&&typeof n.$selectComponent=="function"?n.$selectComponent(t):n&&n.selectComponent&&n.selectComponent(t)}function $(n){return new Promise((t,e)=>{const r=n.context||h();let{dialog:s}=n;s||(s=C(r,n.selector));const i={callback:(c,o)=>{c==="confirm"?t(o):e(o)},...n};delete i.dialog,delete i.context;const u=n.showFunction||m;l(s,i,u)})}export{l as a,$ as b,C as s};
