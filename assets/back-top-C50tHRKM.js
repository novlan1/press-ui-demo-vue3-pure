import{S as x}from"./scroll-view-Cc7GDghq.js";import{_ as k,C as v,v as C,y as h,E as b,u as i,r as l,d as _,o as c,h as f,c as u,A as w,B,e as n,a as N,t as I,b as z,F as M,j as q}from"./index-CwjeCCxc.js";import{P as R}from"./press-checkbox-zcwgyDlK.js";import{P as j}from"./press-notice-bar-BzTrpEiY.js";import"./relation-DncSzthF.js";import"./parent-CQhE6Wqc.js";import"./rect-DEC1UdRE.js";const V={props:{customStyle:{type:[String,Object],default:""},mode:{type:String,default:"circle"},icon:{type:String,default:"back-top"},text:{type:String,default:""},duration:{type:[String,Number],default:100},scrollTop:{type:[String,Number],default:0},top:{type:[String,Number],default:400},bottom:{type:[String,Number],default:100},right:{type:[String,Number],default:20},zIndex:{type:[String,Number],default:9},iconStyle:{type:[Object,String],default:""},size:{type:[String,Number],default:40},scrollToTop:{type:[Function,null],default:null}}},F={name:"PressBackTop",options:{styleIsolation:"shared"},components:{PressIcon:C,PressTransition:v},mixins:[V],emits:["click"],computed:{backTopStyle(){const e={bottom:i(this.bottom),right:i(this.right),width:i(this.size),height:i(this.size),position:"fixed",zIndex:this.zIndex};return h(e)},show(){return b(this.scrollTop)>b(this.top)},innerIconStyle(){return h([{color:"#909399",fontSize:"19px"},this.iconStyle])},contentStyle(){const e={};let o=0;return this.mode==="circle"?o="100px":o="4px",e.borderTopLeftRadius=o,e.borderTopRightRadius=o,e.borderBottomLeftRadius=o,e.borderBottomRightRadius=o,h([e,this.customStyle])}},methods:{backToTop(){typeof this.scrollToTop=="function"?this.scrollToTop():uni.pageScrollTo({scrollTop:0,duration:this.duration}),this.$emit("click")}}},L={key:0,class:"press-back-top__text"};function O(e,o,d,a,s,t){const m=l("PressIcon"),y=l("PressTransition");return c(),_(y,{mode:"fade","custom-style":t.backTopStyle,show:t.show},{default:f(()=>[!e.$slots.default&&!e.$slots.$default?(c(),u("div",{key:0,class:"press-back-top",style:B(t.contentStyle),onClick:o[0]||(o[0]=(...T)=>t.backToTop&&t.backToTop(...T))},[n(m,{name:e.icon,"custom-style":t.innerIconStyle},null,8,["name","custom-style"]),e.text?(c(),u("span",L,I(e.text),1)):N("",!0)],4)):w(e.$slots,"default",{key:1},void 0,!0)]),_:3},8,["custom-style","show"])}const D=k(F,[["render",O],["__scopeId","data-v-7f8a869e"]]);let p;const E={i18n:{"zh-CN":{square:"显示方形",icon:"自定义图标",distance:"自定义距离",style:"自定义样式",text:"是否显示文本"},"en-US":{square:"Square",icon:"Custom Icon",distance:"Custom Distance",style:"Custom Style",text:"Custom Text"}},components:{PressBackTop:D,PressCheckbox:R,PressNoticeBar:j},mixins:[x],data(){return p=this,{scrollTop:0,newScrollTop:0,valueMap:{square:!1,icon:!1,distance:!1,style:!1,text:!1}}},computed:{backTopProps(){const{square:e,icon:o,distance:d,style:a,text:s}=this.valueMap;return{mode:e?"square":"circle",icon:o?"arrow-up":"back-top",top:d?10:100,iconStyle:a?"color: #fff":"",customStyle:a?"background-color: #2979ff":"",text:s?"顶部":""}}},methods:{onChange(e,o){this.valueMap[o]=e},onScroll(e){var o;this.scrollTop=e.target.scrollTop||((o=e.detail)==null?void 0:o.scrollTop)||0,console.log("[scrollTop]",e,this.scrollTop)},scrollToTop(){p.newScrollTop=p.scrollTop,setTimeout(()=>{p.newScrollTop=0})}}},U={class:"demo-wrap"},A={class:"demo-inner"};function G(e,o,d,a,s,t){const m=l("PressNoticeBar"),y=l("PressCheckbox"),T=l("press-cell"),g=l("scroll-view"),P=l("PressBackTop");return c(),u("div",U,[n(m,{text:"向下滑动即可展示组件。"}),n(g,{"scroll-y":"",enhanced:"",class:"demo-scroll-view","scroll-with-animation":"","scroll-top":s.newScrollTop,onScroll:t.onScroll},{default:f(()=>[z("div",A,[(c(!0),u(M,null,q(Object.keys(s.valueMap),r=>(c(),_(T,{key:r,title:e.t(r),clickable:"",onClick:S=>s.valueMap[r]=!s.valueMap[r]},{"right-icon":f(()=>[n(y,{value:s.valueMap[r],shape:"square",onChange:S=>t.onChange(S,r)},null,8,["value","onChange"])]),_:2},1032,["title","onClick"]))),128))])]),_:1},8,["scroll-top","onScroll"]),n(P,{"scroll-top":s.scrollTop,"scroll-to-top":t.scrollToTop,mode:t.backTopProps.mode,top:t.backTopProps.top,icon:t.backTopProps.icon,"icon-style":t.backTopProps.iconStyle,"custom-style":t.backTopProps.customStyle,text:t.backTopProps.text},null,8,["scroll-top","scroll-to-top","mode","top","icon","icon-style","custom-style","text"])])}const Z=k(E,[["render",G],["__scopeId","data-v-523a9131"]]);export{Z as default};
