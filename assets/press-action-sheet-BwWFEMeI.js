import{_ as v,k as P,a6 as b,a7 as I,v as O,l as S,G as B,r as u,d as f,o as a,h as A,c as l,a as i,A as _,H as g,e as T,t as c,F as p,j as U,n as G,B as w,b as y}from"./index-Q-rLfHSZ.js";import{P as N}from"./press-popup-B-8tWq_S.js";const z={name:"PressActionSheet",options:{...S,styleIsolation:"shared"},components:{PressIcon:O,PressPopup:N,PressLoading:I},mixins:[b],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...P},emits:["select","close","cancel","click-overlay","getuserinfo"],data(){return{}},methods:{getActionClass(e){return`${B.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`},getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&e.openType==="getUserInfo"?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:o}=this;e&&(this.$emit("select",e),s&&this.onClose(),e.openType==="getUserInfo"&&o&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:m=>{this.$emit("getuserinfo",m)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},L={key:0,class:"press-action-sheet__header"},F={key:1,class:"press-action-sheet__description press-hairline--bottom"},E={key:2},M=["open-type","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick"],V={key:0,class:"press-action-sheet__subname"};function D(e,s,o,m,j,r){const h=u("PressIcon"),C=u("PressLoading"),k=u("PressPopup");return a(),f(k,{show:o.show,position:"bottom",round:o.round,"z-index":o.zIndex,overlay:o.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":o.safeAreaInsetBottom,"close-on-click-overlay":o.closeOnClickOverlay,onClose:r.onClickOverlay},{default:A(()=>[o.title?(a(),l("div",L,[g(c(o.title)+" ",1),T(h,{name:"cross","custom-class":"press-action-sheet__close",onClick:r.onClose},null,8,["onClick"])])):i("",!0),o.description?(a(),l("div",F,c(o.description),1)):i("",!0),o.actions&&o.actions.length?(a(),l("div",E,[(a(!0),l(p,null,U(o.actions,(n,d)=>(a(),l("button",{key:d,"open-type":r.getOpenType(n),style:w(n.color?"color: "+n.color:""),class:G(r.getActionClass(n)),"hover-class":"press-action-sheet__item--hover","data-index":d,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>r.onFakeSelect(n,d),onGetuserinfo:s[0]||(s[0]=(...t)=>e.onGetUserInfo&&e.onGetUserInfo(...t)),onContact:s[1]||(s[1]=(...t)=>e.onContact&&e.onContact(...t)),onGetphonenumber:s[2]||(s[2]=(...t)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...t)),onError:s[3]||(s[3]=(...t)=>e.onError&&e.onError(...t)),onLaunchapp:s[4]||(s[4]=(...t)=>e.onLaunchApp&&e.onLaunchApp(...t)),onOpensetting:s[5]||(s[5]=(...t)=>e.onOpenSetting&&e.onOpenSetting(...t))},[n.loading?(a(),f(C,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(a(),l(p,{key:0},[g(c(n.name)+" ",1),n.subname?(a(),l("div",V,c(n.subname),1)):i("",!0)],64))],46,M))),128))])):i("",!0),_(e.$slots,"default",{},void 0,!0),o.cancelText?(a(),l(p,{key:3},[s[7]||(s[7]=y("div",{class:"press-action-sheet__gap"},null,-1)),y("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:s[6]||(s[6]=(...n)=>r.onCancel&&r.onCancel(...n))},c(o.cancelText),1)],64)):i("",!0)]),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}const J=v(z,[["render",D],["__scopeId","data-v-8c9f1fa3"]]);export{J as P};
