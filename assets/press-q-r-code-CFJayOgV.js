import{I as x,J as G,N as St,K as _,aC as ht,M as Bt,F as gt,_ as bt,r as Fe,c as ne,o as H,d as oe,a as W,a1 as Ue,B as Tt}from"./index-Q-rLfHSZ.js";function _t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K={},ie,ke;function Lt(){return ke||(ke=1,ie=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),ie}var ae={},U={},Oe;function q(){if(Oe)return U;Oe=1;let t;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return U.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},U.getSymbolTotalCodewords=function(n){return s[n]},U.getBCHDigit=function(l){let n=0;for(;l!==0;)n++,l>>>=1;return n},U.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},U.isKanjiModeEnabled=function(){return typeof t<"u"},U.toSJIS=function(n){return t(n)},U}var se={},qe;function Se(){return qe||(qe=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function s(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+l)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return s(n)}catch{return i}}}(se)),se}var ue,Qe;function Dt(){if(Qe)return ue;Qe=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(s){const l=Math.floor(s/8);return(this.buffer[l]>>>7-s%8&1)===1},put:function(s,l){for(let n=0;n<l;n++)this.putBit((s>>>l-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),s&&(this.buffer[l]|=128>>>this.length%8),this.length++}},ue=t,ue}var le,Ve;function zt(){if(Ve)return le;Ve=1;function t(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}return t.prototype.set=function(s,l,n,i){const a=s*this.size+l;this.data[a]=n,i&&(this.reservedBit[a]=!0)},t.prototype.get=function(s,l){return this.data[s*this.size+l]},t.prototype.xor=function(s,l,n){this.data[s*this.size+l]^=n},t.prototype.isReserved=function(s,l){return this.reservedBit[s*this.size+l]},le=t,le}var ce={},He;function Ft(){return He||(He=1,function(t){const s=q().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=s(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,e=[a-7];for(let r=1;r<i-1;r++)e[r]=e[r-1]-o;return e.push(6),e.reverse()},t.getPositions=function(n){const i=[],a=t.getRowColCoords(n),o=a.length;for(let e=0;e<o;e++)for(let r=0;r<o;r++)e===0&&r===0||e===0&&r===o-1||e===o-1&&r===0||i.push([a[e],a[r]]);return i}}(ce)),ce}var fe={},Ke;function Ut(){if(Ke)return fe;Ke=1;const t=q().getSymbolSize,s=7;return fe.getPositions=function(n){const i=t(n);return[[0,0],[i-s,0],[0,i-s]]},fe}var de={},Ye;function kt(){return Ye||(Ye=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,e=0,r=0,u=null,c=null;for(let d=0;d<a;d++){e=r=0,u=c=null;for(let f=0;f<a;f++){let h=i.get(d,f);h===u?e++:(e>=5&&(o+=s.N1+(e-5)),u=h,e=1),h=i.get(f,d),h===c?r++:(r>=5&&(o+=s.N1+(r-5)),c=h,r=1)}e>=5&&(o+=s.N1+(e-5)),r>=5&&(o+=s.N1+(r-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let e=0;e<a-1;e++)for(let r=0;r<a-1;r++){const u=i.get(e,r)+i.get(e,r+1)+i.get(e+1,r)+i.get(e+1,r+1);(u===4||u===0)&&o++}return o*s.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,e=0,r=0;for(let u=0;u<a;u++){e=r=0;for(let c=0;c<a;c++)e=e<<1&2047|i.get(u,c),c>=10&&(e===1488||e===93)&&o++,r=r<<1&2047|i.get(c,u),c>=10&&(r===1488||r===93)&&o++}return o*s.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let r=0;r<o;r++)a+=i.data[r];return Math.abs(Math.ceil(a*100/o/5)-10)*s.N4};function l(n,i,a){switch(n){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,a){const o=a.size;for(let e=0;e<o;e++)for(let r=0;r<o;r++)a.isReserved(r,e)||a.xor(r,e,l(i,r,e))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let e=0,r=1/0;for(let u=0;u<o;u++){a(u),t.applyMask(u,i);const c=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),c<r&&(r=c,e=u)}return e}}(de)),de}var X={},Je;function mt(){if(Je)return X;Je=1;const t=Se(),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return X.getBlocksCount=function(i,a){switch(a){case t.L:return s[(i-1)*4+0];case t.M:return s[(i-1)*4+1];case t.Q:return s[(i-1)*4+2];case t.H:return s[(i-1)*4+3];default:return}},X.getTotalCodewordsCount=function(i,a){switch(a){case t.L:return l[(i-1)*4+0];case t.M:return l[(i-1)*4+1];case t.Q:return l[(i-1)*4+2];case t.H:return l[(i-1)*4+3];default:return}},X}var he={},J={},Ge;function Ot(){if(Ge)return J;Ge=1;const t=new Uint8Array(512),s=new Uint8Array(256);return function(){let n=1;for(let i=0;i<255;i++)t[i]=n,s[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]}(),J.log=function(n){if(n<1)throw new Error("log("+n+")");return s[n]},J.exp=function(n){return t[n]},J.mul=function(n,i){return n===0||i===0?0:t[s[n]+s[i]]},J}var je;function qt(){return je||(je=1,function(t){const s=Ot();t.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let e=0;e<i.length;e++)a[o+e]^=s.mul(n[o],i[e]);return a},t.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let r=0;r<i.length;r++)a[r]^=s.mul(i[r],o);let e=0;for(;e<a.length&&a[e]===0;)e++;a=a.slice(e)}return a},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=t.mul(i,new Uint8Array([1,s.exp(a)]));return i}}(he)),he}var ge,We;function Qt(){if(We)return ge;We=1;const t=qt();function s(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return s.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},s.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const a=t.mod(i,this.genPoly),o=this.degree-a.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(a,o),e}return a},ge=s,ge}var me={},ve={},we={},Xe;function vt(){return Xe||(Xe=1,we.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}),we}var L={},Ze;function wt(){if(Ze)return L;Ze=1;const t="[0-9]+",s="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;L.KANJI=new RegExp(l,"g"),L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),L.BYTE=new RegExp(n,"g"),L.NUMERIC=new RegExp(t,"g"),L.ALPHANUMERIC=new RegExp(s,"g");const i=new RegExp("^"+l+"$"),a=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return L.testKanji=function(r){return i.test(r)},L.testNumeric=function(r){return a.test(r)},L.testAlphanumeric=function(r){return o.test(r)},L}var xe;function Q(){return xe||(xe=1,function(t){const s=vt(),l=wt();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!s.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return l.testNumeric(a)?t.NUMERIC:l.testAlphanumeric(a)?t.ALPHANUMERIC:l.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return n(a)}catch{return o}}}(ve)),ve}var $e;function Vt(){return $e||($e=1,function(t){const s=q(),l=mt(),n=Se(),i=Q(),a=vt(),o=7973,e=s.getBCHDigit(o);function r(f,h,C){for(let y=1;y<=40;y++)if(h<=t.getCapacity(y,C,f))return y}function u(f,h){return i.getCharCountIndicator(f,h)+4}function c(f,h){let C=0;return f.forEach(function(y){const B=u(y.mode,h);C+=B+y.getBitsLength()}),C}function d(f,h){for(let C=1;C<=40;C++)if(c(f,C)<=t.getCapacity(C,h,i.MIXED))return C}t.from=function(h,C){return a.isValid(h)?parseInt(h,10):C},t.getCapacity=function(h,C,y){if(!a.isValid(h))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const B=s.getSymbolTotalCodewords(h),E=l.getTotalCodewordsCount(h,C),A=(B-E)*8;if(y===i.MIXED)return A;const v=A-u(y,h);switch(y){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(h,C){let y;const B=n.from(C,n.M);if(Array.isArray(h)){if(h.length>1)return d(h,B);if(h.length===0)return 1;y=h[0]}else y=h;return r(y.mode,y.getLength(),B)},t.getEncodedBits=function(h){if(!a.isValid(h)||h<7)throw new Error("Invalid QR Code version");let C=h<<12;for(;s.getBCHDigit(C)-e>=0;)C^=o<<s.getBCHDigit(C)-e;return h<<12|C}}(me)),me}var Ce={},et;function Ht(){if(et)return Ce;et=1;const t=q(),s=1335,l=21522,n=t.getBCHDigit(s);return Ce.getEncodedBits=function(a,o){const e=a.bit<<3|o;let r=e<<10;for(;t.getBCHDigit(r)-n>=0;)r^=s<<t.getBCHDigit(r)-n;return(e<<10|r)^l},Ce}var Ee={},pe,tt;function Kt(){if(tt)return pe;tt=1;const t=Q();function s(l){this.mode=t.NUMERIC,this.data=l.toString()}return s.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(n){let i,a,o;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),o=parseInt(a,10),n.put(o,10);const e=this.data.length-i;e>0&&(a=this.data.substr(i),o=parseInt(a,10),n.put(o,e*3+1))},pe=s,pe}var ye,rt;function Yt(){if(rt)return ye;rt=1;const t=Q(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(n){this.mode=t.ALPHANUMERIC,this.data=n}return l.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let o=s.indexOf(this.data[a])*45;o+=s.indexOf(this.data[a+1]),i.put(o,11)}this.data.length%2&&i.put(s.indexOf(this.data[a]),6)},ye=l,ye}var Re,nt;function Jt(){if(nt)return Re;nt=1;const t=Q();function s(l){this.mode=t.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return s.getBitsLength=function(n){return n*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(l){for(let n=0,i=this.data.length;n<i;n++)l.put(this.data[n],8)},Re=s,Re}var Me,ot;function Gt(){if(ot)return Me;ot=1;const t=Q(),s=q();function l(n){this.mode=t.KANJI,this.data=n}return l.getBitsLength=function(i){return i*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let a=s.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),n.put(a,13)}},Me=l,Me}var Ie={exports:{}},it;function jt(){return it||(it=1,function(t){var s={single_source_shortest_paths:function(l,n,i){var a={},o={};o[n]=0;var e=s.PriorityQueue.make();e.push(n,0);for(var r,u,c,d,f,h,C,y,B;!e.empty();){r=e.pop(),u=r.value,d=r.cost,f=l[u]||{};for(c in f)f.hasOwnProperty(c)&&(h=f[c],C=d+h,y=o[c],B=typeof o[c]>"u",(B||y>C)&&(o[c]=C,e.push(c,C),a[c]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var E=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(E)}return a},extract_shortest_path_from_predecessor_list:function(l,n){for(var i=[],a=n;a;)i.push(a),l[a],a=l[a];return i.reverse(),i},find_path:function(l,n,i){var a=s.single_source_shortest_paths(l,n,i);return s.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(l){var n=s.PriorityQueue,i={},a;l=l||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=l.sorter||n.default_sorter,i},default_sorter:function(l,n){return l.cost-n.cost},push:function(l,n){var i={value:l,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=s}(Ie)),Ie.exports}var at;function Wt(){return at||(at=1,function(t){const s=Q(),l=Kt(),n=Yt(),i=Jt(),a=Gt(),o=wt(),e=q(),r=jt();function u(E){return unescape(encodeURIComponent(E)).length}function c(E,A,v){const g=[];let b;for(;(b=E.exec(v))!==null;)g.push({data:b[0],index:b.index,mode:A,length:b[0].length});return g}function d(E){const A=c(o.NUMERIC,s.NUMERIC,E),v=c(o.ALPHANUMERIC,s.ALPHANUMERIC,E);let g,b;return e.isKanjiModeEnabled()?(g=c(o.BYTE,s.BYTE,E),b=c(o.KANJI,s.KANJI,E)):(g=c(o.BYTE_KANJI,s.BYTE,E),b=[]),A.concat(v,g,b).sort(function(p,R){return p.index-R.index}).map(function(p){return{data:p.data,mode:p.mode,length:p.length}})}function f(E,A){switch(A){case s.NUMERIC:return l.getBitsLength(E);case s.ALPHANUMERIC:return n.getBitsLength(E);case s.KANJI:return a.getBitsLength(E);case s.BYTE:return i.getBitsLength(E)}}function h(E){return E.reduce(function(A,v){const g=A.length-1>=0?A[A.length-1]:null;return g&&g.mode===v.mode?(A[A.length-1].data+=v.data,A):(A.push(v),A)},[])}function C(E){const A=[];for(let v=0;v<E.length;v++){const g=E[v];switch(g.mode){case s.NUMERIC:A.push([g,{data:g.data,mode:s.ALPHANUMERIC,length:g.length},{data:g.data,mode:s.BYTE,length:g.length}]);break;case s.ALPHANUMERIC:A.push([g,{data:g.data,mode:s.BYTE,length:g.length}]);break;case s.KANJI:A.push([g,{data:g.data,mode:s.BYTE,length:u(g.data)}]);break;case s.BYTE:A.push([{data:g.data,mode:s.BYTE,length:u(g.data)}])}}return A}function y(E,A){const v={},g={start:{}};let b=["start"];for(let w=0;w<E.length;w++){const p=E[w],R=[];for(let m=0;m<p.length;m++){const N=p[m],M=""+w+m;R.push(M),v[M]={node:N,lastCount:0},g[M]={};for(let I=0;I<b.length;I++){const P=b[I];v[P]&&v[P].node.mode===N.mode?(g[P][M]=f(v[P].lastCount+N.length,N.mode)-f(v[P].lastCount,N.mode),v[P].lastCount+=N.length):(v[P]&&(v[P].lastCount=N.length),g[P][M]=f(N.length,N.mode)+4+s.getCharCountIndicator(N.mode,A))}}b=R}for(let w=0;w<b.length;w++)g[b[w]].end=0;return{map:g,table:v}}function B(E,A){let v;const g=s.getBestModeForData(E);if(v=s.from(A,g),v!==s.BYTE&&v.bit<g.bit)throw new Error('"'+E+'" cannot be encoded with mode '+s.toString(v)+`.
 Suggested mode is: `+s.toString(g));switch(v===s.KANJI&&!e.isKanjiModeEnabled()&&(v=s.BYTE),v){case s.NUMERIC:return new l(E);case s.ALPHANUMERIC:return new n(E);case s.KANJI:return new a(E);case s.BYTE:return new i(E)}}t.fromArray=function(A){return A.reduce(function(v,g){return typeof g=="string"?v.push(B(g,null)):g.data&&v.push(B(g.data,g.mode)),v},[])},t.fromString=function(A,v){const g=d(A,e.isKanjiModeEnabled()),b=C(g),w=y(b,v),p=r.find_path(w.map,"start","end"),R=[];for(let m=1;m<p.length-1;m++)R.push(w.table[p[m]].node);return t.fromArray(h(R))},t.rawSplit=function(A){return t.fromArray(d(A,e.isKanjiModeEnabled()))}}(Ee)),Ee}var st;function Xt(){if(st)return ae;st=1;const t=q(),s=Se(),l=Dt(),n=zt(),i=Ft(),a=Ut(),o=kt(),e=mt(),r=Qt(),u=Vt(),c=Ht(),d=Q(),f=Wt();function h(w,p){const R=w.size,m=a.getPositions(p);for(let N=0;N<m.length;N++){const M=m[N][0],I=m[N][1];for(let P=-1;P<=7;P++)if(!(M+P<=-1||R<=M+P))for(let S=-1;S<=7;S++)I+S<=-1||R<=I+S||(P>=0&&P<=6&&(S===0||S===6)||S>=0&&S<=6&&(P===0||P===6)||P>=2&&P<=4&&S>=2&&S<=4?w.set(M+P,I+S,!0,!0):w.set(M+P,I+S,!1,!0))}}function C(w){const p=w.size;for(let R=8;R<p-8;R++){const m=R%2===0;w.set(R,6,m,!0),w.set(6,R,m,!0)}}function y(w,p){const R=i.getPositions(p);for(let m=0;m<R.length;m++){const N=R[m][0],M=R[m][1];for(let I=-2;I<=2;I++)for(let P=-2;P<=2;P++)I===-2||I===2||P===-2||P===2||I===0&&P===0?w.set(N+I,M+P,!0,!0):w.set(N+I,M+P,!1,!0)}}function B(w,p){const R=w.size,m=u.getEncodedBits(p);let N,M,I;for(let P=0;P<18;P++)N=Math.floor(P/3),M=P%3+R-8-3,I=(m>>P&1)===1,w.set(N,M,I,!0),w.set(M,N,I,!0)}function E(w,p,R){const m=w.size,N=c.getEncodedBits(p,R);let M,I;for(M=0;M<15;M++)I=(N>>M&1)===1,M<6?w.set(M,8,I,!0):M<8?w.set(M+1,8,I,!0):w.set(m-15+M,8,I,!0),M<8?w.set(8,m-M-1,I,!0):M<9?w.set(8,15-M-1+1,I,!0):w.set(8,15-M-1,I,!0);w.set(m-8,8,1,!0)}function A(w,p){const R=w.size;let m=-1,N=R-1,M=7,I=0;for(let P=R-1;P>0;P-=2)for(P===6&&P--;;){for(let S=0;S<2;S++)if(!w.isReserved(N,P-S)){let T=!1;I<p.length&&(T=(p[I]>>>M&1)===1),w.set(N,P-S,T),M--,M===-1&&(I++,M=7)}if(N+=m,N<0||R<=N){N-=m,m=-m;break}}}function v(w,p,R){const m=new l;R.forEach(function(S){m.put(S.mode.bit,4),m.put(S.getLength(),d.getCharCountIndicator(S.mode,w)),S.write(m)});const N=t.getSymbolTotalCodewords(w),M=e.getTotalCodewordsCount(w,p),I=(N-M)*8;for(m.getLengthInBits()+4<=I&&m.put(0,4);m.getLengthInBits()%8!==0;)m.putBit(0);const P=(I-m.getLengthInBits())/8;for(let S=0;S<P;S++)m.put(S%2?17:236,8);return g(m,w,p)}function g(w,p,R){const m=t.getSymbolTotalCodewords(p),N=e.getTotalCodewordsCount(p,R),M=m-N,I=e.getBlocksCount(p,R),P=m%I,S=I-P,T=Math.floor(m/I),k=Math.floor(M/I),Pt=k+1,Le=T-k,At=new r(Le);let $=0;const j=new Array(I),De=new Array(I);let ee=0;const Nt=new Uint8Array(w.buffer);for(let V=0;V<I;V++){const re=V<S?k:Pt;j[V]=Nt.slice($,$+re),De[V]=At.encode(j[V]),$+=re,ee=Math.max(ee,re)}const te=new Uint8Array(m);let ze=0,z,F;for(z=0;z<ee;z++)for(F=0;F<I;F++)z<j[F].length&&(te[ze++]=j[F][z]);for(z=0;z<Le;z++)for(F=0;F<I;F++)te[ze++]=De[F][z];return te}function b(w,p,R,m){let N;if(Array.isArray(w))N=f.fromArray(w);else if(typeof w=="string"){let T=p;if(!T){const k=f.rawSplit(w);T=u.getBestVersionForData(k,R)}N=f.fromString(w,T||40)}else throw new Error("Invalid data");const M=u.getBestVersionForData(N,R);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(!p)p=M;else if(p<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`);const I=v(p,R,N),P=t.getSymbolSize(p),S=new n(P);return h(S,p),C(S),y(S,p),E(S,R,0),p>=7&&B(S,p),A(S,I),isNaN(m)&&(m=o.getBestMask(S,E.bind(null,S,R))),o.applyMask(m,S),E(S,R,m),{modules:S,version:p,errorCorrectionLevel:R,maskPattern:m,segments:N}}return ae.create=function(p,R){if(typeof p>"u"||p==="")throw new Error("No input text");let m=s.M,N,M;return typeof R<"u"&&(m=s.from(R.errorCorrectionLevel,s.M),N=u.from(R.version),M=o.from(R.maskPattern),R.toSJISFunc&&t.setToSJISFunction(R.toSJISFunc)),b(p,N,m,M)},ae}var Pe={},Ae={},ut;function Ct(){return ut||(ut=1,function(t){function s(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let n=l.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+l);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:s(n.color.dark||"#000000ff"),light:s(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const a=t.getScale(n,i);return Math.floor((n+i.margin*2)*a)},t.qrToImageData=function(n,i,a){const o=i.modules.size,e=i.modules.data,r=t.getScale(o,a),u=Math.floor((o+a.margin*2)*r),c=a.margin*r,d=[a.color.light,a.color.dark];for(let f=0;f<u;f++)for(let h=0;h<u;h++){let C=(f*u+h)*4,y=a.color.light;if(f>=c&&h>=c&&f<u-c&&h<u-c){const B=Math.floor((f-c)/r),E=Math.floor((h-c)/r);y=d[e[B*o+E]?1:0]}n[C++]=y.r,n[C++]=y.g,n[C++]=y.b,n[C]=y.a}}}(Ae)),Ae}var lt;function Zt(){return lt||(lt=1,function(t){const s=Ct();function l(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,e){let r=e,u=o;typeof r>"u"&&(!o||!o.getContext)&&(r=o,o=void 0),o||(u=n()),r=s.getOptions(r);const c=s.getImageWidth(a.modules.size,r),d=u.getContext("2d"),f=d.createImageData(c,c);return s.qrToImageData(f.data,a,r),l(d,u,c),d.putImageData(f,0,0),u},t.renderToDataURL=function(a,o,e){let r=e;typeof r>"u"&&(!o||!o.getContext)&&(r=o,o=void 0),r||(r={});const u=t.render(a,o,r),c=r.type||"image/png",d=r.rendererOpts||{};return u.toDataURL(c,d.quality)}}(Pe)),Pe}var Ne={},ct;function xt(){if(ct)return Ne;ct=1;const t=Ct();function s(i,a){const o=i.a/255,e=a+'="'+i.hex+'"';return o<1?e+" "+a+'-opacity="'+o.toFixed(2).slice(1)+'"':e}function l(i,a,o){let e=i+a;return typeof o<"u"&&(e+=" "+o),e}function n(i,a,o){let e="",r=0,u=!1,c=0;for(let d=0;d<i.length;d++){const f=Math.floor(d%a),h=Math.floor(d/a);!f&&!u&&(u=!0),i[d]?(c++,d>0&&f>0&&i[d-1]||(e+=u?l("M",f+o,.5+h+o):l("m",r,0),r=0,u=!1),f+1<a&&i[d+1]||(e+=l("h",c),c=0)):r++}return e}return Ne.render=function(a,o,e){const r=t.getOptions(o),u=a.modules.size,c=a.modules.data,d=u+r.margin*2,f=r.color.light.a?"<path "+s(r.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",h="<path "+s(r.color.dark,"stroke")+' d="'+n(c,u,r.margin)+'"/>',C='viewBox="0 0 '+d+" "+d+'"',B='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+C+' shape-rendering="crispEdges">'+f+h+`</svg>
`;return typeof e=="function"&&e(null,B),B},Ne}var ft;function $t(){if(ft)return K;ft=1;const t=Lt(),s=Xt(),l=Zt(),n=xt();function i(a,o,e,r,u){const c=[].slice.call(arguments,1),d=c.length,f=typeof c[d-1]=="function";if(!f&&!t())throw new Error("Callback required as last argument");if(f){if(d<2)throw new Error("Too few arguments provided");d===2?(u=e,e=o,o=r=void 0):d===3&&(o.getContext&&typeof u>"u"?(u=r,r=void 0):(u=r,r=e,e=o,o=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(e=o,o=r=void 0):d===2&&!o.getContext&&(r=e,e=o,o=void 0),new Promise(function(h,C){try{const y=s.create(e,r);h(a(y,o,r))}catch(y){C(y)}})}try{const h=s.create(e,r);u(null,a(h,o,r))}catch(h){u(h)}}return K.create=s.create,K.toCanvas=i.bind(null,l.render),K.toDataURL=i.bind(null,l.renderToDataURL),K.toString=i.bind(null,function(a,o,e){return n.render(a,e)}),K}var er=$t();const tr=_t(er);var rr=Object.defineProperty,nr=Object.defineProperties,or=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,dt=(t,s,l)=>s in t?rr(t,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[s]=l,ir=(t,s)=>{for(var l in s||(s={}))Et.call(s,l)&&dt(t,l,s[l]);if(Z)for(var l of Z(s))pt.call(s,l)&&dt(t,l,s[l]);return t},ar=(t,s)=>nr(t,or(s)),sr=(t,s)=>{var l={};for(var n in t)Et.call(t,n)&&s.indexOf(n)<0&&(l[n]=t[n]);if(t!=null&&Z)for(var n of Z(t))s.indexOf(n)<0&&pt.call(t,n)&&(l[n]=t[n]);return l};const ur=["low","medium","quartile","high","L","M","Q","H"],lr=[0,1,2,3,4,5,6,7],cr=["alphanumeric","numeric","kanji","byte"],fr=["image/png","image/jpeg","image/webp"],dr=40;var hr=x({props:{version:{type:Number,validator:t=>t===Number.parseInt(String(t),10)&&t>=1&&t<=dr},errorCorrectionLevel:{type:String,validator:t=>ur.includes(t)},maskPattern:{type:Number,validator:t=>lr.includes(t)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:t=>["dark","light"].every(s=>["string","undefined"].includes(typeof t[s])),required:!0},type:{type:String,validator:t=>fr.includes(t),required:!0},quality:{type:Number,validator:t=>t===Number.parseFloat(String(t))&&t>=0&&t<=1,required:!1},value:{type:[String,Array],required:!0,validator(t){return typeof t=="string"?!0:t.every(s=>typeof s.data=="string"&&"mode"in s&&s.mode&&cr.includes(s.mode))}}},setup(t,{attrs:s,emit:l}){const n=G();return St(t,()=>{const a=t,{quality:o,value:e}=a,r=sr(a,["quality","value"]);tr.toDataURL(e,Object.assign(r,o==null||{renderOptions:{quality:o}})).then(u=>{n.value=u,l("change",u)}).catch(u=>l("error",u))},{immediate:!0}),()=>_("img",ar(ir({},s),{src:n.value}))}});/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var D=function(){return D=Object.assign||function(s){for(var l,n=1,i=arguments.length;n<i;n++){l=arguments[n];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=l[a])}return s},D.apply(this,arguments)};var O;(function(t){var s=function(){function o(e,r,u,c){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=e*4+17;for(var d=[],f=0;f<this.size;f++)d.push(!1);for(var f=0;f<this.size;f++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(u);if(this.drawCodewords(h),c==-1)for(var C=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var y=this.getPenaltyScore();y<C&&(c=f,C=y),this.applyMask(f)}i(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}return o.encodeText=function(e,r){var u=t.QrSegment.makeSegments(e);return o.encodeSegments(u,r)},o.encodeBinary=function(e,r){var u=t.QrSegment.makeBytes(e);return o.encodeSegments([u],r)},o.encodeSegments=function(e,r,u,c,d,f){if(u===void 0&&(u=1),c===void 0&&(c=40),d===void 0&&(d=-1),f===void 0&&(f=!0),!(o.MIN_VERSION<=u&&u<=c&&c<=o.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");var h,C;for(h=u;;h++){var y=o.getNumDataCodewords(h,r)*8,B=a.getTotalBits(e,h);if(B<=y){C=B;break}if(h>=c)throw new RangeError("Data too long")}for(var E=0,A=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];E<A.length;E++){var v=A[E];f&&C<=o.getNumDataCodewords(h,v)*8&&(r=v)}for(var g=[],b=0,w=e;b<w.length;b++){var p=w[b];l(p.mode.modeBits,4,g),l(p.numChars,p.mode.numCharCountBits(h),g);for(var R=0,m=p.getData();R<m.length;R++){var N=m[R];g.push(N)}}i(g.length==C);var M=o.getNumDataCodewords(h,r)*8;i(g.length<=M),l(0,Math.min(4,M-g.length),g),l(0,(8-g.length%8)%8,g),i(g.length%8==0);for(var I=236;g.length<M;I^=253)l(I,8,g);for(var P=[];P.length*8<g.length;)P.push(0);return g.forEach(function(S,T){return P[T>>>3]|=S<<7-(T&7)}),new o(h,r,P,d)},o.prototype.getModule=function(e,r){return 0<=e&&e<this.size&&0<=r&&r<this.size&&this.modules[r][e]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var r=this.getAlignmentPatternPositions(),u=r.length,e=0;e<u;e++)for(var c=0;c<u;c++)e==0&&c==0||e==0&&c==u-1||e==u-1&&c==0||this.drawAlignmentPattern(r[e],r[c]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(e){for(var r=this.errorCorrectionLevel.formatBits<<3|e,u=r,c=0;c<10;c++)u=u<<1^(u>>>9)*1335;var d=(r<<10|u)^21522;i(d>>>15==0);for(var c=0;c<=5;c++)this.setFunctionModule(8,c,n(d,c));this.setFunctionModule(8,7,n(d,6)),this.setFunctionModule(8,8,n(d,7)),this.setFunctionModule(7,8,n(d,8));for(var c=9;c<15;c++)this.setFunctionModule(14-c,8,n(d,c));for(var c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,n(d,c));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,n(d,c));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,r=0;r<12;r++)e=e<<1^(e>>>11)*7973;var u=this.version<<12|e;i(u>>>18==0);for(var r=0;r<18;r++){var c=n(u,r),d=this.size-11+r%3,f=Math.floor(r/3);this.setFunctionModule(d,f,c),this.setFunctionModule(f,d,c)}}},o.prototype.drawFinderPattern=function(e,r){for(var u=-4;u<=4;u++)for(var c=-4;c<=4;c++){var d=Math.max(Math.abs(c),Math.abs(u)),f=e+c,h=r+u;0<=f&&f<this.size&&0<=h&&h<this.size&&this.setFunctionModule(f,h,d!=2&&d!=4)}},o.prototype.drawAlignmentPattern=function(e,r){for(var u=-2;u<=2;u++)for(var c=-2;c<=2;c++)this.setFunctionModule(e+c,r+u,Math.max(Math.abs(c),Math.abs(u))!=1)},o.prototype.setFunctionModule=function(e,r,u){this.modules[r][e]=u,this.isFunction[r][e]=!0},o.prototype.addEccAndInterleave=function(e){var r=this.version,u=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(r,u))throw new RangeError("Invalid argument");for(var c=o.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][r],d=o.ECC_CODEWORDS_PER_BLOCK[u.ordinal][r],f=Math.floor(o.getNumRawDataModules(r)/8),h=c-f%c,C=Math.floor(f/c),y=[],B=o.reedSolomonComputeDivisor(d),E=0,A=0;E<c;E++){var v=e.slice(A,A+C-d+(E<h?0:1));A+=v.length;var g=o.reedSolomonComputeRemainder(v,B);E<h&&v.push(0),y.push(v.concat(g))}for(var b=[],w=function(p){y.forEach(function(R,m){(p!=C-d||m>=h)&&b.push(R[p])})},E=0;E<y[0].length;E++)w(E);return i(b.length==f),b},o.prototype.drawCodewords=function(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var r=0,u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(var c=0;c<this.size;c++)for(var d=0;d<2;d++){var f=u-d,h=(u+1&2)==0,C=h?this.size-1-c:c;!this.isFunction[C][f]&&r<e.length*8&&(this.modules[C][f]=n(e[r>>>3],7-(r&7)),r++)}}i(r==e.length*8)},o.prototype.applyMask=function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var r=0;r<this.size;r++)for(var u=0;u<this.size;u++){var c=void 0;switch(e){case 0:c=(u+r)%2==0;break;case 1:c=r%2==0;break;case 2:c=u%3==0;break;case 3:c=(u+r)%3==0;break;case 4:c=(Math.floor(u/3)+Math.floor(r/2))%2==0;break;case 5:c=u*r%2+u*r%3==0;break;case 6:c=(u*r%2+u*r%3)%2==0;break;case 7:c=((u+r)%2+u*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][u]&&c&&(this.modules[r][u]=!this.modules[r][u])}},o.prototype.getPenaltyScore=function(){for(var e=0,r=0;r<this.size;r++){for(var u=!1,c=0,d=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[r][f]==u?(c++,c==5?e+=o.PENALTY_N1:c>5&&e++):(this.finderPenaltyAddHistory(c,d),u||(e+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),u=this.modules[r][f],c=1);e+=this.finderPenaltyTerminateAndCount(u,c,d)*o.PENALTY_N3}for(var f=0;f<this.size;f++){for(var u=!1,h=0,d=[0,0,0,0,0,0,0],r=0;r<this.size;r++)this.modules[r][f]==u?(h++,h==5?e+=o.PENALTY_N1:h>5&&e++):(this.finderPenaltyAddHistory(h,d),u||(e+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),u=this.modules[r][f],h=1);e+=this.finderPenaltyTerminateAndCount(u,h,d)*o.PENALTY_N3}for(var r=0;r<this.size-1;r++)for(var f=0;f<this.size-1;f++){var C=this.modules[r][f];C==this.modules[r][f+1]&&C==this.modules[r+1][f]&&C==this.modules[r+1][f+1]&&(e+=o.PENALTY_N2)}for(var y=0,B=0,E=this.modules;B<E.length;B++){var A=E[B];y=A.reduce(function(b,w){return b+(w?1:0)},y)}var v=this.size*this.size,g=Math.ceil(Math.abs(y*20-v*10)/v)-1;return i(0<=g&&g<=9),e+=g*o.PENALTY_N4,i(0<=e&&e<=2568888),e},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,r=Math.floor((this.version*8+e*3+5)/(e*4-4))*2,u=[6],c=this.size-7;u.length<e;c-=r)u.splice(1,0,c);return u},o.getNumRawDataModules=function(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");var r=(16*e+128)*e+64;if(e>=2){var u=Math.floor(e/7)+2;r-=(25*u-10)*u-55,e>=7&&(r-=36)}return i(208<=r&&r<=29648),r},o.getNumDataCodewords=function(e,r){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]},o.reedSolomonComputeDivisor=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var r=[],u=0;u<e-1;u++)r.push(0);r.push(1);for(var c=1,u=0;u<e;u++){for(var d=0;d<r.length;d++)r[d]=o.reedSolomonMultiply(r[d],c),d+1<r.length&&(r[d]^=r[d+1]);c=o.reedSolomonMultiply(c,2)}return r},o.reedSolomonComputeRemainder=function(e,r){for(var u=r.map(function(C){return 0}),c=function(C){var y=C^u.shift();u.push(0),r.forEach(function(B,E){return u[E]^=o.reedSolomonMultiply(B,y)})},d=0,f=e;d<f.length;d++){var h=f[d];c(h)}return u},o.reedSolomonMultiply=function(e,r){if(e>>>8||r>>>8)throw new RangeError("Byte out of range");for(var u=0,c=7;c>=0;c--)u=u<<1^(u>>>7)*285,u^=(r>>>c&1)*e;return i(u>>>8==0),u},o.prototype.finderPenaltyCountPatterns=function(e){var r=e[1];i(r<=this.size*3);var u=r>0&&e[2]==r&&e[3]==r*3&&e[4]==r&&e[5]==r;return(u&&e[0]>=r*4&&e[6]>=r?1:0)+(u&&e[6]>=r*4&&e[0]>=r?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(e,r,u){return e&&(this.finderPenaltyAddHistory(r,u),r=0),r+=this.size,this.finderPenaltyAddHistory(r,u),this.finderPenaltyCountPatterns(u)},o.prototype.finderPenaltyAddHistory=function(e,r){r[0]==0&&(e+=this.size),r.pop(),r.unshift(e)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=s;function l(o,e,r){if(e<0||e>31||o>>>e)throw new RangeError("Value out of range");for(var u=e-1;u>=0;u--)r.push(o>>>u&1)}function n(o,e){return(o>>>e&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}var a=function(){function o(e,r,u){if(this.mode=e,this.numChars=r,this.bitData=u,r<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}return o.makeBytes=function(e){for(var r=[],u=0,c=e;u<c.length;u++){var d=c[u];l(d,8,r)}return new o(o.Mode.BYTE,e.length,r)},o.makeNumeric=function(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var r=[],u=0;u<e.length;){var c=Math.min(e.length-u,3);l(parseInt(e.substring(u,u+c),10),c*3+1,r),u+=c}return new o(o.Mode.NUMERIC,e.length,r)},o.makeAlphanumeric=function(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var r=[],u;for(u=0;u+2<=e.length;u+=2){var c=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(u))*45;c+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(u+1)),l(c,11,r)}return u<e.length&&l(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(u)),6,r),new o(o.Mode.ALPHANUMERIC,e.length,r)},o.makeSegments=function(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]},o.makeEci=function(e){var r=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)l(e,8,r);else if(e<16384)l(2,2,r),l(e,14,r);else if(e<1e6)l(6,3,r),l(e,21,r);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,r)},o.isNumeric=function(e){return o.NUMERIC_REGEX.test(e)},o.isAlphanumeric=function(e){return o.ALPHANUMERIC_REGEX.test(e)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(e,r){for(var u=0,c=0,d=e;c<d.length;c++){var f=d[c],h=f.mode.numCharCountBits(r);if(f.numChars>=1<<h)return 1/0;u+=4+h+f.bitData.length}return u},o.toUtf8ByteArray=function(e){e=encodeURI(e);for(var r=[],u=0;u<e.length;u++)e.charAt(u)!="%"?r.push(e.charCodeAt(u)):(r.push(parseInt(e.substring(u+1,u+3),16)),u+=2);return r},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=a})(O||(O={}));(function(t){(function(s){var l=function(){function n(i,a){this.ordinal=i,this.formatBits=a}return n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),n}();s.Ecc=l})(t.QrCode||(t.QrCode={}))})(O||(O={}));(function(t){(function(s){var l=function(){function n(i,a){this.modeBits=i,this.numBitsCharCount=a}return n.prototype.numCharCountBits=function(i){return this.numBitsCharCount[Math.floor((i+7)/17)]},n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),n}();s.Mode=l})(t.QrSegment||(t.QrSegment={}))})(O||(O={}));var Y=O,Be="L",be={L:Y.QrCode.Ecc.LOW,M:Y.QrCode.Ecc.MEDIUM,Q:Y.QrCode.Ecc.QUARTILE,H:Y.QrCode.Ecc.HIGH},gr=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Te(t){return t in be}function yt(t,s){s===void 0&&(s=0);var l=[];return t.forEach(function(n,i){var a=null;n.forEach(function(o,e){if(!o&&a!==null){l.push("M".concat(a+s," ").concat(i+s,"h").concat(e-a,"v1H").concat(a+s,"z")),a=null;return}if(e===n.length-1){if(!o)return;a===null?l.push("M".concat(e+s,",").concat(i+s," h1v1H").concat(e+s,"z")):l.push("M".concat(a+s,",").concat(i+s," h").concat(e+1-a,"v1H").concat(a+s,"z"));return}o&&a===null&&(a=e)})}),l.join("")}function Rt(t,s,l,n){var i=n.width,a=n.height,o=n.x,e=n.y,r=t.length+l*2,u=Math.floor(s*.1),c=r/s,d=(i||u)*c,f=(a||u)*c,h=o==null?t.length/2-d/2:o*c,C=e==null?t.length/2-f/2:e*c,y=null;if(n.excavate){var B=Math.floor(h),E=Math.floor(C),A=Math.ceil(d+h-B),v=Math.ceil(f+C-E);y={x:B,y:E,w:A,h:v}}return{x:h,y:C,h:f,w:d,excavation:y}}function Mt(t,s){return t.slice().map(function(l,n){return n<s.y||n>=s.y+s.h?l:l.map(function(i,a){return a<s.x||a>=s.x+s.w?i:!1})})}var _e={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Be,validator:function(t){return Te(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(t){return["linear","radial"].indexOf(t)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},mr=D(D({},_e),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),vr=x({name:"QRCodeSvg",props:_e,setup:function(t){var s=G(0),l=G(""),n,i=function(){var o=t.value,e=t.level,r=t.margin,u=r>>>0,c=Te(e)?e:Be,d=Y.QrCode.encodeText(o,be[c]).getModules();if(s.value=d.length+u*2,t.imageSettings.src){var f=Rt(d,t.size,u,t.imageSettings);n={x:f.x+u,y:f.y+u,width:f.w,height:f.h},f.excavation&&(d=Mt(d,f.excavation))}l.value=yt(d,u)},a=function(){if(!t.gradient)return null;var o=t.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return _(t.gradientType==="linear"?"linearGradient":"radialGradient",D({id:"qr-gradient"},o),[_("stop",{offset:"0%",style:{stopColor:t.gradientStartColor}}),_("stop",{offset:"100%",style:{stopColor:t.gradientEndColor}})])};return i(),ht(i),function(){return _("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(s.value," ").concat(s.value)},[_("defs",{},[a()]),_("rect",{width:"100%",height:"100%",fill:t.background}),_("path",{fill:t.gradient?"url(#qr-gradient)":t.foreground,d:l.value}),t.imageSettings.src&&_("image",D({href:t.imageSettings.src},n))])}}}),wr=x({name:"QRCodeCanvas",props:_e,setup:function(t,s){var l=G(null),n=G(null),i=function(){var o=t.value,e=t.level,r=t.size,u=t.margin,c=t.background,d=t.foreground,f=t.gradient,h=t.gradientType,C=t.gradientStartColor,y=t.gradientEndColor,B=u>>>0,E=Te(e)?e:Be,A=l.value;if(A){var v=A.getContext("2d");if(v){var g=Y.QrCode.encodeText(o,be[E]).getModules(),b=g.length+B*2,w=n.value,p={x:0,y:0,width:0,height:0},R=t.imageSettings.src&&w!=null&&w.naturalWidth!==0&&w.naturalHeight!==0;if(R){var m=Rt(g,t.size,B,t.imageSettings);p={x:m.x+B,y:m.y+B,width:m.w,height:m.h},m.excavation&&(g=Mt(g,m.excavation))}var N=window.devicePixelRatio||1,M=r/b*N;if(A.height=A.width=r*N,v.scale(M,M),v.fillStyle=c,v.fillRect(0,0,b,b),f){var I=void 0;h==="linear"?I=v.createLinearGradient(0,0,b,b):I=v.createRadialGradient(b/2,b/2,0,b/2,b/2,b/2),I.addColorStop(0,C),I.addColorStop(1,y),v.fillStyle=I}else v.fillStyle=d;gr?v.fill(new Path2D(yt(g,B))):g.forEach(function(P,S){P.forEach(function(T,k){T&&v.fillRect(k+B,S+B,1,1)})}),R&&v.drawImage(w,p.x,p.y,p.width,p.height)}}};Bt(i),ht(i);var a=s.attrs.style;return function(){return _(gt,[_("canvas",D(D({},s.attrs),{ref:l,style:D(D({},a),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&_("img",{ref:n,src:t.imageSettings.src,style:{display:"none"},onLoad:i})])}}}),Cr=x({name:"Qrcode",render:function(){var t=this.$props,s=t.renderAs,l=t.value,n=t.size,i=t.margin,a=t.level,o=t.background,e=t.foreground,r=t.imageSettings,u=t.gradient,c=t.gradientType,d=t.gradientStartColor,f=t.gradientEndColor;return _(s==="svg"?vr:wr,{value:l,size:n,margin:i,level:a,background:o,foreground:e,imageSettings:r,gradient:u,gradientType:c,gradientStartColor:d,gradientEndColor:f})},props:mr});let It;It=Cr;const Er={name:"PressQRCode",components:{PressQRCodeWeb:It,VueQRCode:hr},inject:{globalUseVueQrcodeInVue3:{default:!1}},props:{value:{type:String,default:"",required:!0},size:{type:Number,default:287,required:!1},margin:{type:Number,default:0},initH5Attr:{type:Boolean,default:!1},vue3Image:{type:Boolean,default:!1},useVueQrcodeInVue3:{type:Boolean,default:!1},wxMpPadding:{type:Number,default:-1},color:{type:Object,default:()=>({dark:"#000000ff",light:"#ffffffff"})}},emits:["result"],data(){return{codeImg:"",wxCanvasId:"pressWxQRcode",canvasId:"pressQRcode"}},computed:{h5Attr(){return this.initH5Attr?{width:this.size,size:this.size,margin:this.margin}:{}},style(){return this.size===-1?"":`width: ${this.size}px; height: ${this.size}px;`},innerVue3Image(){const{vue3Image:t,useVueQrcodeInVue3:s,globalUseVueQrcodeInVue3:l}=this;return t&&!(s||l)}},watch:{value:{handler(){this.codeImg="",setTimeout(()=>{this.genQRCode()})}},size:{handler(){this.codeImg="",setTimeout(()=>{this.genQRCode()})}}},mounted(){this.genQRCode()},methods:{genQRCode(){this.innerVue3Image&&this.codeH5Vue3()},codeMpWx(){this.createSelectorQuery().select(`#${this.wxCanvasId}`).fields({node:!0,size:!0}).exec(s=>{const l=s[0].node;drawWxQRcode({canvas:l,canvasId:this.wxCanvasId,width:this.size,background:"#ffffff",foreground:"#000000",text:this.value,padding:this.wxMpPadding===-1?void 0:this.wxMpPadding}),wx.canvasToTempFilePath({canvasId:this.wxCanvasId,canvas:l,x:0,y:0,width:this.size,height:this.size,destWidth:this.size,destHeight:this.size,success:n=>{console.log("[二维码临时路径]",n.tempFilePath),this.codeImg=n.tempFilePath,this.$emit("result",this.codeImg)},fail:n=>{console.error(n)}})})},codeMpQQ(){const t=new UQRCode;t.data=this.value,t.size=this.size,t.margin=Math.round(this.size/20),t.make();const s=uni.createCanvasContext(this.canvasId,this);t.canvasContext=s,t.drawCanvas(),setTimeout(()=>{uni.canvasToTempFilePath({canvasId:this.canvasId,fileType:"png",width:this.size,height:this.size,success:l=>{console.log("[codeMpQQ]",l),this.codeImg=l.tempFilePath,this.$emit("result",this.codeImg)},fail:l=>{console.log(l)}},this)},300)},codeH5Vue3(){const s=document.getElementById(this.canvasId).toDataURL("image/png");this.codeImg=s},onLongPressImage(){this.$emit("longPressImage",this.codeImg)}}},pr={class:"press-q-r-code"},yr=["src"];function Rr(t,s,l,n,i,a){const o=Fe("VueQRCode"),e=Fe("PressQRCodeWeb");return H(),ne("div",pr,[l.value&&(l.useVueQrcodeInVue3||a.globalUseVueQrcodeInVue3)?(H(),oe(o,Ue({key:0,value:l.value},a.h5Attr,{type:"image/png",color:l.color}),null,16,["value","color"])):l.value&&!a.innerVue3Image?(H(),oe(e,Ue({key:1,value:l.value},a.h5Attr),null,16,["value"])):W("",!0),i.codeImg?W("",!0):(H(),ne(gt,{key:2},[l.value&&a.innerVue3Image?(H(),oe(e,{key:0,id:i.canvasId,value:l.value},null,8,["id","value"])):W("",!0)],64)),i.codeImg?(H(),ne("img",{key:3,src:i.codeImg,style:Tt(a.style),"show-menu-by-longpress":!0,onLongpress:s[0]||(s[0]=(...r)=>a.onLongPressImage&&a.onLongPressImage(...r))},null,44,yr)):W("",!0)])}const Ir=bt(Er,[["render",Rr],["__scopeId","data-v-cef40616"]]);export{Ir as P};
