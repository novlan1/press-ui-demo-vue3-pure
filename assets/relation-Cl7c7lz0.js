function h(t,e={}){const d=e.indexKey||"index";return{inject:{[t]:{default:null}},computed:{[d](){const i=this;return i.bindRelation(),i[t]?i[t].children.indexOf(this):null}},watch:{disableBindRelation(i){i||this.bindRelation()}},created(){},mounted(){this.bindRelation()},beforeDestroy(){var n;const i=this;i[t]&&(i[t].children=i[t].children.filter(r=>r!==i),(n=i==null?void 0:i.destroyCallback)==null||n.call(i))},methods:{bindRelation(){if(!this[t]||this[t].children.indexOf(this)!==-1)return;const i=[...this[t].children,this];try{this[t]}catch(n){console.log("err",n)}this[t].children=i}}}}function s(t){return{provide(){return{[t]:this}},data(){return{}}}}export{h as C,s as P};
