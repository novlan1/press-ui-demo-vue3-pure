import{P}from"./press-icon-plus-BVVeYod4.js";import{P as v}from"./press-popup-plus-DuNtFC2D.js";import{P as I}from"./press-loading-plus-DAf2CFYh.js";import{b as A}from"./button-BaKXjqxg.js";import{d as U,a as T}from"./press-component-DoZYj-_b.js";import{u as G}from"./utils-Do31p4kb.js";import{_ as w,r as u,o as i,b as C,n as b,c as r,u as S,t as d,f as k,d as m,F as f,i as _,v as B,x as D,y as L,a as O,p as N,e as z}from"./index-BXJiSO9X.js";import{P as x}from"./press-cell-CXncsEZw.js";import"./add-unit-Df5pRFBE.js";import"./press-info-CaSyg39j.js";import"./press-overlay-CF5R9TPs.js";import"./press-transition-Bv_UwlUL.js";import"./system-BAdrsxg_.js";import"./link-Ds6ljOst.js";import"./event-_7uzVFJT.js";import"./support-passive-CNRHRm4O.js";const F={name:"PressActionSheet",options:{...U,styleIsolation:"shared"},components:{PressIconPlus:P,PressPopup:v,PressLoading:I},mixins:[A],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...T},emits:["select","close","cancel","click-overlay","getuserinfo"],data(){return{}},methods:{getActionClass(e){return`${G.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`},getOpenType(e){const{canIUseGetUserProfile:t}=this;return e.disabled||e.loading||t&&e.openType==="getUserInfo"?"":e.openType},onFakeSelect(e,t){e.disabled||e.loading||this.onSelect(e,t)},onSelect(e){const{closeOnClickAction:t,canIUseGetUserProfile:s}=this;e&&(this.$emit("select",e),t&&this.onClose(),e.openType==="getUserInfo"&&s&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:c=>{this.$emit("getuserinfo",c)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},M=e=>(N("data-v-6ec7c4a8"),e=e(),z(),e),q={key:0,class:"press-action-sheet__header"},E={key:1,class:"press-action-sheet__description press-hairline--bottom"},Q={key:2},V=["open-type","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick"],W={key:0,class:"press-action-sheet__subname"},j=M(()=>O("div",{class:"press-action-sheet__gap"},null,-1));function H(e,t,s,c,l,o){const p=u("press-icon-plus"),g=u("press-loading"),y=u("press-popup");return i(),C(y,{show:s.show,position:"bottom",round:s.round,"z-index":s.zIndex,overlay:s.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":s.safeAreaInsetBottom,"close-on-click-overlay":s.closeOnClickOverlay,onClose:o.onClickOverlay},{default:b(()=>[s.title?(i(),r("div",q,[S(d(s.title)+" ",1),k(p,{name:"cross","custom-class":"press-action-sheet__close",onClick:o.onClose},null,8,["onClick"])])):m("",!0),s.description?(i(),r("div",E,d(s.description),1)):m("",!0),s.actions&&s.actions.length?(i(),r("div",Q,[(i(!0),r(f,null,_(s.actions,(a,h)=>(i(),r("button",{key:h,"open-type":o.getOpenType(a),style:B(a.color?"color: "+a.color:""),class:D(o.getActionClass(a)),"hover-class":"press-action-sheet__item--hover","data-index":h,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>o.onFakeSelect(a,h),onGetuserinfo:t[0]||(t[0]=(...n)=>e.onGetUserInfo&&e.onGetUserInfo(...n)),onContact:t[1]||(t[1]=(...n)=>e.onContact&&e.onContact(...n)),onGetphonenumber:t[2]||(t[2]=(...n)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...n)),onError:t[3]||(t[3]=(...n)=>e.onError&&e.onError(...n)),onLaunchapp:t[4]||(t[4]=(...n)=>e.onLaunchApp&&e.onLaunchApp(...n)),onOpensetting:t[5]||(t[5]=(...n)=>e.onOpenSetting&&e.onOpenSetting(...n))},[a.loading?(i(),C(g,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(i(),r(f,{key:0},[S(d(a.name)+" ",1),a.subname?(i(),r("div",W,d(a.subname),1)):m("",!0)],64))],46,V))),128))])):m("",!0),L(e.$slots,"default",{},void 0,!0),s.cancelText?(i(),r(f,{key:3},[j,O("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:t[6]||(t[6]=(...a)=>o.onCancel&&o.onCancel(...a))},d(s.cancelText),1)],64)):m("",!0)]),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}const J=w(F,[["render",H],["__scopeId","data-v-6ec7c4a8"]]),K={i18n:{"zh-CN":{custom:"自定义",option1:"选项一",option2:"选项二",option3:"选项三",subname:"描述信息",showCancel:"展示取消按钮",buttonText:"弹出菜单",customPanel:"自定义面板",description:"这是一段描述信息",optionStatus:"选项状态",coloredOption:"着色选项",disabledOption:"禁用选项",showDescription:"展示描述信息",wxOpen:"微信开放能力",qqOpen:"QQ开放能力",alipayOpen:"支付宝开放能力",mpOpen:"小程序开放能力",getUserInfo:"获取用户信息"},"en-US":{custom:"Custom",option1:"Option 1",option2:"Option 2",option3:"Option 3",subname:"Description",showCancel:"Show Cancel Button",buttonText:"Show ActionSheet",customPanel:"Custom Panel",description:"Description",optionStatus:"Option Status",coloredOption:"Colored Option",disabledOption:"Disabled Option",showDescription:"Show Description",wxOpen:"Wechat Open API",qqOpen:"QQ Open API",alipayOpen:"Alipay Open API",mpOpen:"Mini Program Open API",getUserInfo:"Get User Info"}},components:{PressActionSheet:J,PressCell:x},data(){return{demoList:[{title:this.t("basicUsage"),list:[{title:this.t("check"),type:"basic"}]},{title:this.t("custom"),list:[{title:this.t("optionStatus"),type:"status"},{title:this.t("showCancel"),type:"cancel"},{title:this.t("showDescription"),type:"description"},{title:this.t("customPanel"),type:"title"}]}],show:!1,showCustom:!1,cancelText:"",description:"",title:"",curActions:[]}},computed:{actions(){return[{name:this.t("option1")},{name:this.t("option2")},{name:this.t("option3"),subname:this.t("subname"),openType:"share"}]}},mounted(){this.curActions=this.actions},methods:{onShowActionSheet(e){const t=[{name:this.t("coloredOption"),color:"#ee0a24"},{loading:!0},{name:this.t("disabledOption"),disabled:!0}],s=[{name:this.t("getUserInfo"),color:"#07c160",openType:"getUserInfo"}];let c="",l="",o=[],p="";switch(e){case"title":{this.showCustom=!0;return}case"basic":{o=this.actions;break}case"wxOpen":{o=s,p=this.t("title");break}case"status":{o=t;break}case"cancel":{o=this.actions,c=this.t("cancel");break}case"description":{o=this.actions,l=this.t("description");break}}this.show=!0,this.cancelText=c,this.description=l,this.curActions=o,this.title=p},onClose(){this.show=!1,this.showCustom=!1},onSelect(e){console.log("onSelect.e",e)},onGetUserInfo(e){console.log("onGetUserInfo.e",e)}}},R={class:"demo-wrap"},X={style:{padding:"16px"}};function Y(e,t,s,c,l,o){const p=u("press-cell"),g=u("demo-block"),y=u("press-action-sheet");return i(),r("div",R,[(i(!0),r(f,null,_(l.demoList,(a,h)=>(i(),C(g,{key:h,title:a.title},{default:b(()=>[(i(!0),r(f,null,_(a.list,n=>(i(),C(p,{key:n.title,title:n.title,"is-link":"",onClick:Z=>o.onShowActionSheet(n.type)},null,8,["title","onClick"]))),128))]),_:2},1032,["title"]))),128)),k(y,{show:l.show,actions:l.curActions,"cancel-text":l.cancelText,description:l.description,title:l.title,onClose:o.onClose,onSelect:o.onSelect,onGetuserinfo:o.onGetUserInfo,onCancel:o.onClose},null,8,["show","actions","cancel-text","description","title","onClose","onSelect","onGetuserinfo","onCancel"]),k(y,{show:l.showCustom,title:e.t("title"),onClose:o.onClose,onSelect:o.onSelect,onCancel:o.onClose},{default:b(()=>[O("div",X,d(e.t("content")),1)]),_:1},8,["show","title","onClose","onSelect","onCancel"])])}const fe=w(K,[["render",Y]]);export{fe as default};
