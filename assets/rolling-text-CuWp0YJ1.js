import{_ as x,y as C,u as b,G as w,c,o as d,b as h,F as A,j as P,n as y,B as S,t as f,r as g,d as v,Q as k,e as r,h as o,H as p}from"./index-CwjeCCxc.js";import{P as I,a as L}from"./press-grid-DZDFhdO1.js";import{b as N}from"./utils-CTBTM213.js";import"./relation-DncSzthF.js";const B={name:"PressRollingTextItem",options:{styleIsolation:"shared"},props:{customClass:{type:String,default:""},direction:{type:String,default:"down"},figureArr:{type:Array,default:()=>[]},height:{type:Number,default:40},delay:{type:Number,default:0},isStart:{type:Boolean,default:!1},duration:{type:Number,default:2}},data(){return{utils:w}},computed:{newFigureArr(){return this.direction==="down"?this.figureArr.slice().reverse():this.figureArr},translatePx(){return`-${this.height*(this.figureArr.length-1)}px`},itemStyle(){return C({lineHeight:b(this.height)})},rootStyle(){return C({height:b(this.height),"--press-translate":this.translatePx,"--press-duration":`${this.duration}s`,"--press-delay":`${this.delay}s`})}},mounted(){},methods:{}};function F(t,l,i,m,s,e){return d(),c("div",{class:y([s.utils.bem2("rolling-text-item",[i.direction]),i.customClass]),style:S(e.rootStyle)},[h("div",{class:y(s.utils.bem2("rolling-text-item__box",{animate:i.isStart}))},[(d(!0),c(A,null,P(e.newFigureArr,(n,u)=>(d(),c("div",{key:u,class:y([s.utils.bem2("rolling-text-item__item",{last:u===e.newFigureArr.length-1})]),style:S(e.itemStyle)},f(n),7))),128))],2)],6)}const D=x(B,[["render",F],["__scopeId","data-v-6e8853d6"]]),U=2,z={name:"PressRollingText",options:{styleIsolation:"shared"},components:{PressRollingTextItem:D},props:{customClass:{type:String,default:""},itemCustomClass:{type:String,default:""},startNum:{type:Number,default:0},targetNum:{type:Number,default:0},textList:{type:Array,default:()=>[]},duration:{type:Number,default:2},direction:{type:String,default:"down"},autoStart:{type:Boolean,default:!0},stopOrder:{type:String,default:"ltr"},height:{type:Number,default:40}},data(){return{rolling:this.autoStart}},computed:{isCustomType(){return Array.isArray(this.textList)&&this.textList.length},itemLength(){return this.isCustomType?this.textList[0].length:`${Math.max(this.startNum,this.targetNum)}`.length},targetNumArr(){return this.isCustomType?new Array(this.itemLength).fill(""):N(this.targetNum,this.itemLength).split("")},startNumArr(){return N(this.startNum,this.itemLength).split("")}},watch:{autoStart:{handler(t){t&&this.start()}}},mounted(){},methods:{getTextArrByIdx(t){const l=[];for(let i=0;i<this.textList.length;i++)l.push(this.textList[i][t]);return l},getFigureArr(t){const l=+this.startNumArr[t],i=+this.targetNumArr[t],m=[];for(let s=l;s<=9;s++)m.push(s);for(let s=0;s<=U;s++)for(let e=0;e<=9;e++)m.push(e);for(let s=0;s<=i;s++)m.push(s);return m},getDelay(t,l){return this.stopOrder==="ltr"?.2*t:.2*(l-1-t)},start(){this.rolling=!0},reset(){this.rolling=!1,this.autoStart&&setTimeout(()=>{this.start()},300)}}};function G(t,l,i,m,s,e){const n=g("PressRollingTextItem");return d(),c("div",{class:y(["press-rolling-text",i.customClass])},[(d(!0),c(A,null,P(e.targetNumArr,(u,a)=>(d(),v(n,{key:a,"figure-arr":e.isCustomType?e.getTextArrByIdx(a):e.getFigureArr(a),duration:i.duration,direction:i.direction,"is-start":s.rolling,height:i.height,delay:e.getDelay(a,e.itemLength),"custom-class":i.itemCustomClass},null,8,["figure-arr","duration","direction","is-start","height","delay","custom-class"]))),128))],2)}const O=x(z,[["render",G],["__scopeId","data-v-8efe95e9"]]),H=["aaaaa","bbbbb","ccccc","ddddd","eeeee","fffff","ggggg"],M={i18n:{"zh-CN":{direction:"设置翻滚方向",stopOrder:"设置各数位停止顺序",rollDown:"向下翻滚",rollUp:"向上翻滚",stopFrom:"从个位停止",manualControl:"手动控制",customStyle:"自定义样式",noNumberType:"翻转非数字内容",start:"开始",reset:"重置"},"en-US":{direction:"Set Rolling Direction",stopOrder:"Set Stop Order",rollDown:"Roll Down",rollUp:"Roll Up",stopFrom:"Right Side Stop First",manualControl:"Manual Control",customStyle:"Custom Style",noNumberType:"Roll Non-numeric Text",start:"Start",reset:"Reset"}},components:{PressRollingText:O,PressButton:k,PressGrid:L,PressGridItem:I},data(){return{textList:H}},methods:{startRoll(t){this.$refs[t].reset(),setTimeout(()=>{this.$refs[t].start()})},start(){this.$refs.rollingText6.start()},reset(){this.$refs.rollingText6.reset()}}},V={class:"demo-wrap"},j={class:"button-wrap"},E={class:"button-wrap"},Q={class:"button-wrap"},Z={class:"button-wrap"};function q(t,l,i,m,s,e){const n=g("PressRollingText"),u=g("PressButton"),a=g("demo-block"),T=g("PressGridItem"),R=g("PressGrid");return d(),c("div",V,[r(a,{title:t.t("basicUsage")},{default:o(()=>[r(n,{ref:"rollingText","start-num":0,"target-num":123,"auto-start":!1},null,512),h("div",j,[r(u,{type:"primary",size:"small",onClick:l[0]||(l[0]=_=>e.startRoll("rollingText"))},{default:o(()=>[p(f(t.t("rollDown")),1)]),_:1})])]),_:1},8,["title"]),r(a,{title:t.t("direction")},{default:o(()=>[r(n,{ref:"rollingText2","start-num":0,"target-num":432,direction:"up","auto-start":!1},null,512),h("div",E,[r(u,{type:"primary",size:"small",onClick:l[1]||(l[1]=_=>e.startRoll("rollingText2"))},{default:o(()=>[p(f(t.t("rollUp")),1)]),_:1})])]),_:1},8,["title"]),r(a,{title:t.t("stopOrder")},{default:o(()=>[r(n,{ref:"rollingText3","start-num":0,"target-num":54321,"auto-start":!1,"stop-order":"rtl"},null,512),h("div",Q,[r(u,{type:"primary",size:"small",onClick:l[2]||(l[2]=_=>e.startRoll("rollingText3"))},{default:o(()=>[p(f(t.t("stopFrom")),1)]),_:1})])]),_:1},8,["title"]),r(a,{title:t.t("noNumberType")},{default:o(()=>[r(n,{ref:"rollingText4","text-list":s.textList,"auto-start":!1,duration:1},null,8,["text-list"]),h("div",Z,[r(u,{type:"primary",size:"small",onClick:l[3]||(l[3]=_=>e.startRoll("rollingText4"))},{default:o(()=>[p(f(t.t("start")),1)]),_:1})])]),_:1},8,["title"]),r(a,{title:t.t("customStyle")},{default:o(()=>[r(n,{ref:"rollingText5","custom-class":"my-rolling-text",height:54,"start-num":12345,"target-num":54321},null,512)]),_:1},8,["title"]),r(a,{title:t.t("manualControl")},{default:o(()=>[r(n,{ref:"rollingText6",height:54,"custom-class":"my-rolling-text","start-num":0,"target-num":54321,"auto-start":!1},null,512)]),_:1},8,["title"]),r(R,{clickable:"","custom-class":"grid-wrap","column-num":2},{default:o(()=>[r(T,{text:t.t("start"),icon:"play-circle-o",onClick:e.start},null,8,["text","onClick"]),r(T,{text:t.t("reset"),icon:"replay",onClick:e.reset},null,8,["text","onClick"])]),_:1})])}const Y=x(M,[["render",q],["__scopeId","data-v-62e17a60"]]);export{Y as default};
