import{i as A}from"./index-BC9YZb89.js";function f(e,n,t,s=""){if(!e)return"";const o=new Date;`${e}`.length===10&&(e*=1e3),o.setTime(e);const l={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};let i=/(y+)/;s&&(i=new RegExp(`(?:^|(?:[^${s}y]))(y+)`));let r=n.match(i);r!=null&&r[1]&&(n=n.replace(r[1],`${o.getFullYear()}`.slice(4-r[1].length)));for(const a in l){let E=new RegExp(`(${a})`);if(s&&(E=new RegExp(`(?:^|(?:[^${s}${a[0]}]))(${a})`)),r=n.match(E),r!=null&&r[1]){const{index:T=0}=r,g=s?T+r[0].length-r[1].length:T,_=`${l[a]}`,h=r[1].length,I=h===1?_:`00${_}`.slice(`${_}`.length);n=n.slice(0,g)+I+n.slice(g+h)}}return s&&(n=n.replace(new RegExp(s,"g"),"")),n}function D(e,n,t="setData"){if(!e)return;const s=e.$vm&&e.$vm[t]||e[t];if(typeof s=="function")return s(n)}const M="showDialog";function P(){const e=getCurrentPages();return e[e.length-1]}function C(e,n,t){const s=e.$children;if(s){for(const o of s)if(o.$attrs[n]===t)return o;for(const o of s){const l=C(o,n,t);if(l)return l}}}function $(e,n){if(!n||!e)return;if(typeof n=="function")return n(e);let t=n;if(t.match(/^[^\w]/)&&(t=t.slice(1)),e.$refs&&e.$refs[t])return e.$refs[t];if(A()){const s=n.startsWith("#")?"id":"class",o=C(e,s,t);if(o)return o}return e&&typeof e.$selectComponent=="function"?e.$selectComponent(n):e&&e.selectComponent&&e.selectComponent(n)}function c(e){return new Promise((n,t)=>{const s=e.context||P();let{dialog:o}=e;o||(o=$(s,e.selector));const l={callback:(r,a)=>{r==="confirm"?n(a):t(a)},...e};delete l.dialog,delete l.context;const i=e.showFunction||M;D(o,l,i)})}const p=1e3*60*60*24*365,L=15*60*1e3,u={POPUP_CELL:"press-popup-cell-functional",POPUP_CELL_2:"press-popup-cell-functional-2",PICKER:"press-picker-functional",DATE_TIME_PICKER:"press-datetime-picker-popup-functional"},S={ON_TIME_START:"ON_TIME_START",LAST_READY_TIME:"LAST_READY_TIME"},d={ON_TIME_START:{MIN:Date.now(),MAX:Date.now()+p},LATEST_READY:{MIN:Date.now()-p,MAX:Date.now()+p}};function w(e){return c({selector:`#${u.POPUP_CELL}`,...e})}function O(e){c({selector:`#${u.POPUP_CELL}`,...e}).then(n=>{const{context:t={}}=n||{};t.closeDialog()}).catch(n=>{const{context:t={}}=n||{};t.closeDialog()})}function N(e){return c({selector:`#${u.POPUP_CELL_2}`,...e})}function F(e){return c({selector:`#${u.PICKER}`,...e})}function b(e){return c({selector:`#${u.DATE_TIME_PICKER}`,...e})}function R(e){return parseInt(`${e/1e3/60}`,10)}function v(){let e=Date.now()+L;for(;R(e)%5!==0;)e+=60*1e3;return parseInt(`${e/1e3}`,10)}function U(e,n){let t="";return e==1?t="人满开赛":e==2?t="手动开赛":t=f(n,"M/d hh:mm开赛"),t}function y(e){let n="";return e?n=f(e,"M/d hh:mm"):n="不启用",n}function k(){return Array.from({length:13}).map((e,n)=>n<2?null:n*5).filter(e=>e).map(e=>({value:e,label:`${e}分钟`}))}const K=[{label:"一局胜负",value:1},{label:"三局两胜",value:3},{label:"五局三胜",value:5},{label:"七局四胜",value:7}],B=["","一局胜负","","三局两胜","","五局三胜","","七局四胜"],Y=["各禁4英雄","不禁用英雄","","各禁2英雄","各禁3英雄"],W=[{label:"不禁用英雄",value:1},{label:"各禁2英雄",value:3},{label:"各禁3英雄",value:4},{label:"各禁4英雄",value:0}];function H(e){return e?f(e,"M/d hh:mm 截止上场"):"不启用"}function X(e){return f(e,"M/d hh:mm")}export{B,d as D,u as F,Y as P,W as S,F as a,w as b,N as c,b as d,y as e,K as f,U as g,S as h,k as i,v as j,H as l,X as o,O as s,f as t};
