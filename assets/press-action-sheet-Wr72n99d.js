import{_ as b,k as P,a6 as S,a7 as I,v as O,l as B,G as A,y as m,r as u,d as g,o as a,h as _,c as r,a as i,A as T,H as f,e as U,t as c,F as y,j as G,n as w,B as N,b as h}from"./index-CwjeCCxc.js";import{P as z}from"./press-popup-aEUmVrJy.js";const L={name:"PressActionSheet",options:{...B,styleIsolation:"shared"},components:{PressIcon:O,PressPopup:z,PressLoading:I},mixins:[S],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},buttonStyle:{type:[String,Object],default:""},closeIconStyle:{type:[String,Object],default:""},...P},emits:["select","close","cancel","click-overlay","getuserinfo"],data(){return{}},computed:{innerButtonStyle(){return m(this.buttonStyle)},innerCloseIconStyle(){return m([{},this.closeIconStyle])}},methods:{getActionClass(e){return`${A.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`},getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&e.openType==="getUserInfo"?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:t}=this;e&&(this.$emit("select",e),s&&this.onClose(),e.openType==="getUserInfo"&&t&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:p=>{this.$emit("getuserinfo",p)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},F={key:0,class:"press-action-sheet__header"},E={key:1,class:"press-action-sheet__description press-hairline--bottom"},M={key:2},V=["open-type","custom-style","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick"],j={key:0,class:"press-action-sheet__subname"};function D(e,s,t,p,H,l){const C=u("PressIcon"),k=u("PressLoading"),v=u("PressPopup");return a(),g(v,{show:t.show,position:"bottom",round:t.round,"z-index":t.zIndex,overlay:t.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":t.safeAreaInsetBottom,"close-on-click-overlay":t.closeOnClickOverlay,onClose:l.onClickOverlay},{default:_(()=>[t.title?(a(),r("div",F,[f(c(t.title)+" ",1),U(C,{name:"cross","custom-class":"press-action-sheet__close","custom-style":l.innerCloseIconStyle,onClick:l.onClose},null,8,["custom-style","onClick"])])):i("",!0),t.description?(a(),r("div",E,c(t.description),1)):i("",!0),t.actions&&t.actions.length?(a(),r("div",M,[(a(!0),r(y,null,G(t.actions,(n,d)=>(a(),r("button",{key:d,"open-type":l.getOpenType(n),style:N(n.color?"color: "+n.color:""),"custom-style":l.innerButtonStyle,class:w(l.getActionClass(n)),"hover-class":"press-action-sheet__item--hover","data-index":d,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>l.onFakeSelect(n,d),onGetuserinfo:s[0]||(s[0]=(...o)=>e.onGetUserInfo&&e.onGetUserInfo(...o)),onContact:s[1]||(s[1]=(...o)=>e.onContact&&e.onContact(...o)),onGetphonenumber:s[2]||(s[2]=(...o)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...o)),onError:s[3]||(s[3]=(...o)=>e.onError&&e.onError(...o)),onLaunchapp:s[4]||(s[4]=(...o)=>e.onLaunchApp&&e.onLaunchApp(...o)),onOpensetting:s[5]||(s[5]=(...o)=>e.onOpenSetting&&e.onOpenSetting(...o))},[n.loading?(a(),g(k,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(a(),r(y,{key:0},[f(c(n.name)+" ",1),n.subname?(a(),r("div",j,c(n.subname),1)):i("",!0)],64))],46,V))),128))])):i("",!0),T(e.$slots,"default",{},void 0,!0),t.cancelText?(a(),r(y,{key:3},[s[7]||(s[7]=h("div",{class:"press-action-sheet__gap"},null,-1)),h("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:s[6]||(s[6]=(...n)=>l.onCancel&&l.onCancel(...n))},c(t.cancelText),1)],64)):i("",!0)]),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}const K=b(L,[["render",D],["__scopeId","data-v-ccbdb9cc"]]);export{K as P};
