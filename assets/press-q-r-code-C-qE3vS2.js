import{H as te,L as S,I as Y,aA as Le,J as ot,F as ze,K as it,_ as at,r as Ne,o as F,c as se,b as ue,Y as Se,d as j,l as st}from"./index-B4owlJTx.js";/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var _=function(){return _=Object.assign||function(n){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])}return n},_.apply(this,arguments)};var U;(function(e){var n=function(){function o(t,r,l,c){if(this.version=t,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],t<o.MIN_VERSION||t>o.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var d=[],f=0;f<this.size;f++)d.push(!1);for(var f=0;f<this.size;f++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(l);if(this.drawCodewords(h),c==-1)for(var w=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var C=this.getPenaltyScore();C<w&&(c=f,w=C),this.applyMask(f)}s(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}return o.encodeText=function(t,r){var l=e.QrSegment.makeSegments(t);return o.encodeSegments(l,r)},o.encodeBinary=function(t,r){var l=e.QrSegment.makeBytes(t);return o.encodeSegments([l],r)},o.encodeSegments=function(t,r,l,c,d,f){if(l===void 0&&(l=1),c===void 0&&(c=40),d===void 0&&(d=-1),f===void 0&&(f=!0),!(o.MIN_VERSION<=l&&l<=c&&c<=o.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");var h,w;for(h=l;;h++){var C=o.getNumDataCodewords(h,r)*8,y=u.getTotalBits(t,h);if(y<=C){w=y;break}if(h>=c)throw new RangeError("Data too long")}for(var v=0,E=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];v<E.length;v++){var m=E[v];f&&w<=o.getNumDataCodewords(h,m)*8&&(r=m)}for(var g=[],p=0,M=t;p<M.length;p++){var I=M[p];a(I.mode.modeBits,4,g),a(I.numChars,I.mode.numCharCountBits(h),g);for(var P=0,R=I.getData();P<R.length;P++){var N=R[P];g.push(N)}}s(g.length==w);var b=o.getNumDataCodewords(h,r)*8;s(g.length<=b),a(0,Math.min(4,b-g.length),g),a(0,(8-g.length%8)%8,g),s(g.length%8==0);for(var T=236;g.length<b;T^=253)a(T,8,g);for(var A=[];A.length*8<g.length;)A.push(0);return g.forEach(function(ae,W){return A[W>>>3]|=ae<<7-(W&7)}),new o(h,r,A,d)},o.prototype.getModule=function(t,r){return 0<=t&&t<this.size&&0<=r&&r<this.size&&this.modules[r][t]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var r=this.getAlignmentPatternPositions(),l=r.length,t=0;t<l;t++)for(var c=0;c<l;c++)t==0&&c==0||t==0&&c==l-1||t==l-1&&c==0||this.drawAlignmentPattern(r[t],r[c]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(t){for(var r=this.errorCorrectionLevel.formatBits<<3|t,l=r,c=0;c<10;c++)l=l<<1^(l>>>9)*1335;var d=(r<<10|l)^21522;s(d>>>15==0);for(var c=0;c<=5;c++)this.setFunctionModule(8,c,i(d,c));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(var c=9;c<15;c++)this.setFunctionModule(14-c,8,i(d,c));for(var c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,i(d,c));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,i(d,c));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var t=this.version,r=0;r<12;r++)t=t<<1^(t>>>11)*7973;var l=this.version<<12|t;s(l>>>18==0);for(var r=0;r<18;r++){var c=i(l,r),d=this.size-11+r%3,f=Math.floor(r/3);this.setFunctionModule(d,f,c),this.setFunctionModule(f,d,c)}}},o.prototype.drawFinderPattern=function(t,r){for(var l=-4;l<=4;l++)for(var c=-4;c<=4;c++){var d=Math.max(Math.abs(c),Math.abs(l)),f=t+c,h=r+l;0<=f&&f<this.size&&0<=h&&h<this.size&&this.setFunctionModule(f,h,d!=2&&d!=4)}},o.prototype.drawAlignmentPattern=function(t,r){for(var l=-2;l<=2;l++)for(var c=-2;c<=2;c++)this.setFunctionModule(t+c,r+l,Math.max(Math.abs(c),Math.abs(l))!=1)},o.prototype.setFunctionModule=function(t,r,l){this.modules[r][t]=l,this.isFunction[r][t]=!0},o.prototype.addEccAndInterleave=function(t){var r=this.version,l=this.errorCorrectionLevel;if(t.length!=o.getNumDataCodewords(r,l))throw new RangeError("Invalid argument");for(var c=o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][r],d=o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][r],f=Math.floor(o.getNumRawDataModules(r)/8),h=c-f%c,w=Math.floor(f/c),C=[],y=o.reedSolomonComputeDivisor(d),v=0,E=0;v<c;v++){var m=t.slice(E,E+w-d+(v<h?0:1));E+=m.length;var g=o.reedSolomonComputeRemainder(m,y);v<h&&m.push(0),C.push(m.concat(g))}for(var p=[],M=function(I){C.forEach(function(P,R){(I!=w-d||R>=h)&&p.push(P[I])})},v=0;v<C[0].length;v++)M(v);return s(p.length==f),p},o.prototype.drawCodewords=function(t){if(t.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var r=0,l=this.size-1;l>=1;l-=2){l==6&&(l=5);for(var c=0;c<this.size;c++)for(var d=0;d<2;d++){var f=l-d,h=(l+1&2)==0,w=h?this.size-1-c:c;!this.isFunction[w][f]&&r<t.length*8&&(this.modules[w][f]=i(t[r>>>3],7-(r&7)),r++)}}s(r==t.length*8)},o.prototype.applyMask=function(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(var r=0;r<this.size;r++)for(var l=0;l<this.size;l++){var c=void 0;switch(t){case 0:c=(l+r)%2==0;break;case 1:c=r%2==0;break;case 2:c=l%3==0;break;case 3:c=(l+r)%3==0;break;case 4:c=(Math.floor(l/3)+Math.floor(r/2))%2==0;break;case 5:c=l*r%2+l*r%3==0;break;case 6:c=(l*r%2+l*r%3)%2==0;break;case 7:c=((l+r)%2+l*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][l]&&c&&(this.modules[r][l]=!this.modules[r][l])}},o.prototype.getPenaltyScore=function(){for(var t=0,r=0;r<this.size;r++){for(var l=!1,c=0,d=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[r][f]==l?(c++,c==5?t+=o.PENALTY_N1:c>5&&t++):(this.finderPenaltyAddHistory(c,d),l||(t+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),l=this.modules[r][f],c=1);t+=this.finderPenaltyTerminateAndCount(l,c,d)*o.PENALTY_N3}for(var f=0;f<this.size;f++){for(var l=!1,h=0,d=[0,0,0,0,0,0,0],r=0;r<this.size;r++)this.modules[r][f]==l?(h++,h==5?t+=o.PENALTY_N1:h>5&&t++):(this.finderPenaltyAddHistory(h,d),l||(t+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),l=this.modules[r][f],h=1);t+=this.finderPenaltyTerminateAndCount(l,h,d)*o.PENALTY_N3}for(var r=0;r<this.size-1;r++)for(var f=0;f<this.size-1;f++){var w=this.modules[r][f];w==this.modules[r][f+1]&&w==this.modules[r+1][f]&&w==this.modules[r+1][f+1]&&(t+=o.PENALTY_N2)}for(var C=0,y=0,v=this.modules;y<v.length;y++){var E=v[y];C=E.reduce(function(p,M){return p+(M?1:0)},C)}var m=this.size*this.size,g=Math.ceil(Math.abs(C*20-m*10)/m)-1;return s(0<=g&&g<=9),t+=g*o.PENALTY_N4,s(0<=t&&t<=2568888),t},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var t=Math.floor(this.version/7)+2,r=Math.floor((this.version*8+t*3+5)/(t*4-4))*2,l=[6],c=this.size-7;l.length<t;c-=r)l.splice(1,0,c);return l},o.getNumRawDataModules=function(t){if(t<o.MIN_VERSION||t>o.MAX_VERSION)throw new RangeError("Version number out of range");var r=(16*t+128)*t+64;if(t>=2){var l=Math.floor(t/7)+2;r-=(25*l-10)*l-55,t>=7&&(r-=36)}return s(208<=r&&r<=29648),r},o.getNumDataCodewords=function(t,r){return Math.floor(o.getNumRawDataModules(t)/8)-o.ECC_CODEWORDS_PER_BLOCK[r.ordinal][t]*o.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][t]},o.reedSolomonComputeDivisor=function(t){if(t<1||t>255)throw new RangeError("Degree out of range");for(var r=[],l=0;l<t-1;l++)r.push(0);r.push(1);for(var c=1,l=0;l<t;l++){for(var d=0;d<r.length;d++)r[d]=o.reedSolomonMultiply(r[d],c),d+1<r.length&&(r[d]^=r[d+1]);c=o.reedSolomonMultiply(c,2)}return r},o.reedSolomonComputeRemainder=function(t,r){for(var l=r.map(function(w){return 0}),c=function(w){var C=w^l.shift();l.push(0),r.forEach(function(y,v){return l[v]^=o.reedSolomonMultiply(y,C)})},d=0,f=t;d<f.length;d++){var h=f[d];c(h)}return l},o.reedSolomonMultiply=function(t,r){if(t>>>8||r>>>8)throw new RangeError("Byte out of range");for(var l=0,c=7;c>=0;c--)l=l<<1^(l>>>7)*285,l^=(r>>>c&1)*t;return s(l>>>8==0),l},o.prototype.finderPenaltyCountPatterns=function(t){var r=t[1];s(r<=this.size*3);var l=r>0&&t[2]==r&&t[3]==r*3&&t[4]==r&&t[5]==r;return(l&&t[0]>=r*4&&t[6]>=r?1:0)+(l&&t[6]>=r*4&&t[0]>=r?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(t,r,l){return t&&(this.finderPenaltyAddHistory(r,l),r=0),r+=this.size,this.finderPenaltyAddHistory(r,l),this.finderPenaltyCountPatterns(l)},o.prototype.finderPenaltyAddHistory=function(t,r){r[0]==0&&(t+=this.size),r.pop(),r.unshift(t)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=n;function a(o,t,r){if(t<0||t>31||o>>>t)throw new RangeError("Value out of range");for(var l=t-1;l>=0;l--)r.push(o>>>l&1)}function i(o,t){return(o>>>t&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var u=function(){function o(t,r,l){if(this.mode=t,this.numChars=r,this.bitData=l,r<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}return o.makeBytes=function(t){for(var r=[],l=0,c=t;l<c.length;l++){var d=c[l];a(d,8,r)}return new o(o.Mode.BYTE,t.length,r)},o.makeNumeric=function(t){if(!o.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var r=[],l=0;l<t.length;){var c=Math.min(t.length-l,3);a(parseInt(t.substring(l,l+c),10),c*3+1,r),l+=c}return new o(o.Mode.NUMERIC,t.length,r)},o.makeAlphanumeric=function(t){if(!o.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var r=[],l;for(l=0;l+2<=t.length;l+=2){var c=o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l))*45;c+=o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l+1)),a(c,11,r)}return l<t.length&&a(o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l)),6,r),new o(o.Mode.ALPHANUMERIC,t.length,r)},o.makeSegments=function(t){return t==""?[]:o.isNumeric(t)?[o.makeNumeric(t)]:o.isAlphanumeric(t)?[o.makeAlphanumeric(t)]:[o.makeBytes(o.toUtf8ByteArray(t))]},o.makeEci=function(t){var r=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)a(t,8,r);else if(t<16384)a(2,2,r),a(t,14,r);else if(t<1e6)a(6,3,r),a(t,21,r);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,r)},o.isNumeric=function(t){return o.NUMERIC_REGEX.test(t)},o.isAlphanumeric=function(t){return o.ALPHANUMERIC_REGEX.test(t)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(t,r){for(var l=0,c=0,d=t;c<d.length;c++){var f=d[c],h=f.mode.numCharCountBits(r);if(f.numChars>=1<<h)return 1/0;l+=4+h+f.bitData.length}return l},o.toUtf8ByteArray=function(t){t=encodeURI(t);for(var r=[],l=0;l<t.length;l++)t.charAt(l)!="%"?r.push(t.charCodeAt(l)):(r.push(parseInt(t.substring(l+1,l+3),16)),l+=2);return r},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=u})(U||(U={}));(function(e){(function(n){var a=function(){function i(s,u){this.ordinal=s,this.formatBits=u}return i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),i}();n.Ecc=a})(e.QrCode||(e.QrCode={}))})(U||(U={}));(function(e){(function(n){var a=function(){function i(s,u){this.modeBits=s,this.numBitsCharCount=u}return i.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),i}();n.Mode=a})(e.QrSegment||(e.QrSegment={}))})(U||(U={}));var O=U,Ce="L",Ee={L:O.QrCode.Ecc.LOW,M:O.QrCode.Ecc.MEDIUM,Q:O.QrCode.Ecc.QUARTILE,H:O.QrCode.Ecc.HIGH},ut=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function pe(e){return e in Ee}function De(e,n){n===void 0&&(n=0);var a=[];return e.forEach(function(i,s){var u=null;i.forEach(function(o,t){if(!o&&u!==null){a.push("M".concat(u+n," ").concat(s+n,"h").concat(t-u,"v1H").concat(u+n,"z")),u=null;return}if(t===i.length-1){if(!o)return;u===null?a.push("M".concat(t+n,",").concat(s+n," h1v1H").concat(t+n,"z")):a.push("M".concat(u+n,",").concat(s+n," h").concat(t+1-u,"v1H").concat(u+n,"z"));return}o&&u===null&&(u=t)})}),a.join("")}function Ue(e,n,a,i){var s=i.width,u=i.height,o=i.x,t=i.y,r=e.length+a*2,l=Math.floor(n*.1),c=r/n,d=(s||l)*c,f=(u||l)*c,h=o==null?e.length/2-d/2:o*c,w=t==null?e.length/2-f/2:t*c,C=null;if(i.excavate){var y=Math.floor(h),v=Math.floor(w),E=Math.ceil(d+h-y),m=Math.ceil(f+w-v);C={x:y,y:v,w:E,h:m}}return{x:h,y:w,h:f,w:d,excavation:C}}function Fe(e,n){return e.slice().map(function(a,i){return i<n.y||i>=n.y+n.h?a:a.map(function(s,u){return u<n.x||u>=n.x+n.w?s:!1})})}var ye={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Ce,validator:function(e){return pe(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},lt=_(_({},ye),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),ct=te({name:"QRCodeSvg",props:ye,setup:function(e){var n=Y(0),a=Y(""),i,s=function(){var o=e.value,t=e.level,r=e.margin,l=r>>>0,c=pe(t)?t:Ce,d=O.QrCode.encodeText(o,Ee[c]).getModules();if(n.value=d.length+l*2,e.imageSettings.src){var f=Ue(d,e.size,l,e.imageSettings);i={x:f.x+l,y:f.y+l,width:f.w,height:f.h},f.excavation&&(d=Fe(d,f.excavation))}a.value=De(d,l)},u=function(){if(!e.gradient)return null;var o=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return S(e.gradientType==="linear"?"linearGradient":"radialGradient",_({id:"qr-gradient"},o),[S("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),S("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return s(),Le(s),function(){return S("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(n.value," ").concat(n.value)},[S("defs",{},[u()]),S("rect",{width:"100%",height:"100%",fill:e.background}),S("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:a.value}),e.imageSettings.src&&S("image",_({href:e.imageSettings.src},i))])}}}),ft=te({name:"QRCodeCanvas",props:ye,setup:function(e,n){var a=Y(null),i=Y(null),s=function(){var o=e.value,t=e.level,r=e.size,l=e.margin,c=e.background,d=e.foreground,f=e.gradient,h=e.gradientType,w=e.gradientStartColor,C=e.gradientEndColor,y=l>>>0,v=pe(t)?t:Ce,E=a.value;if(E){var m=E.getContext("2d");if(m){var g=O.QrCode.encodeText(o,Ee[v]).getModules(),p=g.length+y*2,M=i.value,I={x:0,y:0,width:0,height:0},P=e.imageSettings.src&&M!=null&&M.naturalWidth!==0&&M.naturalHeight!==0;if(P){var R=Ue(g,e.size,y,e.imageSettings);I={x:R.x+y,y:R.y+y,width:R.w,height:R.h},R.excavation&&(g=Fe(g,R.excavation))}var N=window.devicePixelRatio||1,b=r/p*N;if(E.height=E.width=r*N,m.scale(b,b),m.fillStyle=c,m.fillRect(0,0,p,p),f){var T=void 0;h==="linear"?T=m.createLinearGradient(0,0,p,p):T=m.createRadialGradient(p/2,p/2,0,p/2,p/2,p/2),T.addColorStop(0,w),T.addColorStop(1,C),m.fillStyle=T}else m.fillStyle=d;ut?m.fill(new Path2D(De(g,y))):g.forEach(function(A,ae){A.forEach(function(W,rt){W&&m.fillRect(rt+y,ae+y,1,1)})}),P&&m.drawImage(M,I.x,I.y,I.width,I.height)}}};ot(s),Le(s);var u=n.attrs.style;return function(){return S(ze,[S("canvas",_(_({},n.attrs),{ref:a,style:_(_({},u),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&S("img",{ref:i,src:e.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),dt=te({name:"Qrcode",render:function(){var e=this.$props,n=e.renderAs,a=e.value,i=e.size,s=e.margin,u=e.level,o=e.background,t=e.foreground,r=e.imageSettings,l=e.gradient,c=e.gradientType,d=e.gradientStartColor,f=e.gradientEndColor;return S(n==="svg"?ct:ft,{value:a,size:i,margin:s,level:u,background:o,foreground:t,imageSettings:r,gradient:l,gradientType:c,gradientStartColor:d,gradientEndColor:f})},props:lt});let Oe;Oe=dt;const ht=Oe;var q={},gt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ke={},B={};let Me;const mt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];B.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};B.getSymbolTotalCodewords=function(n){return mt[n]};B.getBCHDigit=function(e){let n=0;for(;e!==0;)n++,e>>>=1;return n};B.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');Me=n};B.isKanjiModeEnabled=function(){return typeof Me<"u"};B.toSJIS=function(n){return Me(n)};var ne={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+a)}}e.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},e.from=function(i,s){if(e.isValid(i))return i;try{return n(i)}catch{return s}}})(ne);function Qe(){this.buffer=[],this.length=0}Qe.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let a=0;a<n;a++)this.putBit((e>>>n-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var vt=Qe;function G(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}G.prototype.set=function(e,n,a,i){const s=e*this.size+n;this.data[s]=a,i&&(this.reservedBit[s]=!0)};G.prototype.get=function(e,n){return this.data[e*this.size+n]};G.prototype.xor=function(e,n,a){this.data[e*this.size+n]^=a};G.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]};var wt=G,Ve={};(function(e){const n=B.getSymbolSize;e.getRowColCoords=function(i){if(i===1)return[];const s=Math.floor(i/7)+2,u=n(i),o=u===145?26:Math.ceil((u-13)/(2*s-2))*2,t=[u-7];for(let r=1;r<s-1;r++)t[r]=t[r-1]-o;return t.push(6),t.reverse()},e.getPositions=function(i){const s=[],u=e.getRowColCoords(i),o=u.length;for(let t=0;t<o;t++)for(let r=0;r<o;r++)t===0&&r===0||t===0&&r===o-1||t===o-1&&r===0||s.push([u[t],u[r]]);return s}})(Ve);var He={};const Ct=B.getSymbolSize,Be=7;He.getPositions=function(n){const a=Ct(n);return[[0,0],[a-Be,0],[0,a-Be]]};var Ke={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const u=s.size;let o=0,t=0,r=0,l=null,c=null;for(let d=0;d<u;d++){t=r=0,l=c=null;for(let f=0;f<u;f++){let h=s.get(d,f);h===l?t++:(t>=5&&(o+=n.N1+(t-5)),l=h,t=1),h=s.get(f,d),h===c?r++:(r>=5&&(o+=n.N1+(r-5)),c=h,r=1)}t>=5&&(o+=n.N1+(t-5)),r>=5&&(o+=n.N1+(r-5))}return o},e.getPenaltyN2=function(s){const u=s.size;let o=0;for(let t=0;t<u-1;t++)for(let r=0;r<u-1;r++){const l=s.get(t,r)+s.get(t,r+1)+s.get(t+1,r)+s.get(t+1,r+1);(l===4||l===0)&&o++}return o*n.N2},e.getPenaltyN3=function(s){const u=s.size;let o=0,t=0,r=0;for(let l=0;l<u;l++){t=r=0;for(let c=0;c<u;c++)t=t<<1&2047|s.get(l,c),c>=10&&(t===1488||t===93)&&o++,r=r<<1&2047|s.get(c,l),c>=10&&(r===1488||r===93)&&o++}return o*n.N3},e.getPenaltyN4=function(s){let u=0;const o=s.data.length;for(let r=0;r<o;r++)u+=s.data[r];return Math.abs(Math.ceil(u*100/o/5)-10)*n.N4};function a(i,s,u){switch(i){case e.Patterns.PATTERN000:return(s+u)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return u%3===0;case e.Patterns.PATTERN011:return(s+u)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(u/3))%2===0;case e.Patterns.PATTERN101:return s*u%2+s*u%3===0;case e.Patterns.PATTERN110:return(s*u%2+s*u%3)%2===0;case e.Patterns.PATTERN111:return(s*u%3+(s+u)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}e.applyMask=function(s,u){const o=u.size;for(let t=0;t<o;t++)for(let r=0;r<o;r++)u.isReserved(r,t)||u.xor(r,t,a(s,r,t))},e.getBestMask=function(s,u){const o=Object.keys(e.Patterns).length;let t=0,r=1/0;for(let l=0;l<o;l++){u(l),e.applyMask(l,s);const c=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(l,s),c<r&&(r=c,t=l)}return t}})(Ke);var re={};const z=ne,$=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],X=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];re.getBlocksCount=function(n,a){switch(a){case z.L:return $[(n-1)*4+0];case z.M:return $[(n-1)*4+1];case z.Q:return $[(n-1)*4+2];case z.H:return $[(n-1)*4+3];default:return}};re.getTotalCodewordsCount=function(n,a){switch(a){case z.L:return X[(n-1)*4+0];case z.M:return X[(n-1)*4+1];case z.Q:return X[(n-1)*4+2];case z.H:return X[(n-1)*4+3];default:return}};var Ye={},oe={};const K=new Uint8Array(512),Z=new Uint8Array(256);(function(){let n=1;for(let a=0;a<255;a++)K[a]=n,Z[n]=a,n<<=1,n&256&&(n^=285);for(let a=255;a<512;a++)K[a]=K[a-255]})();oe.log=function(n){if(n<1)throw new Error("log("+n+")");return Z[n]};oe.exp=function(n){return K[n]};oe.mul=function(n,a){return n===0||a===0?0:K[Z[n]+Z[a]]};(function(e){const n=oe;e.mul=function(i,s){const u=new Uint8Array(i.length+s.length-1);for(let o=0;o<i.length;o++)for(let t=0;t<s.length;t++)u[o+t]^=n.mul(i[o],s[t]);return u},e.mod=function(i,s){let u=new Uint8Array(i);for(;u.length-s.length>=0;){const o=u[0];for(let r=0;r<s.length;r++)u[r]^=n.mul(s[r],o);let t=0;for(;t<u.length&&u[t]===0;)t++;u=u.slice(t)}return u},e.generateECPolynomial=function(i){let s=new Uint8Array([1]);for(let u=0;u<i;u++)s=e.mul(s,new Uint8Array([1,n.exp(u)]));return s}})(Ye);const Je=Ye;function Ie(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Ie.prototype.initialize=function(n){this.degree=n,this.genPoly=Je.generateECPolynomial(this.degree)};Ie.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(n.length+this.degree);a.set(n);const i=Je.mod(a,this.genPoly),s=this.degree-i.length;if(s>0){const u=new Uint8Array(this.degree);return u.set(i,s),u}return i};var Et=Ie,qe={},D={},Pe={};Pe.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40};var L={};const Ge="[0-9]+",pt="[A-Z $%*+\\-./:]+";let J="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";J=J.replace(/u/g,"\\u");const yt="(?:(?![A-Z0-9 $%*+\\-./:]|"+J+`)(?:.|[\r
]))+`;L.KANJI=new RegExp(J,"g");L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");L.BYTE=new RegExp(yt,"g");L.NUMERIC=new RegExp(Ge,"g");L.ALPHANUMERIC=new RegExp(pt,"g");const Mt=new RegExp("^"+J+"$"),It=new RegExp("^"+Ge+"$"),Pt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");L.testKanji=function(n){return Mt.test(n)};L.testNumeric=function(n){return It.test(n)};L.testAlphanumeric=function(n){return Pt.test(n)};(function(e){const n=Pe,a=L;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(u,o){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!n.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?u.ccBits[0]:o<27?u.ccBits[1]:u.ccBits[2]},e.getBestModeForData=function(u){return a.testNumeric(u)?e.NUMERIC:a.testAlphanumeric(u)?e.ALPHANUMERIC:a.testKanji(u)?e.KANJI:e.BYTE},e.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},e.isValid=function(u){return u&&u.bit&&u.ccBits};function i(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(u,o){if(e.isValid(u))return u;try{return i(u)}catch{return o}}})(D);(function(e){const n=B,a=re,i=ne,s=D,u=Pe,o=7973,t=n.getBCHDigit(o);function r(f,h,w){for(let C=1;C<=40;C++)if(h<=e.getCapacity(C,w,f))return C}function l(f,h){return s.getCharCountIndicator(f,h)+4}function c(f,h){let w=0;return f.forEach(function(C){const y=l(C.mode,h);w+=y+C.getBitsLength()}),w}function d(f,h){for(let w=1;w<=40;w++)if(c(f,w)<=e.getCapacity(w,h,s.MIXED))return w}e.from=function(h,w){return u.isValid(h)?parseInt(h,10):w},e.getCapacity=function(h,w,C){if(!u.isValid(h))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=s.BYTE);const y=n.getSymbolTotalCodewords(h),v=a.getTotalCodewordsCount(h,w),E=(y-v)*8;if(C===s.MIXED)return E;const m=E-l(C,h);switch(C){case s.NUMERIC:return Math.floor(m/10*3);case s.ALPHANUMERIC:return Math.floor(m/11*2);case s.KANJI:return Math.floor(m/13);case s.BYTE:default:return Math.floor(m/8)}},e.getBestVersionForData=function(h,w){let C;const y=i.from(w,i.M);if(Array.isArray(h)){if(h.length>1)return d(h,y);if(h.length===0)return 1;C=h[0]}else C=h;return r(C.mode,C.getLength(),y)},e.getEncodedBits=function(h){if(!u.isValid(h)||h<7)throw new Error("Invalid QR Code version");let w=h<<12;for(;n.getBCHDigit(w)-t>=0;)w^=o<<n.getBCHDigit(w)-t;return h<<12|w}})(qe);var We={};const ge=B,je=1335,Rt=21522,be=ge.getBCHDigit(je);We.getEncodedBits=function(n,a){const i=n.bit<<3|a;let s=i<<10;for(;ge.getBCHDigit(s)-be>=0;)s^=je<<ge.getBCHDigit(s)-be;return(i<<10|s)^Rt};var $e={};const At=D;function k(e){this.mode=At.NUMERIC,this.data=e.toString()}k.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};k.prototype.getLength=function(){return this.data.length};k.prototype.getBitsLength=function(){return k.getBitsLength(this.data.length)};k.prototype.write=function(n){let a,i,s;for(a=0;a+3<=this.data.length;a+=3)i=this.data.substr(a,3),s=parseInt(i,10),n.put(s,10);const u=this.data.length-a;u>0&&(i=this.data.substr(a),s=parseInt(i,10),n.put(s,u*3+1))};var Nt=k;const St=D,le=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q(e){this.mode=St.ALPHANUMERIC,this.data=e}Q.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(n){let a;for(a=0;a+2<=this.data.length;a+=2){let i=le.indexOf(this.data[a])*45;i+=le.indexOf(this.data[a+1]),n.put(i,11)}this.data.length%2&&n.put(le.indexOf(this.data[a]),6)};var Bt=Q;const bt=D;function V(e){this.mode=bt.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}V.getBitsLength=function(n){return n*8};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(e){for(let n=0,a=this.data.length;n<a;n++)e.put(this.data[n],8)};var Tt=V;const _t=D,Lt=B;function H(e){this.mode=_t.KANJI,this.data=e}H.getBitsLength=function(n){return n*13};H.prototype.getLength=function(){return this.data.length};H.prototype.getBitsLength=function(){return H.getBitsLength(this.data.length)};H.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let a=Lt.toSJIS(this.data[n]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),e.put(a,13)}};var zt=H,Xe={exports:{}};(function(e){var n={single_source_shortest_paths:function(a,i,s){var u={},o={};o[i]=0;var t=n.PriorityQueue.make();t.push(i,0);for(var r,l,c,d,f,h,w,C,y;!t.empty();){r=t.pop(),l=r.value,d=r.cost,f=a[l]||{};for(c in f)f.hasOwnProperty(c)&&(h=f[c],w=d+h,C=o[c],y=typeof o[c]>"u",(y||C>w)&&(o[c]=w,t.push(c,w),u[c]=l))}if(typeof s<"u"&&typeof o[s]>"u"){var v=["Could not find a path from ",i," to ",s,"."].join("");throw new Error(v)}return u},extract_shortest_path_from_predecessor_list:function(a,i){for(var s=[],u=i;u;)s.push(u),a[u],u=a[u];return s.reverse(),s},find_path:function(a,i,s){var u=n.single_source_shortest_paths(a,i,s);return n.extract_shortest_path_from_predecessor_list(u,s)},PriorityQueue:{make:function(a){var i=n.PriorityQueue,s={},u;a=a||{};for(u in i)i.hasOwnProperty(u)&&(s[u]=i[u]);return s.queue=[],s.sorter=a.sorter||i.default_sorter,s},default_sorter:function(a,i){return a.cost-i.cost},push:function(a,i){var s={value:a,cost:i};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=n})(Xe);var Dt=Xe.exports;(function(e){const n=D,a=Nt,i=Bt,s=Tt,u=zt,o=L,t=B,r=Dt;function l(v){return unescape(encodeURIComponent(v)).length}function c(v,E,m){const g=[];let p;for(;(p=v.exec(m))!==null;)g.push({data:p[0],index:p.index,mode:E,length:p[0].length});return g}function d(v){const E=c(o.NUMERIC,n.NUMERIC,v),m=c(o.ALPHANUMERIC,n.ALPHANUMERIC,v);let g,p;return t.isKanjiModeEnabled()?(g=c(o.BYTE,n.BYTE,v),p=c(o.KANJI,n.KANJI,v)):(g=c(o.BYTE_KANJI,n.BYTE,v),p=[]),E.concat(m,g,p).sort(function(I,P){return I.index-P.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function f(v,E){switch(E){case n.NUMERIC:return a.getBitsLength(v);case n.ALPHANUMERIC:return i.getBitsLength(v);case n.KANJI:return u.getBitsLength(v);case n.BYTE:return s.getBitsLength(v)}}function h(v){return v.reduce(function(E,m){const g=E.length-1>=0?E[E.length-1]:null;return g&&g.mode===m.mode?(E[E.length-1].data+=m.data,E):(E.push(m),E)},[])}function w(v){const E=[];for(let m=0;m<v.length;m++){const g=v[m];switch(g.mode){case n.NUMERIC:E.push([g,{data:g.data,mode:n.ALPHANUMERIC,length:g.length},{data:g.data,mode:n.BYTE,length:g.length}]);break;case n.ALPHANUMERIC:E.push([g,{data:g.data,mode:n.BYTE,length:g.length}]);break;case n.KANJI:E.push([g,{data:g.data,mode:n.BYTE,length:l(g.data)}]);break;case n.BYTE:E.push([{data:g.data,mode:n.BYTE,length:l(g.data)}])}}return E}function C(v,E){const m={},g={start:{}};let p=["start"];for(let M=0;M<v.length;M++){const I=v[M],P=[];for(let R=0;R<I.length;R++){const N=I[R],b=""+M+R;P.push(b),m[b]={node:N,lastCount:0},g[b]={};for(let T=0;T<p.length;T++){const A=p[T];m[A]&&m[A].node.mode===N.mode?(g[A][b]=f(m[A].lastCount+N.length,N.mode)-f(m[A].lastCount,N.mode),m[A].lastCount+=N.length):(m[A]&&(m[A].lastCount=N.length),g[A][b]=f(N.length,N.mode)+4+n.getCharCountIndicator(N.mode,E))}}p=P}for(let M=0;M<p.length;M++)g[p[M]].end=0;return{map:g,table:m}}function y(v,E){let m;const g=n.getBestModeForData(v);if(m=n.from(E,g),m!==n.BYTE&&m.bit<g.bit)throw new Error('"'+v+'" cannot be encoded with mode '+n.toString(m)+`.
 Suggested mode is: `+n.toString(g));switch(m===n.KANJI&&!t.isKanjiModeEnabled()&&(m=n.BYTE),m){case n.NUMERIC:return new a(v);case n.ALPHANUMERIC:return new i(v);case n.KANJI:return new u(v);case n.BYTE:return new s(v)}}e.fromArray=function(E){return E.reduce(function(m,g){return typeof g=="string"?m.push(y(g,null)):g.data&&m.push(y(g.data,g.mode)),m},[])},e.fromString=function(E,m){const g=d(E,t.isKanjiModeEnabled()),p=w(g),M=C(p,m),I=r.find_path(M.map,"start","end"),P=[];for(let R=1;R<I.length-1;R++)P.push(M.table[I[R]].node);return e.fromArray(h(P))},e.rawSplit=function(E){return e.fromArray(d(E,t.isKanjiModeEnabled()))}})($e);const ie=B,ce=ne,Ut=vt,Ft=wt,Ot=Ve,kt=He,me=Ke,ve=re,Qt=Et,x=qe,Vt=We,Ht=D,fe=$e;function Kt(e,n){const a=e.size,i=kt.getPositions(n);for(let s=0;s<i.length;s++){const u=i[s][0],o=i[s][1];for(let t=-1;t<=7;t++)if(!(u+t<=-1||a<=u+t))for(let r=-1;r<=7;r++)o+r<=-1||a<=o+r||(t>=0&&t<=6&&(r===0||r===6)||r>=0&&r<=6&&(t===0||t===6)||t>=2&&t<=4&&r>=2&&r<=4?e.set(u+t,o+r,!0,!0):e.set(u+t,o+r,!1,!0))}}function Yt(e){const n=e.size;for(let a=8;a<n-8;a++){const i=a%2===0;e.set(a,6,i,!0),e.set(6,a,i,!0)}}function Jt(e,n){const a=Ot.getPositions(n);for(let i=0;i<a.length;i++){const s=a[i][0],u=a[i][1];for(let o=-2;o<=2;o++)for(let t=-2;t<=2;t++)o===-2||o===2||t===-2||t===2||o===0&&t===0?e.set(s+o,u+t,!0,!0):e.set(s+o,u+t,!1,!0)}}function qt(e,n){const a=e.size,i=x.getEncodedBits(n);let s,u,o;for(let t=0;t<18;t++)s=Math.floor(t/3),u=t%3+a-8-3,o=(i>>t&1)===1,e.set(s,u,o,!0),e.set(u,s,o,!0)}function de(e,n,a){const i=e.size,s=Vt.getEncodedBits(n,a);let u,o;for(u=0;u<15;u++)o=(s>>u&1)===1,u<6?e.set(u,8,o,!0):u<8?e.set(u+1,8,o,!0):e.set(i-15+u,8,o,!0),u<8?e.set(8,i-u-1,o,!0):u<9?e.set(8,15-u-1+1,o,!0):e.set(8,15-u-1,o,!0);e.set(i-8,8,1,!0)}function Gt(e,n){const a=e.size;let i=-1,s=a-1,u=7,o=0;for(let t=a-1;t>0;t-=2)for(t===6&&t--;;){for(let r=0;r<2;r++)if(!e.isReserved(s,t-r)){let l=!1;o<n.length&&(l=(n[o]>>>u&1)===1),e.set(s,t-r,l),u--,u===-1&&(o++,u=7)}if(s+=i,s<0||a<=s){s-=i,i=-i;break}}}function Wt(e,n,a){const i=new Ut;a.forEach(function(r){i.put(r.mode.bit,4),i.put(r.getLength(),Ht.getCharCountIndicator(r.mode,e)),r.write(i)});const s=ie.getSymbolTotalCodewords(e),u=ve.getTotalCodewordsCount(e,n),o=(s-u)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const t=(o-i.getLengthInBits())/8;for(let r=0;r<t;r++)i.put(r%2?17:236,8);return jt(i,e,n)}function jt(e,n,a){const i=ie.getSymbolTotalCodewords(n),s=ve.getTotalCodewordsCount(n,a),u=i-s,o=ve.getBlocksCount(n,a),t=i%o,r=o-t,l=Math.floor(i/o),c=Math.floor(u/o),d=c+1,f=l-c,h=new Qt(f);let w=0;const C=new Array(o),y=new Array(o);let v=0;const E=new Uint8Array(e.buffer);for(let I=0;I<o;I++){const P=I<r?c:d;C[I]=E.slice(w,w+P),y[I]=h.encode(C[I]),w+=P,v=Math.max(v,P)}const m=new Uint8Array(i);let g=0,p,M;for(p=0;p<v;p++)for(M=0;M<o;M++)p<C[M].length&&(m[g++]=C[M][p]);for(p=0;p<f;p++)for(M=0;M<o;M++)m[g++]=y[M][p];return m}function $t(e,n,a,i){let s;if(Array.isArray(e))s=fe.fromArray(e);else if(typeof e=="string"){let l=n;if(!l){const c=fe.rawSplit(e);l=x.getBestVersionForData(c,a)}s=fe.fromString(e,l||40)}else throw new Error("Invalid data");const u=x.getBestVersionForData(s,a);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(!n)n=u;else if(n<u)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+u+`.
`);const o=Wt(n,a,s),t=ie.getSymbolSize(n),r=new Ft(t);return Kt(r,n),Yt(r),Jt(r,n),de(r,a,0),n>=7&&qt(r,n),Gt(r,o),isNaN(i)&&(i=me.getBestMask(r,de.bind(null,r,a))),me.applyMask(i,r),de(r,a,i),{modules:r,version:n,errorCorrectionLevel:a,maskPattern:i,segments:s}}ke.create=function(n,a){if(typeof n>"u"||n==="")throw new Error("No input text");let i=ce.M,s,u;return typeof a<"u"&&(i=ce.from(a.errorCorrectionLevel,ce.M),s=x.from(a.version),u=me.from(a.maskPattern),a.toSJISFunc&&ie.setToSJISFunction(a.toSJISFunc)),$t(n,s,i,u)};var Ze={},Re={};(function(e){function n(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let i=a.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+a);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(u){return[u,u]}))),i.length===6&&i.push("F","F");const s=parseInt(i.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+i.slice(0,6).join("")}}e.getOptions=function(i){i||(i={}),i.color||(i.color={});const s=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,u=i.width&&i.width>=21?i.width:void 0,o=i.scale||4;return{width:u,scale:u?4:o,margin:s,color:{dark:n(i.color.dark||"#000000ff"),light:n(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},e.getScale=function(i,s){return s.width&&s.width>=i+s.margin*2?s.width/(i+s.margin*2):s.scale},e.getImageWidth=function(i,s){const u=e.getScale(i,s);return Math.floor((i+s.margin*2)*u)},e.qrToImageData=function(i,s,u){const o=s.modules.size,t=s.modules.data,r=e.getScale(o,u),l=Math.floor((o+u.margin*2)*r),c=u.margin*r,d=[u.color.light,u.color.dark];for(let f=0;f<l;f++)for(let h=0;h<l;h++){let w=(f*l+h)*4,C=u.color.light;if(f>=c&&h>=c&&f<l-c&&h<l-c){const y=Math.floor((f-c)/r),v=Math.floor((h-c)/r);C=d[t[y*o+v]?1:0]}i[w++]=C.r,i[w++]=C.g,i[w++]=C.b,i[w]=C.a}}})(Re);(function(e){const n=Re;function a(s,u,o){s.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=o,u.width=o,u.style.height=o+"px",u.style.width=o+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(u,o,t){let r=t,l=o;typeof r>"u"&&(!o||!o.getContext)&&(r=o,o=void 0),o||(l=i()),r=n.getOptions(r);const c=n.getImageWidth(u.modules.size,r),d=l.getContext("2d"),f=d.createImageData(c,c);return n.qrToImageData(f.data,u,r),a(d,l,c),d.putImageData(f,0,0),l},e.renderToDataURL=function(u,o,t){let r=t;typeof r>"u"&&(!o||!o.getContext)&&(r=o,o=void 0),r||(r={});const l=e.render(u,o,r),c=r.type||"image/png",d=r.rendererOpts||{};return l.toDataURL(c,d.quality)}})(Ze);var xe={};const Xt=Re;function Te(e,n){const a=e.a/255,i=n+'="'+e.hex+'"';return a<1?i+" "+n+'-opacity="'+a.toFixed(2).slice(1)+'"':i}function he(e,n,a){let i=e+n;return typeof a<"u"&&(i+=" "+a),i}function Zt(e,n,a){let i="",s=0,u=!1,o=0;for(let t=0;t<e.length;t++){const r=Math.floor(t%n),l=Math.floor(t/n);!r&&!u&&(u=!0),e[t]?(o++,t>0&&r>0&&e[t-1]||(i+=u?he("M",r+a,.5+l+a):he("m",s,0),s=0,u=!1),r+1<n&&e[t+1]||(i+=he("h",o),o=0)):s++}return i}xe.render=function(n,a,i){const s=Xt.getOptions(a),u=n.modules.size,o=n.modules.data,t=u+s.margin*2,r=s.color.light.a?"<path "+Te(s.color.light,"fill")+' d="M0 0h'+t+"v"+t+'H0z"/>':"",l="<path "+Te(s.color.dark,"stroke")+' d="'+Zt(o,u,s.margin)+'"/>',c='viewBox="0 0 '+t+" "+t+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+c+' shape-rendering="crispEdges">'+r+l+`</svg>
`;return typeof i=="function"&&i(null,f),f};const xt=gt,we=ke,et=Ze,en=xe;function Ae(e,n,a,i,s){const u=[].slice.call(arguments,1),o=u.length,t=typeof u[o-1]=="function";if(!t&&!xt())throw new Error("Callback required as last argument");if(t){if(o<2)throw new Error("Too few arguments provided");o===2?(s=a,a=n,n=i=void 0):o===3&&(n.getContext&&typeof s>"u"?(s=i,i=void 0):(s=i,i=a,a=n,n=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(a=n,n=i=void 0):o===2&&!n.getContext&&(i=a,a=n,n=void 0),new Promise(function(r,l){try{const c=we.create(a,i);r(e(c,n,i))}catch(c){l(c)}})}try{const r=we.create(a,i);s(null,e(r,n,i))}catch(r){s(r)}}q.create=we.create;q.toCanvas=Ae.bind(null,et.render);q.toDataURL=Ae.bind(null,et.renderToDataURL);q.toString=Ae.bind(null,function(e,n,a){return en.render(e,a)});var tn=Object.defineProperty,nn=Object.defineProperties,rn=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,_e=(e,n,a)=>n in e?tn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,on=(e,n)=>{for(var a in n||(n={}))tt.call(n,a)&&_e(e,a,n[a]);if(ee)for(var a of ee(n))nt.call(n,a)&&_e(e,a,n[a]);return e},an=(e,n)=>nn(e,rn(n)),sn=(e,n)=>{var a={};for(var i in e)tt.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&ee)for(var i of ee(e))n.indexOf(i)<0&&nt.call(e,i)&&(a[i]=e[i]);return a};const un=["low","medium","quartile","high","L","M","Q","H"],ln=[0,1,2,3,4,5,6,7],cn=["alphanumeric","numeric","kanji","byte"],fn=["image/png","image/jpeg","image/webp"],dn=40;var hn=te({props:{version:{type:Number,validator:e=>e===Number.parseInt(String(e),10)&&e>=1&&e<=dn},errorCorrectionLevel:{type:String,validator:e=>un.includes(e)},maskPattern:{type:Number,validator:e=>ln.includes(e)},toSJISFunc:Function,margin:Number,scale:Number,width:Number,color:{type:Object,validator:e=>["dark","light"].every(n=>["string","undefined"].includes(typeof e[n])),required:!0},type:{type:String,validator:e=>fn.includes(e),required:!0},quality:{type:Number,validator:e=>e===Number.parseFloat(String(e))&&e>=0&&e<=1,required:!1},value:{type:[String,Array],required:!0,validator(e){return typeof e=="string"?!0:e.every(n=>typeof n.data=="string"&&"mode"in n&&n.mode&&cn.includes(n.mode))}}},setup(e,{attrs:n,emit:a}){const i=Y();return it(e,()=>{const u=e,{quality:o,value:t}=u,r=sn(u,["quality","value"]);q.toDataURL(t,Object.assign(r,o==null||{renderOptions:{quality:o}})).then(l=>{i.value=l,a("change",l)}).catch(l=>a("error",l))},{immediate:!0}),()=>S("img",an(on({},n),{src:i.value}))}});const gn={name:"PressQRCode",components:{PressQRCodeWeb:ht,VueQRCode:hn},inject:{globalUseVueQrcodeInVue3:{default:!1}},props:{value:{type:String,default:"",required:!0},size:{type:Number,default:287,required:!1},margin:{type:Number,default:0},initH5Attr:{type:Boolean,default:!1},vue3Image:{type:Boolean,default:!1},useVueQrcodeInVue3:{type:Boolean,default:!1},wxMpPadding:{type:Number,default:-1},color:{type:Object,default:()=>({dark:"#000000ff",light:"#ffffffff"})}},emits:["result"],data(){return{codeImg:"",wxCanvasId:"pressWxQRcode",canvasId:"pressQRcode"}},computed:{h5Attr(){return this.initH5Attr?{width:this.size,size:this.size,margin:this.margin}:{}},style(){return this.size===-1?"":`width: ${this.size}px; height: ${this.size}px;`},innerVue3Image(){const{vue3Image:e,useVueQrcodeInVue3:n,globalUseVueQrcodeInVue3:a}=this;return e&&!(n||a)}},watch:{value:{handler(){this.codeImg="",setTimeout(()=>{this.genQRCode()})}},size:{handler(){this.codeImg="",setTimeout(()=>{this.genQRCode()})}}},mounted(){this.genQRCode()},methods:{genQRCode(){this.innerVue3Image&&this.codeH5Vue3()},codeMpWx(){this.createSelectorQuery().select(`#${this.wxCanvasId}`).fields({node:!0,size:!0}).exec(n=>{const a=n[0].node;drawWxQRcode({canvas:a,canvasId:this.wxCanvasId,width:this.size,background:"#ffffff",foreground:"#000000",text:this.value,padding:this.wxMpPadding===-1?void 0:this.wxMpPadding}),wx.canvasToTempFilePath({canvasId:this.wxCanvasId,canvas:a,x:0,y:0,width:this.size,height:this.size,destWidth:this.size,destHeight:this.size,success:i=>{console.log("[二维码临时路径]",i.tempFilePath),this.codeImg=i.tempFilePath,this.$emit("result",this.codeImg)},fail:i=>{console.error(i)}})})},codeMpQQ(){const e=new UQRCode;e.data=this.value,e.size=this.size,e.margin=Math.round(this.size/20),e.make();const n=uni.createCanvasContext(this.canvasId,this);e.canvasContext=n,e.drawCanvas(),setTimeout(()=>{uni.canvasToTempFilePath({canvasId:this.canvasId,fileType:"png",width:this.size,height:this.size,success:a=>{console.log("[codeMpQQ]",a),this.codeImg=a.tempFilePath,this.$emit("result",this.codeImg)},fail:a=>{console.log(a)}},this)},300)},codeH5Vue3(){const n=document.getElementById(this.canvasId).toDataURL("image/png");this.codeImg=n},onLongPressImage(){this.$emit("longPressImage",this.codeImg)}}},mn={class:"press-q-r-code"},vn=["src"];function wn(e,n,a,i,s,u){const o=Ne("VueQRCode"),t=Ne("PressQRCodeWeb");return F(),se("div",mn,[a.value&&(a.useVueQrcodeInVue3||u.globalUseVueQrcodeInVue3)?(F(),ue(o,Se({key:0,value:a.value},u.h5Attr,{type:"image/png",color:a.color}),null,16,["value","color"])):a.value&&!u.innerVue3Image?(F(),ue(t,Se({key:1,value:a.value},u.h5Attr),null,16,["value"])):j("",!0),s.codeImg?j("",!0):(F(),se(ze,{key:2},[a.value&&u.innerVue3Image?(F(),ue(t,{key:0,id:s.canvasId,value:a.value},null,8,["id","value"])):j("",!0)],64)),s.codeImg?(F(),se("img",{key:3,src:s.codeImg,style:st(u.style),"show-menu-by-longpress":!0,onLongpress:n[0]||(n[0]=(...r)=>u.onLongPressImage&&u.onLongPressImage(...r))},null,44,vn)):j("",!0)])}const En=at(gn,[["render",wn],["__scopeId","data-v-f8b35fd5"]]);export{En as P};
