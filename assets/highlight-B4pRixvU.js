import{_ as w,k as $,l as C,d as y,o as u,h as c,c as S,F as v,j as b,aw as _,n as P,H as T,t as I,r as m,e as g}from"./index-DMZLKqhc.js";const H={sourceString:{type:String,default:""},keywords:{type:[String,Array],default:""},autoEscape:{type:Boolean,default:!0},caseSensitive:{type:Boolean,default:!1},tag:{type:String,default:"div"},highlightTag:{type:String,default:"span"},unhighlightTag:{type:String,default:"span"},highlightClass:{type:String,default:""},unhighlightClass:{type:String,default:""}};function E(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K({autoEscape:e,caseSensitive:r,keywords:h,sourceString:l}){const p=r?"g":"gi";let t=(Array.isArray(h)?h:[h]).filter(s=>s).reduce((s,a)=>{e&&(a=E(a));const n=new RegExp(a,p);let o;for(;o=n.exec(l);){const d=o.index,k=n.lastIndex;if(d>=k){n.lastIndex+=1;continue}s.push({start:d,end:k,highlight:!0})}return s},[]);t=t.sort((s,a)=>s.start-a.start).reduce((s,a)=>{const n=s[s.length-1];if(!n||a.start>n.end){const o=n?n.end:0,d=a.start;o!==d&&s.push({start:o,end:d,highlight:!1}),s.push(a)}else n.end=Math.max(n.end,a.end);return s},[]);const i=t[t.length-1];return i||t.push({start:0,end:l.length,highlight:!1}),i&&i.end<l.length&&t.push({start:i.end,end:l.length,highlight:!1}),t}const B={name:"PressHighlightWeb",options:{...C,styleIsolation:"shared"},props:{...H,...$},data(){return{}},computed:{highlightChunks(){const{autoEscape:e,caseSensitive:r,keywords:h,sourceString:l}=this;return K({autoEscape:e,caseSensitive:r,keywords:h,sourceString:l})}}};function N(e,r,h,l,p,f){return u(),y(_(e.tag),{class:"press-highlight"},{default:c(()=>[(u(!0),S(v,null,b(f.highlightChunks,(t,i)=>(u(),y(_(t.highlight?e.highlightTag:e.unhighlightTag),{key:i,class:P(t.highlight?`press-highlight__tag ${e.highlightClass}`:e.unhighlightClass)},{default:c(()=>[T(I(e.sourceString.slice(t.start,t.end)),1)]),_:2},1032,["class"]))),128))]),_:1})}const W=w(B,[["render",N],["__scopeId","data-v-c365c636"]]),A={name:"PressHighlight",options:{...C,styleIsolation:"shared"},components:{PressHighlightWeb:W},props:{...H,...$},data(){return{}},computed:{},mounted(){},methods:{}};function L(e,r,h,l,p,f){const t=m("PressHighlightWeb");return u(),y(t,{"source-string":e.sourceString,keywords:e.keywords,"auto-escape":e.autoEscape,"case-sensitive":e.caseSensitive,tag:e.tag,"highlight-tag":e.highlightTag,"unhighlight-tag":e.unhighlightTag,"highlight-class":e.highlightClass,"unhighlight-class":e.unhighlightClass},null,8,["source-string","keywords","auto-escape","case-sensitive","tag","highlight-tag","unhighlight-tag","highlight-class","unhighlight-class"])}const q=w(A,[["render",L]]),z={i18n:{"zh-CN":{text1:"慢慢来，不要急，生活给你出了难题，可也终有一天会给出答案。",keywords1:"难题",keywords2:["难题","终有一天","答案"],keywords3:"生活",multipleKeywords:"多字符匹配",highlightClass:"设置高亮标签类名"},"en-US":{text1:"Take your time and be patient. Life itself will eventually answer all those questions it once raised for you.",keywords1:"questions",keywords2:["time","life","answer"],keywords3:"life",multipleKeywords:"Multiple Keywords",highlightClass:"Highlight Class Name"}},components:{PressHighlight:q},data(){return{}},methods:{}},D={class:"demo-wrap"};function F(e,r,h,l,p,f){const t=m("PressHighlight"),i=m("demo-block");return u(),S("div",D,[g(i,{title:e.t("basicUsage")},{default:c(()=>[g(t,{keywords:e.t("keywords1"),"source-string":e.t("text1")},null,8,["keywords","source-string"])]),_:1},8,["title"]),g(i,{title:e.t("multipleKeywords")},{default:c(()=>[g(t,{keywords:e.t("keywords2"),"source-string":e.t("text1")},null,8,["keywords","source-string"])]),_:1},8,["title"]),g(i,{title:e.t("highlightClass")},{default:c(()=>[g(t,{keywords:e.t("keywords3"),"source-string":e.t("text1"),"highlight-class":"custom-class"},null,8,["keywords","source-string"])]),_:1},8,["title"])])}const M=w(z,[["render",F],["__scopeId","data-v-4212bb6b"]]);export{M as default};
