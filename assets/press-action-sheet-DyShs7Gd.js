import{_ as v,y as _,C as P,a2 as b,a3 as I,z as S,I as O,r as u,o as a,b as g,l as B,c as l,J as f,t as i,f as A,d as c,F as p,v as T,m as U,n as w,i as z,a as h,p as G,e as N}from"./index-BDdv8HSf.js";import{P as L}from"./press-popup-plus-CJ8zzkJc.js";const F={name:"PressActionSheet",options:{..._,styleIsolation:"shared"},components:{PressIconPlus:P,PressPopup:L,PressLoading:b},mixins:[I],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...S},emits:["select","close","cancel","click-overlay","getuserinfo"],data(){return{}},methods:{getActionClass(e){return`${O.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`},getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&e.openType==="getUserInfo"?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:o}=this;e&&(this.$emit("select",e),s&&this.onClose(),e.openType==="getUserInfo"&&o&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:m=>{this.$emit("getuserinfo",m)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},E=e=>(G("data-v-6ec7c4a8"),e=e(),N(),e),M={key:0,class:"press-action-sheet__header"},V={key:1,class:"press-action-sheet__description press-hairline--bottom"},D={key:2},J=["open-type","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick"],j={key:0,class:"press-action-sheet__subname"},q=E(()=>h("div",{class:"press-action-sheet__gap"},null,-1));function H(e,s,o,m,K,r){const y=u("press-icon-plus"),C=u("press-loading"),k=u("press-popup");return a(),g(k,{show:o.show,position:"bottom",round:o.round,"z-index":o.zIndex,overlay:o.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":o.safeAreaInsetBottom,"close-on-click-overlay":o.closeOnClickOverlay,onClose:r.onClickOverlay},{default:B(()=>[o.title?(a(),l("div",M,[f(i(o.title)+" ",1),A(y,{name:"cross","custom-class":"press-action-sheet__close",onClick:r.onClose},null,8,["onClick"])])):c("",!0),o.description?(a(),l("div",V,i(o.description),1)):c("",!0),o.actions&&o.actions.length?(a(),l("div",D,[(a(!0),l(p,null,T(o.actions,(n,d)=>(a(),l("button",{key:d,"open-type":r.getOpenType(n),style:U(n.color?"color: "+n.color:""),class:w(r.getActionClass(n)),"hover-class":"press-action-sheet__item--hover","data-index":d,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>r.onFakeSelect(n,d),onGetuserinfo:s[0]||(s[0]=(...t)=>e.onGetUserInfo&&e.onGetUserInfo(...t)),onContact:s[1]||(s[1]=(...t)=>e.onContact&&e.onContact(...t)),onGetphonenumber:s[2]||(s[2]=(...t)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...t)),onError:s[3]||(s[3]=(...t)=>e.onError&&e.onError(...t)),onLaunchapp:s[4]||(s[4]=(...t)=>e.onLaunchApp&&e.onLaunchApp(...t)),onOpensetting:s[5]||(s[5]=(...t)=>e.onOpenSetting&&e.onOpenSetting(...t))},[n.loading?(a(),g(C,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(a(),l(p,{key:0},[f(i(n.name)+" ",1),n.subname?(a(),l("div",j,i(n.subname),1)):c("",!0)],64))],46,J))),128))])):c("",!0),z(e.$slots,"default",{},void 0,!0),o.cancelText?(a(),l(p,{key:3},[q,h("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:s[6]||(s[6]=(...n)=>r.onCancel&&r.onCancel(...n))},i(o.cancelText),1)],64)):c("",!0)]),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}const W=v(F,[["render",H],["__scopeId","data-v-6ec7c4a8"]]);export{W as P};
