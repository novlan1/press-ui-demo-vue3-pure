import{P as v}from"./press-icon-plus-Dyy2g7WH.js";import{P}from"./press-popup-plus-hfe8ow73.js";import{P as _}from"./press-loading-plus-Bxq1XSi0.js";import{b}from"./button-DBxD__BH.js";import{d as I,a as S}from"./press-component-C_abQ9Ny.js";import{u as O}from"./utils-RS8Gkmf-.js";import{_ as B,r as p,o as a,b as f,l as A,c as r,C as g,t as i,f as T,d as c,F as u,B as U,m as w,n as G,i as N,a as h,p as z,e as L}from"./index-CE2ZXbHd.js";const F={name:"PressActionSheet",options:{...I,styleIsolation:"shared"},components:{PressIconPlus:v,PressPopup:P,PressLoading:_},mixins:[b],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...S},emits:["select","close","cancel","click-overlay","getuserinfo"],data(){return{}},methods:{getActionClass(e){return`${O.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`},getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&e.openType==="getUserInfo"?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:o}=this;e&&(this.$emit("select",e),s&&this.onClose(),e.openType==="getUserInfo"&&o&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:m=>{this.$emit("getuserinfo",m)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},E=e=>(z("data-v-6ec7c4a8"),e=e(),L(),e),M={key:0,class:"press-action-sheet__header"},V={key:1,class:"press-action-sheet__description press-hairline--bottom"},D={key:2},j=["open-type","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick"],q={key:0,class:"press-action-sheet__subname"},H=E(()=>h("div",{class:"press-action-sheet__gap"},null,-1));function J(e,s,o,m,K,l){const y=p("press-icon-plus"),C=p("press-loading"),k=p("press-popup");return a(),f(k,{show:o.show,position:"bottom",round:o.round,"z-index":o.zIndex,overlay:o.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":o.safeAreaInsetBottom,"close-on-click-overlay":o.closeOnClickOverlay,onClose:l.onClickOverlay},{default:A(()=>[o.title?(a(),r("div",M,[g(i(o.title)+" ",1),T(y,{name:"cross","custom-class":"press-action-sheet__close",onClick:l.onClose},null,8,["onClick"])])):c("",!0),o.description?(a(),r("div",V,i(o.description),1)):c("",!0),o.actions&&o.actions.length?(a(),r("div",D,[(a(!0),r(u,null,U(o.actions,(n,d)=>(a(),r("button",{key:d,"open-type":l.getOpenType(n),style:w(n.color?"color: "+n.color:""),class:G(l.getActionClass(n)),"hover-class":"press-action-sheet__item--hover","data-index":d,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>l.onFakeSelect(n,d),onGetuserinfo:s[0]||(s[0]=(...t)=>e.onGetUserInfo&&e.onGetUserInfo(...t)),onContact:s[1]||(s[1]=(...t)=>e.onContact&&e.onContact(...t)),onGetphonenumber:s[2]||(s[2]=(...t)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...t)),onError:s[3]||(s[3]=(...t)=>e.onError&&e.onError(...t)),onLaunchapp:s[4]||(s[4]=(...t)=>e.onLaunchApp&&e.onLaunchApp(...t)),onOpensetting:s[5]||(s[5]=(...t)=>e.onOpenSetting&&e.onOpenSetting(...t))},[n.loading?(a(),f(C,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(a(),r(u,{key:0},[g(i(n.name)+" ",1),n.subname?(a(),r("div",q,i(n.subname),1)):c("",!0)],64))],46,j))),128))])):c("",!0),N(e.$slots,"default",{},void 0,!0),o.cancelText?(a(),r(u,{key:3},[H,h("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:s[6]||(s[6]=(...n)=>l.onCancel&&l.onCancel(...n))},i(o.cancelText),1)],64)):c("",!0)]),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}const $=B(F,[["render",J],["__scopeId","data-v-6ec7c4a8"]]);export{$ as P};
