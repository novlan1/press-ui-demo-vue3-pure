import{P as w}from"./press-button-CU9PqmxY.js";import{P as S}from"./press-field-BF_ZO5kN.js";import{t as f}from"./index-CHC6BFDw.js";import{t as _}from"./function-DQ-N3A6u.js";import{g as P}from"./dialog-mixin-CfZcTFQu.js";import{_ as L,r as c,o as a,c as s,a as d,t as r,b as u,d as i,w as h,F as T,f as C,n as g,u as p,v as I}from"./index-DU6LSpJC.js";const y={show:{type:Boolean,default:!1},src:{type:String,default:""},dialogType:{type:[Number,String],default:1},title:{type:String,default:f("dialog.title")},content:{type:String,default:""},canTouchRemove:{type:Boolean,default:!0},confirmText:{type:String,default:f("confirm")},cancelText:{type:String,default:""},onClickCancel:{type:[Function,null],default:null},onConfirmClick:{type:[Function,null],default:null},htmlContent:{type:String,default:""},zIndex:{type:[Number,String],default:"99"},useScrollView:{type:Boolean,default:!1},onClickImage:{type:[Function,null],default:null},onLongPressImage:{type:[Function,null],default:null},showField:{type:Boolean,default:!1},fieldPlaceHolder:{type:String,default:""},fieldValue:{type:String,default:""}},B={name:"PressDialog",components:{PressButton:w,PressField:S},mixins:[P(y)],props:{...y},options:{virtualHost:!0,styleIsolation:"shared"},emits:["confirm","cancel","onLongPressImage","onClickImage"],data(){return{resolve:"",reject:"",promise:"",mShowButtonLoading:!1,inputValue:""}},watch:{dataFieldValue:{handler(e){this.inputValue=e},immediate:!0}},mounted(){},methods:{preventTouchMove(){},confirm(){if(this.dataDialogType===2){if(this.mShowButtonLoading)return;this.mShowButtonLoading=!0}typeof this.dataOnConfirmClick=="function"?_(this.dataOnConfirmClick(this)).then(e=>{e&&this.resolveConfirm()}).catch(()=>{}):this.resolveConfirm()},resolveConfirm(){this.resolve&&this.resolve("confirm"),this.$emit("confirm"),this.remove()},cancel(){typeof this.dataOnClickCancel=="function"&&this.dataOnClickCancel(this),typeof this.reject=="function"&&this.reject("cancel"),this.$emit("cancel"),this.remove()},showDialog(){return this.dataShow=!0,this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o}),this.promise},touchRemove(){this.dataCanTouchRemove&&this.remove(),this.$emit("cancel")},remove(){this.dataShow=!1,this.mShowButtonLoading=!1},destroy(){},handleLongPressImage(){typeof this.dataOnLongPressImage=="function"&&this.dataOnLongPressImage(),this.$emit("onLongPressImage")},handleClickImage(){typeof this.dataOnClickImage=="function"&&this.dataOnClickImage(),this.$emit("onClickImage")},onChangeField(e){this.inputValue=e}}},F={class:"press-dialog__content-wrap"},V={class:"press-dialog__title"},H=["innerHTML"],b={key:2,class:"press-dialog__content"},M={key:4,class:"press-dialog__img-wrap"},O=["src"],D={class:"press-dialog__btn--wrap"},N={class:"press-dialog__btn--spacing"};function R(e,o,j,z,l,t){const v=c("scroll-view"),k=c("PressField"),m=c("PressButton");return e.dataShow?(a(),s("div",{key:0,class:"press-dialog",style:I({zIndex:`${e.dataZIndex}`}),onClick:o[2]||(o[2]=h((...n)=>t.touchRemove&&t.touchRemove(...n),["stop"])),onTouchmove:o[3]||(o[3]=h((...n)=>t.preventTouchMove&&t.preventTouchMove(...n),["stop"]))},[d("div",F,[d("p",V,r(e.dataTitle),1),e.dataUseScrollView&&e.dataHtmlContent?(a(),u(v,{key:0,"scroll-y":"true",class:"press-dialog__content",innerHTML:e.dataHtmlContent},null,8,["innerHTML"])):e.dataHtmlContent?(a(),s("p",{key:1,class:"press-dialog__content",innerHTML:e.dataHtmlContent},null,8,H)):i("",!0),e.dataHtmlContent?i("",!0):(a(),s("p",b,r(e.dataContent),1)),e.dataShowField?(a(),u(k,{key:3,"custom-class":"press-dialog__field","title-width":"0",placeholder:e.dataFieldPlaceHolder,value:e.dataFieldValue,"model-value":e.dataFieldValue,onChange:t.onChangeField},null,8,["placeholder","value","model-value","onChange"])):i("",!0),e.dataSrc?(a(),s("div",M,[e.dataSrc?(a(),s("img",{key:0,class:"press-dialog__img","show-menu-by-longpress":!0,src:e.dataSrc,onClick:o[0]||(o[0]=h((...n)=>t.handleClickImage&&t.handleClickImage(...n),["stop"])),onLongpress:o[1]||(o[1]=(...n)=>t.handleLongPressImage&&t.handleLongPressImage(...n))},null,40,O)):i("",!0)])):i("",!0),d("div",D,[e.dataCancelText&&e.dataCancelText.length>0?(a(),s(T,{key:0},[d("div",N,[C(m,{type:"e-sport-secondary","custom-style":"width: 100px;height: 36px;",onClick:t.cancel},{default:g(()=>[p(r(e.dataCancelText),1)]),_:1},8,["onClick"])]),C(m,{type:"e-sport-primary-bg",loading:l.mShowButtonLoading,"custom-style":"width: 100px;height: 36px;",onClick:t.confirm},{default:g(()=>[p(r(l.mShowButtonLoading?"":e.dataConfirmText),1)]),_:1},8,["loading","onClick"])],64)):e.dataConfirmText||l.mShowButtonLoading?(a(),u(m,{key:1,type:"e-sport-primary-bg",loading:l.mShowButtonLoading,"custom-style":"width: 148px;height: 36px;",onClick:t.confirm},{default:g(()=>[p(r(l.mShowButtonLoading?"":e.dataConfirmText),1)]),_:1},8,["loading","onClick"])):i("",!0)])])],36)):i("",!0)}const G=L(B,[["render",R],["__scopeId","data-v-91d7bf90"]]);export{G as P,y as d};
