import{P as S}from"./press-icon-plus-BKnDNWlW.js";import{P as A,a as N}from"./press-sidebar-item-CSWyMx3k.js";import{d as M,a as w}from"./press-component-Cv9kTz4A.js";import{u as _}from"./utils-6Uv3ickc.js";import{_ as k,r as o,o as l,c as h,f as n,l as d,F as x,y as f,b as I,i as P,n as y,A as B,t as D,d as b,m as z,a as G}from"./index-4prF5mFA.js";import{P as O}from"./press-image-CZnARXEl.js";import"./style-CpIyAjCl.js";import"./add-unit-CSy-4COV.js";import"./press-info-zFc1oCW_.js";import"./relation-Ce8eT7mn.js";import"./parent-map-_1jD1UtF.js";import"./press-transition-CMc4Nm8g.js";import"./system-DmiJ0d78.js";function p(e,t){return Array.isArray(e)?e.indexOf(t)>-1:e===t}const T={name:"PressTreeSelect",options:{...M,styleIsolation:"shared"},components:{PressIconPlus:S,PressSidebar:A,PressSidebarItem:N},props:{items:{type:Array,default:()=>[]},activeId:{type:[Number,String,Array],default:""},mainActiveIndex:{type:[Number,String,Array],default:0},height:{type:[Number,String],default:300},max:{type:[Number,String],default:1/0},selectedIcon:{type:String,default:"success"},mainItemClass:{type:String,default:""},mainActiveClass:{type:String,default:""},mainDisabledClass:{type:String,default:""},contentItemClass:{type:String,default:""},contentActiveClass:{type:String,default:""},contentDisabledClass:{type:String,default:""},...w},emits:["click-item","click-nav"],data(){return{subItems:[],utils:_,isActive:p}},computed:{selectedIconClass(){return"press-tree-select__selected"},selectedIconCustomClass(){return""}},watch:{items:{handler(){this.updateSubItems()}},mainActiveIndex:{handler(){this.updateSubItems()}}},mounted(){this.updateSubItems()},methods:{treeSelectItemClass(e){const{activeId:t,contentItemClass:s,contentActiveClass:u,contentDisabledClass:i}=this;return`press-ellipsis ${s} ${_.bem2("tree-select__item",{active:p(t,e.id),disabled:e.disabled})} ${p(t,e.id)?u:""} ${e.disabled?i:""}`},onSelectItem(e){const t=Array.isArray(this.activeId),s=t&&this.activeId.length>=this.max,u=t?this.activeId.indexOf(e.id)>-1:this.activeId===e.id;!e.disabled&&(!s||u)&&this.$emit("click-item",e)},onClickNav(e){this.items[e].disabled||this.$emit("click-nav",+e)},updateSubItems(){const{items:e,mainActiveIndex:t}=this,{children:s=[]}=e[t]||{};this.subItems=s}}},V=["onClick"];function q(e,t,s,u,i,a){const r=o("press-sidebar-item"),m=o("press-sidebar"),v=o("scroll-view"),g=o("press-icon-plus");return l(),h("div",{class:"press-tree-select",style:z("height: "+i.utils.addUnit(s.height))},[n(v,{"scroll-y":"",class:"press-tree-select__nav"},{default:d(()=>[n(m,{"active-key":s.mainActiveIndex,"custom-class":"press-tree-select__nav__inner",onChange:a.onClickNav},{default:d(()=>[(l(!0),h(x,null,f(s.items,(c,C)=>(l(),I(r,{key:C,"custom-class":s.mainItemClass,"active-class":s.mainActiveClass,"disabled-class":s.mainDisabledClass,badge:c.badge,dot:c.dot,title:c.text,disabled:c.disabled},null,8,["custom-class","active-class","disabled-class","badge","dot","title","disabled"]))),128))]),_:1},8,["active-key","onChange"])]),_:1}),n(v,{"scroll-y":"",class:"press-tree-select__content"},{default:d(()=>[P(e.$slots,"content",{},void 0,!0),(l(!0),h(x,null,f(i.subItems,c=>(l(),h("div",{key:c.id,class:y([a.treeSelectItemClass(c)]),onClick:C=>a.onSelectItem(c)},[B(D(c.text)+" ",1),i.isActive(s.activeId,c.id)?(l(),I(g,{key:0,name:s.selectedIcon,size:"16px",class:y([a.selectedIconClass]),"custom-class":a.selectedIconCustomClass},null,8,["name","class","custom-class"])):b("",!0)],10,V))),128))]),_:3})],4)}const F=k(T,[["render",q],["__scopeId","data-v-f04d9913"]]),U=[{text:"浙江",children:[{text:"杭州",id:1},{text:"温州",id:2},{text:"宁波",id:3,disabled:!0},{text:"义乌",id:4}]},{text:"江苏",children:[{text:"南京",id:5},{text:"无锡",id:6},{text:"徐州",id:7},{text:"苏州",id:8}]},{text:"福建",disabled:!0,children:[{text:"泉州",id:9},{text:"厦门",id:10}]}],j=[{text:"Group 1",children:[{text:"Delaware",id:1},{text:"Florida",id:2},{text:"Georqia",id:3,disabled:!0},{text:"Indiana",id:4}]},{text:"Group 2",children:[{text:"Alabama",id:5},{text:"Kansas",id:6},{text:"Louisiana",id:7},{text:"Texas",id:8}]},{text:"Group 3",disabled:!0,children:[{text:"Alabama",id:9},{text:"Kansas",id:10}]}],K={i18n:{"zh-CN":{showBadge:"徽标提示",radioMode:"单选模式",multipleMode:"多选模式",customContent:"自定义内容",data:U,dataSimple:[{text:"分组 1"},{text:"分组 2"}]},"en-US":{showBadge:"Show Badge",radioMode:"Radio Mode",multipleMode:"Multiple Mode",customContent:"Custom Content",data:j,dataSimple:[{text:"Group 1"},{text:"Group 2"}]}},components:{PressTreeSelect:F,PressImage:O},data(){return{mainActiveIndex:1,mainActiveIndexMulti:0,activeId:null,activeIdMulti:[],sectionStyle:"margin: 0;"}},computed:{items(){return this.t("data")},badgeItems(){return this.items.slice(0,2).map((e,t)=>t===0?{...e,dot:!0}:t===1?{...e,badge:5}:e)}},methods:{onClickNav(e){this.mainActiveIndex=e||0},onClickItem(e){console.log("[detail]",e);const t=this.activeId===e.id?null:e.id;this.activeId=t},onClickItemMulti(e){const{activeIdMulti:t}=this,s=t.indexOf(e.id);s>-1?t.splice(s,1):t.push(e.id),this.activeIdMulti=t},onClickNavMulti(e){this.mainActiveIndexMulti=e||0}}},E={class:"demo-wrap"},R={slot:"content",style:{width:"100%",height:"100%"}};function H(e,t,s,u,i,a){const r=o("press-tree-select"),m=o("demo-block"),v=o("press-image");return l(),h("div",E,[n(m,{title:e.t("radioMode"),"section-style":i.sectionStyle},{default:d(()=>[n(r,{items:a.items,"main-active-index":i.mainActiveIndex,"active-id":i.activeId,onClickNav:a.onClickNav,onClickItem:a.onClickItem},null,8,["items","main-active-index","active-id","onClickNav","onClickItem"])]),_:1},8,["title","section-style"]),n(m,{title:e.t("multipleMode"),"section-style":i.sectionStyle},{default:d(()=>[n(r,{max:2,items:a.items,"main-active-index":i.mainActiveIndexMulti,"active-id":i.activeIdMulti,onClickNav:a.onClickNavMulti,onClickItem:a.onClickItemMulti},null,8,["items","main-active-index","active-id","onClickNav","onClickItem"])]),_:1},8,["title","section-style"]),n(m,{title:e.t("customContent"),"section-style":i.sectionStyle},{default:d(()=>[n(r,{items:e.t("dataSimple"),"main-active-index":i.mainActiveIndex,height:"55vw","active-id":i.activeId,onClickNav:a.onClickNav,onClickItem:a.onClickItem},{default:d(()=>[G("div",R,[i.mainActiveIndex==0?(l(),I(v,{key:0,src:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_9f901ce42e18990883.jpeg",width:"100%",height:"100%","transition-style":"width: 100%;height: 100%;"})):i.mainActiveIndex==1?(l(),I(v,{key:1,src:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_8f25b9e2e75f6754ad.jpeg",width:"100%",height:"100%","transition-style":"width: 100%;height: 100%;"})):b("",!0)])]),_:1},8,["items","main-active-index","active-id","onClickNav","onClickItem"])]),_:1},8,["title","section-style"]),n(m,{title:e.t("showBadge"),"section-style":i.sectionStyle},{default:d(()=>[n(r,{items:a.badgeItems,"main-active-index":i.mainActiveIndex,"active-id":i.activeId,onClickNav:a.onClickNav,onClickItem:a.onClickItem},null,8,["items","main-active-index","active-id","onClickNav","onClickItem"])]),_:1},8,["title","section-style"])])}const ne=k(K,[["render",H]]);export{ne as default};
