import{h as g,I as $}from"./add-unit-CSy-4COV.js";import{p as v}from"./component-handler-Dmd86UOo.js";function y(a){return document.body.contains(a)}function b({defaultOptions:a,component:d}){var p;let u={},n=[],l=!1,i={...a};const m=((p=a.selector)==null?void 0:p.slice(1))||"component-default-id";function C({multiple:e,component:t,dialogId:o}){var h;if($)return{};if(n=n.filter(r=>!r.$el.parentNode||y(r.$el)),!n.length||e){const r=document.getElementById(o);r!=null&&r.parentElement&&r.parentElement.removeChild(r);const f=document.createElement("div");f.id=o,document.body.appendChild(f);const s=g(f,t);(h=s==null?void 0:s.$on)==null||h.call(s,"input",E=>{s.value=E}),n.push(s)}return n[n.length-1]}function c(e={duration:0}){const t=C({multiple:l,component:d,dialogId:m});return e=v(e),e={...i,...u[e.type||i.type],...e},c.getOptions=()=>e,t.clear=()=>{t.setData({show:!1}),e.onClose&&e.onClose(),n=n.filter(o=>o!==t),setTimeout(()=>{document.body.contains(t.$el)&&t.$el&&t.$el.parentNode.removeChild(t.$el)},e.animationDuration||0)},t.set=(...o)=>{typeof t.$set=="function"?t.$set(t,...o):t[o[0]]=o[1]},t.setData(e),clearTimeout(t.timer),t.setData({show:!0}),e.duration>0&&(t.timer=setTimeout(()=>{t.clear()},e.duration)),t}return c.clear=e=>{n.length&&(e?(n.forEach(t=>{t.clear()}),n=[]):l?n.shift().clear():n[0].clear())},c.setDefaultOptions=(e,t)=>{typeof e=="string"?u[e]=t:Object.assign(i,e)},c.resetDefaultOptions=e=>{typeof e=="string"?u[e]=null:(i={...a},u={})},c.allowMultiple=(e=!0)=>{l=e},c.install=()=>{},c}function O(a,d,u={}){const n=d,l=document.getElementById(n);l!=null&&l.parentNode&&l.parentNode.removeChild(l);const i=document.createElement("div");return i.id=n,document.body.appendChild(i),g(i,a,u)}export{b as g,O as i};
