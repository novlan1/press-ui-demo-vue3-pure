import{P as y}from"./press-q-r-code-Cr7Eldcz.js";import{_ as h,r as i,o as m,c as g,a as o,x as r,w as u,t as d,d as k,f as C,n as A,b as w}from"./index-BapbWgDO.js";const f="press__";function P(l){return l.reduce((c,s)=>(Array.isArray(s)?c.push(...s):c.push(s),c),[]).reduce((c,s)=>(typeof s=="string"?c.push(s):typeof s=="object"&&Object.keys(s).map(e=>{s[e]&&c.push(e)}),c),[])}function b(l,t,p){const c=P(p),s=c.map(a=>a&&t[a]||""),e=c.map(a=>{const n=new RegExp(`^${f}`);return a?n.test(a)?a:`${f}${a}`:""});return l?[...e,...s].join(" "):e.join(" ")}const v={popup:"tip-match-bottom-popup-wrap",mask:"tip-match-mask","mask--fade-in":"tip-match-fade-in","mask--fade-out":"tip-match-fade-out",content:"tip-match-popup-content","content--bottom-enter":"tip-match-bottom-enter","content--bottom-leave":"tip-match-bottom-leave","title-wrap":"tip-match-popup-title-wrap","title-line":"tip-match-popup-title-line",back:"tip-match-popup-back",title:"tip-match-popup-title",close:"tip-match-popup-close","qr-code":"tip-match-wx-code",save:"tip-match-code-save",tip:"tip-match-code-tip"};function S(l,t){return b(l,v,t)}const R={name:"PressQRCodePopup",components:{PressQRCode:y},props:{qrCodeUrl:{type:String,default:"",require:!0},type:{type:Number,default:2,require:!1},title:{type:String,default:""},description:{type:String,default:"截图或长按保存图片"},tip:{type:String,default:""},useTipClass:{type:Boolean,default:!1}},emits:["onCancel"],data(){return{isShowPopup:!0}},computed:{typeName(){return this.type===1?"QQ":"微信"},innerTitle(){const{typeName:l,title:t}=this;return t||`请使用${l}扫码打开活动`},innerTip(){const{typeName:l,tip:t}=this;return t||`使用${l}扫码打开访问页面`}},methods:{clickCancel(){this.isShowPopup=!1,this.timer=setTimeout(()=>{this.$emit("onCancel")},400)},getActClass(...l){return S(this.useTipClass,l)}}};function q(l,t,p,c,s,e){const a=i("PressQRCode");return m(),g("div",{class:r([e.getActClass("popup")])},[o("div",{class:r([e.getActClass("mask"),s.isShowPopup?e.getActClass("mask--fade-in"):e.getActClass("mask--fade-out")]),onClick:t[0]||(t[0]=u((...n)=>e.clickCancel&&e.clickCancel(...n),["stop"]))},null,2),o("div",{class:r([e.getActClass("content"),s.isShowPopup?e.getActClass("content--bottom-enter"):e.getActClass("content--bottom-leave")])},[o("div",{class:r([e.getActClass("title-wrap")])},[o("div",{class:r([e.getActClass("title-line")]),onClick:t[1]||(t[1]=u((...n)=>e.clickCancel&&e.clickCancel(...n),["stop"]))},null,2),o("div",{class:r([e.getActClass("back")]),onClick:t[2]||(t[2]=u((...n)=>e.clickCancel&&e.clickCancel(...n),["stop"]))},null,2),o("p",{class:r([e.getActClass("title")])},d(e.innerTitle),3),k("",!0)],2),C(a,{value:p.qrCodeUrl,size:120,class:r([e.getActClass("qr-code")])},null,8,["value","class"]),o("p",{class:r([e.getActClass("save")])},d(p.description),3),o("p",{class:r([e.getActClass("tip")])},d(e.innerTip),3)],2)],2)}const Q=h(R,[["render",q],["__scopeId","data-v-50af5632"]]),T={components:{PressQRCodePopup:Q},data(){let l="https://baidu.com",t=!1;return l=document.location.href,t=!0,{currentUrl:l,show:t,type:1}},methods:{showDialog(){this.show=!0}}},x={class:"demo-wrap"};function N(l,t,p,c,s,e){const a=i("press-cell"),n=i("demo-block"),_=i("PressQRCodePopup");return m(),g("div",x,[C(n,{title:l.t("basicUsage")},{default:A(()=>[C(a,{title:"展示","is-link":"",onClick:e.showDialog},null,8,["onClick"])]),_:1},8,["title"]),s.show?(m(),w(_,{key:0,"qr-code-url":s.currentUrl,type:s.type,onOnCancel:t[0]||(t[0]=B=>s.show=!1)},null,8,["qr-code-url","type"])):k("",!0)])}const D=h(T,[["render",N]]);export{D as default};
