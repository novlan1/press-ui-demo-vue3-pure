import{_,k as p,aj as P,v as B,l as S,G as k,r as g,c as v,o as f,b as u,d as N,e as s,F as T,A as b,B as o,n as I,U as x,a as F,h as t,H as c,t as r}from"./index-B31x8O_-.js";import{C as z,k as C,a as A}from"./relation-DncSzthF.js";import{g as w}from"./rect-ov0Eb-t5.js";const E={name:"PressTabbarItem",options:{...S,styleIsolation:"shared"},components:{PressIcon:B,PressInfo:P},mixins:[z(C)],props:{info:{type:[String,Number],default:""},name:{type:[String,Number],default:""},icon:{type:String,default:""},dot:Boolean,iconPrefix:{type:String,default:"press-icon"},...p},emits:["click"],data(){return{utils:k,active:!1,activeColor:"",inactiveColor:""}},mounted(){this.updateFromParent()},methods:{setData(e){Object.keys(e).forEach(d=>{this[d]=e[d]})},onClick(){const e=this[C];if(e){const d=e.children.indexOf(this),n=this.name||d;n!==this.active&&e.$emit("change",n)}this.$emit("click")},updateFromParent(){const e=this[C];if(!e)return;const d=e.children.indexOf(this),n=e,y=(this.name||d)===n.active,a={};y!==this.active&&(a.active=y),n.activeColor!==this.activeColor&&(a.activeColor=n.activeColor),n.inactiveColor!==this.inactiveColor&&(a.inactiveColor=n.inactiveColor),Object.keys(a).length>0&&this.setData(a)}}},D={class:"press-tabbar-item-index"},O={class:"press-tabbar-item__icon"},H={class:"press-tabbar-item__text"};function V(e,d,n,y,a,i){const l=g("PressIcon"),m=g("PressInfo");return f(),v("div",D,[u("div",{class:I([a.utils.bem2("tabbar-item",{active:a.active}),e.customClass]),style:o("color: "+(a.active?a.activeColor:a.inactiveColor)),onClick:d[0]||(d[0]=(...h)=>i.onClick&&i.onClick(...h))},[u("div",O,[n.icon?(f(),N(l,{key:0,name:n.icon,"class-prefix":n.iconPrefix,"custom-class":"press-tabbar-item__icon__inner"},null,8,["name","class-prefix"])):(f(),v(T,{key:1},[a.active?b(e.$slots,"icon-active",{key:0},void 0,!0):b(e.$slots,"icon",{key:1},void 0,!0)],64)),s(m,{dot:n.dot,info:n.info,"custom-class":"press-tabbar-item__info"},null,8,["dot","info"])]),u("div",H,[b(e.$slots,"default",{},void 0,!0)])],6)])}const j=_(E,[["render",V],["__scopeId","data-v-db89efb3"]]),M={name:"PressTabbar",options:{...S,styleIsolation:"shared"},mixins:[A(C)],props:{active:{type:[String,Number],default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},fixed:{type:Boolean,default:!0},placeholder:{type:Boolean},border:{type:Boolean,default:!0},zIndex:{type:Number,default:1},safeAreaInsetBottom:{type:Boolean,default:!0},...p},emits:["change"],data(){return{height:50,utils:k}},watch:{active:{handler(){this.updateChildren()}},activeColor:{handler(){this.updateChildren()}},inactiveColor:{handler(){this.updateChildren()}},fixed:{handler(){this.setHeight()}},placeholder:{handler(){this.setHeight()}}},created(){this.children=[]},methods:{updateChildren(){const{children:e}=this;!Array.isArray(e)||!e.length||e.forEach(d=>d.updateFromParent())},setHeight(){!this.fixed||!this.placeholder||x(()=>{w(this,".press-tabbar").then(e=>{this.height=e.height})})}}};function R(e,d,n,y,a,i){return f(),v("div",null,[u("div",{class:I([n.border?"press-hairline--top-bottom":"",a.utils.bem2("tabbar",{fixed:n.fixed,safe:n.safeAreaInsetBottom}),e.customClass]),style:o(n.zIndex?"z-index: "+n.zIndex:"")},[b(e.$slots,"default",{},void 0,!0)],6),n.fixed&&n.placeholder?(f(),v("div",{key:0,style:o("height: "+a.height+"px;")},null,4)):F("",!0)])}const U=_(M,[["render",R],["__scopeId","data-v-e4894684"]]),q={i18n:{"zh-CN":{badge:"徽标提示",customIcon:"自定义图标",customColor:"自定义颜色",matchByName:"通过名称匹配",switchEvent:"监听切换事件",selectTip:"你切换到了"},"en-US":{badge:"Show Badge",customIcon:"Custom Icon",customColor:"Custom Color",matchByName:"Match by name",switchEvent:"Change Event",selectTip:"You select "}},components:{PressTabbar:U,PressTabbarItem:j},data(){return{active:0,activeName:"home",sectionStyle:"margin: 0;",icon:{normal:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fuser-inactive.png",active:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fuser-active.png"}}},computed:{itemStyle(){return""}},methods:{onChange(e){console.log("val",e),this.active=e},onChangeName(e){console.log("val",e),this.activeName=e},clickItem(){console.log("[clickItem]")}}},G={class:"demo-wrap"},Y=["src"],J=["src"];function K(e,d,n,y,a,i){const l=g("PressTabbarItem"),m=g("PressTabbar"),h=g("demo-block");return f(),v("div",G,[s(h,{title:e.t("basicUsage"),"section-style":a.sectionStyle},{default:t(()=>[s(m,{fixed:!1,active:a.active,"safe-area-inset-bottom":!1,onChange:i.onChange},{default:t(()=>[s(l,{icon:"home-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"search",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"friends-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"setting-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"])]),_:1},8,["active","onChange"])]),_:1},8,["title","section-style"]),s(h,{title:e.t("matchByName"),"section-style":a.sectionStyle},{default:t(()=>[s(m,{active:a.activeName,fixed:!1,"safe-area-inset-bottom":!1,onChange:i.onChangeName},{default:t(()=>[s(l,{icon:"home-o",name:"home",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"search",name:"search",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"friends-o",name:"friends",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"setting-o",name:"setting",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"])]),_:1},8,["active","onChange"])]),_:1},8,["title","section-style"]),s(h,{title:e.t("badge"),"section-style":a.sectionStyle},{default:t(()=>[s(m,{active:a.active,fixed:!1,"safe-area-inset-bottom":!1,onChange:i.onChange},{default:t(()=>[s(l,{icon:"home-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"search",dot:"",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"friends-o",info:"5",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"setting-o",info:"20",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"])]),_:1},8,["active","onChange"])]),_:1},8,["title","section-style"]),s(h,{title:e.t("customIcon"),"section-style":a.sectionStyle},{default:t(()=>[s(m,{fixed:!1,active:a.active,"safe-area-inset-bottom":!1,onChange:i.onChange},{default:t(()=>[s(l,{info:"3",style:o(i.itemStyle)},{icon:t(()=>[u("img",{src:a.icon.normal,mode:"aspectFit",style:{width:"23px",height:"18px"}},null,8,Y)]),"icon-active":t(()=>[u("img",{src:a.icon.active,mode:"aspectFit",style:{width:"23px",height:"18px"}},null,8,J)]),default:t(()=>[c(" "+r(e.t("custom")),1)]),_:1},8,["style"]),s(l,{icon:"search",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"]),s(l,{icon:"setting-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag")),1)]),_:1},8,["style"])]),_:1},8,["active","onChange"])]),_:1},8,["title","section-style"]),s(h,{title:e.t("customColor"),"section-style":a.sectionStyle},{default:t(()=>[s(m,{active:a.active,fixed:!1,"active-color":"#07c160","inactive-color":"#000","safe-area-inset-bottom":!1,onChange:i.onChange},{default:t(()=>[s(l,{icon:"home-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag"))+"A ",1)]),_:1},8,["style"]),s(l,{icon:"search",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag"))+"B ",1)]),_:1},8,["style"]),s(l,{icon:"friends-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag"))+"C ",1)]),_:1},8,["style"]),s(l,{icon:"setting-o",style:o(i.itemStyle)},{default:t(()=>[c(r(e.t("tag"))+"D ",1)]),_:1},8,["style"])]),_:1},8,["active","onChange"])]),_:1},8,["title","section-style"])])}const X=_(q,[["render",K]]);export{X as default};
