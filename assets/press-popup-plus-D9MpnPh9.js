import{P as m}from"./press-icon-plus-5Xj-bw2h.js";import{P as C}from"./press-overlay-Dn84vaie.js";import{t as v}from"./press-transition-DnFvQ8Gf.js";import{s as S,u as h}from"./utils-Do31p4kb.js";import{d as k,a as I}from"./press-component-HD2axD72.js";import{_ as g,r as c,o as l,c as u,b as p,d as a,x as r,v as P,y as _}from"./index-BZexHo5h.js";function b(e){return S([{"z-index":e.zIndex,"-webkit-transition-duration":`${e.currentDuration}ms`,"transition-duration":`${e.currentDuration}ms`},e.display?null:"display: none",e.customStyle])}const B={popupStyle:b},z={name:"PressPopupPlus",options:{...k,styleIsolation:"shared"},components:{PressIconPlus:m,PressOverlay:C},mixins:[v(!1)],props:{enterClass:{type:String,default:""},enterActiveClass:{type:String,default:""},enterToClass:{type:String,default:""},leaveClass:{type:String,default:""},leaveActiveClass:{type:String,default:""},leaveToClass:{type:String,default:""},closeIconClass:{type:String,default:""},round:Boolean,closeable:Boolean,customStyle:{type:String,default:""},overlayStyle:{type:String,default:""},transition:{type:String,default:""},zIndex:{type:Number,default:100},overlay:{type:Boolean,default:!0},closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},closeOnClickOverlay:{type:Boolean,default:!0},position:{type:String,default:"center"},safeAreaInsetBottom:{type:Boolean,default:!0},safeAreaInsetTop:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},...I,wrapClass:{type:String,default:""}},emits:["close","click-overlay","before-enter","enter","after-enter","before-leave","leave","after-leave"],data(){return{classes:""}},computed:{innerWrapClass(){return`press-popup-plus ${this.wrapClass}`},popupClass(){const{position:e,round:s,safeAreaInsetBottom:t,safeAreaInsetTop:n,customClass:i,classes:o}=this;return`${h.bem2("popup",[e,{round:s,safe:t,safeTop:n}])} ${o} ${i}`},popupStyle(){const{zIndex:e,currentDuration:s,display:t,customStyle:n}=this;return B.popupStyle({zIndex:e,currentDuration:s,display:t,customStyle:n})},innerCloseIconClass(){const{closeIconClass:e,closeIconPosition:s}=this;return`press-popup__close-icon press-popup__close-icon--${s} ${e} `},innerCloseIconCustomClass(){return""}},watch:{transition:{handler(){this.observeClass()}},position:{handler(){this.observeClass()}}},created(){this.observeClass()},methods:{setData(e){Object.keys(e).forEach(s=>{this[s]=e[s]})},onClickCloseIcon(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.closeOnClickOverlay&&this.$emit("close")},observeClass(){const{transition:e,position:s,duration:t}=this,n={dataName:e||s};e==="none"?(n.duration=0,this.originDuration=t):this.originDuration!=null&&(n.duration=this.originDuration),this.setData(n)}}};function D(e,s,t,n,i,o){const d=c("press-overlay"),y=c("press-icon-plus");return l(),u("div",{class:r(o.innerWrapClass)},[t.overlay?(l(),p(d,{key:0,show:e.show,"z-index":t.zIndex,"custom-style":t.overlayStyle,duration:e.duration,"lock-scroll":t.lockScroll,onClick:o.onClickOverlay},null,8,["show","z-index","custom-style","duration","lock-scroll","onClick"])):a("",!0),e.inited?(l(),u("div",{key:1,class:r(o.popupClass),style:P(o.popupStyle),onTransitionend:s[0]||(s[0]=(...f)=>e.onTransitionEnd&&e.onTransitionEnd(...f))},[_(e.$slots,"default",{},void 0,!0),t.closeable?(l(),p(y,{key:0,name:t.closeIcon,class:r(o.innerCloseIconClass),"custom-class":o.innerCloseIconCustomClass,onClick:o.onClickCloseIcon},null,8,["name","class","custom-class","onClick"])):a("",!0)],38)):a("",!0)],2)}const N=g(z,[["render",D],["__scopeId","data-v-a2020d95"]]);export{N as P};
