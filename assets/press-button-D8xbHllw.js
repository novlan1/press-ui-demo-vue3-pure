import{P as T}from"./press-icon-plus-Dyy2g7WH.js";import{P as z}from"./press-loading-plus-Bxq1XSi0.js";import{P as I}from"./press-loading-M8LeRCva.js";import{b as _}from"./button-DBxD__BH.js";import{b as v}from"./system-mJD_gOJ2.js";import{u as L}from"./utils-RS8Gkmf-.js";import{s as h}from"./style-CpIyAjCl.js";import{d as w,a as U}from"./press-component-C_abQ9Ny.js";import{_ as O,r as c,o as r,b as g,l as E,c as f,F as b,f as F,t as G,d as S,a as M,i as N,n as j,m as A,w as D}from"./index-CE2ZXbHd.js";const C=["normal","large","small","mini"];function V(e){const o={},{size:s}=e;return s&&(s==="string"&&C.indexOf(s)<=-1?(o.height=s,o.width=s):typeof s=="object"&&(s.height&&(o.height=s.height),s.width&&(o.width=s.width))),o}function q(e){const o=V(e);if(!e.color)return h([o,e.customStyle]);const s={color:e.plain?e.color:"#fff",background:e.plain?null:e.color,...o};return e.color.indexOf("gradient")!==-1?s.border=0:s["border-color"]=e.color,h([s,e.customStyle])}function H(e){return e.plain?e.color?e.color:"#c9c9c9":e.type==="default"?"#c9c9c9":"#fff"}const d={"e-sport-primary":["e-sport-primary"],"e-sport-primary-bg":["e-sport-primary","e-sport-bg"],"e-sport-primary-bg-lg":["e-sport-primary","e-sport-bg","e-sport-bg-lg"],"e-sport-primary-bg-xl":["e-sport-primary","e-sport-bg","e-sport-bg-xl"],"e-sport-secondary":["e-sport-secondary"],"e-sport-border":["e-sport-border"]},P=[_];v()&&P.push("wx://form-field-button");const Z={name:"PressButton",options:{virtualHost:!0,...w,styleIsolation:"shared"},components:{PressIconPlus:T,PressLoadingPlus:z,PressLoading:I},mixins:P,props:{formType:{type:String,default:""},icon:{type:String,default:""},classPrefix:{type:String,default:"press-icon-plus"},plain:Boolean,block:Boolean,round:Boolean,square:Boolean,loading:{type:Boolean,default:!1},hairline:Boolean,disabled:Boolean,loadingText:{type:String,default:""},customStyle:{type:String,default:""},loadingType:{type:String,default:"circular"},type:{type:String,default:"default"},dataset:{type:[Object,null],default:null},size:{type:[String,Object],default:"normal"},loadingSize:{type:String,default:"20px"},color:{type:String,default:""},...U},emits:["click","getuserinfo"],data(){return{baseStyle:""}},computed:{isESportLoading(){return this.loading&&d[this.type]},buttonClass(){const{type:e,size:o,block:s,round:n,plain:a,square:t,loading:i,disabled:l,hairline:p,customClass:u}=this,k=C.indexOf(o)>-1?o:"";let m=[],y=e;if(d[e]&&(m=d[e],y=""),e.indexOf("-disabled")>-1){const B=e.replace("-disabled","");m=[...d[B],"e-sport-disabled"]}return`${u} ${L.bem2("button",[y,k,...m,{block:s,round:n,plain:a,square:t,loading:i,disabled:l,hairline:p,unclickable:l||i}])} ${p?"press-hairline--surround":""}`},buttonStyle(){const{plain:e,color:o,customStyle:s,size:n}=this;return q({plain:e,color:o,customStyle:s,size:n})},loadingColor(){const{type:e,color:o,plain:s}=this;return H({type:e,color:o,plain:s})}},methods:{onFakeClick(e){const{disabled:o,loading:s}=this;o||s||this.onClick(e)},onClick(e){this.$emit("click",e);const{canIUseGetUserProfile:o,openType:s,getUserProfileDesc:n,lang:a}=this;s==="getUserInfo"&&o&&uni.getUserProfile({desc:n||"  ",lang:a||"en",complete:t=>{this.$emit("getuserinfo",t)}})}}},J={key:0,class:"press-button__loading-text"},K={class:"press-button__text"};function Q(e,o,s,n,a,t){const i=c("PressLoading"),l=c("press-loading-plus"),p=c("press-icon-plus"),u=c("Button");return r(),g(u,{id:e.id,"data-detail":s.dataset,class:j(t.buttonClass),"hover-class":["press-button--active",e.hoverClass],lang:e.lang,"form-type":s.formType,style:A(t.buttonStyle),"open-type":s.disabled||s.loading||e.canIUseGetUserProfile&&e.openType==="getUserInfo"?"":e.openType,"business-id":e.businessId,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,"aria-label":e.ariaLabel,onClick:D(t.onFakeClick,["stop"]),onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting,onChooseavatar:e.onChooseAvatar},{default:E(()=>[t.isESportLoading?(r(),g(i,{key:0,"loading-scenes":"btn"})):s.loading?(r(),f(b,{key:1},[F(l,{"custom-class":e.loadingClass,size:s.loadingSize,type:s.loadingType,color:t.loadingColor},null,8,["custom-class","size","type","color"]),s.loadingText?(r(),f("div",J,G(s.loadingText),1)):S("",!0)],64)):(r(),f(b,{key:2},[s.icon?(r(),g(p,{key:0,size:"1.2em",name:s.icon,"class-prefix":s.classPrefix,class:"press-button__icon","custom-style":"line-height: inherit;"},null,8,["name","class-prefix"])):S("",!0),M("div",K,[N(e.$slots,"default",{},void 0,!0)])],64))]),_:3},8,["id","data-detail","class","hover-class","lang","form-type","style","open-type","business-id","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","aria-label","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","onChooseavatar"])}const te=O(Z,[["render",Q],["__scopeId","data-v-c3e1c563"]]);export{te as P};
